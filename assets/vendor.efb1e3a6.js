function nf(t,r){return r.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(l){if(l!=="default"&&!(l in t)){var u=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:function(){return s[l]}})}})}),Object.freeze(t)}function Rs(t,r){const s=Object.create(null),l=t.split(",");for(let u=0;u<l.length;u++)s[l[u]]=!0;return r?u=>!!s[u.toLowerCase()]:u=>!!s[u]}const rf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",of=Rs(rf);function Ql(t){return!!t||t===""}function Ns(t){if(ye(t)){const r={};for(let s=0;s<t.length;s++){const l=t[s],u=yt(l)?lf(l):Ns(l);if(u)for(const h in u)r[h]=u[h]}return r}else{if(yt(t))return t;if(wt(t))return t}}const sf=/;(?![^(]*\))/g,af=/:(.+)/;function lf(t){const r={};return t.split(sf).forEach(s=>{if(s){const l=s.split(af);l.length>1&&(r[l[0].trim()]=l[1].trim())}}),r}function Ms(t){let r="";if(yt(t))r=t;else if(ye(t))for(let s=0;s<t.length;s++){const l=Ms(t[s]);l&&(r+=l+" ")}else if(wt(t))for(const s in t)t[s]&&(r+=s+" ");return r.trim()}function cf(t,r){if(t.length!==r.length)return!1;let s=!0;for(let l=0;s&&l<t.length;l++)s=lr(t[l],r[l]);return s}function lr(t,r){if(t===r)return!0;let s=e1(t),l=e1(r);if(s||l)return s&&l?t.getTime()===r.getTime():!1;if(s=ye(t),l=ye(r),s||l)return s&&l?cf(t,r):!1;if(s=wt(t),l=wt(r),s||l){if(!s||!l)return!1;const u=Object.keys(t).length,h=Object.keys(r).length;if(u!==h)return!1;for(const x in t){const p=t.hasOwnProperty(x),E=r.hasOwnProperty(x);if(p&&!E||!p&&E||!lr(t[x],r[x]))return!1}}return String(t)===String(r)}function Ds(t,r){return t.findIndex(s=>lr(s,r))}const wm=t=>t==null?"":ye(t)||wt(t)&&(t.toString===n1||!Le(t.toString))?JSON.stringify(t,Jl,2):String(t),Jl=(t,r)=>r&&r.__v_isRef?Jl(t,r.value):Ur(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((s,[l,u])=>(s[`${l} =>`]=u,s),{})}:Hr(r)?{[`Set(${r.size})`]:[...r.values()]}:wt(r)&&!ye(r)&&!r1(r)?String(r):r,ot={},kr=[],gn=()=>{},uf=()=>!1,ff=/^on[^a-z]/,go=t=>ff.test(t),Bs=t=>t.startsWith("onUpdate:"),Nt=Object.assign,Ps=(t,r)=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)},hf=Object.prototype.hasOwnProperty,ze=(t,r)=>hf.call(t,r),ye=Array.isArray,Ur=t=>xo(t)==="[object Map]",Hr=t=>xo(t)==="[object Set]",e1=t=>t instanceof Date,Le=t=>typeof t=="function",yt=t=>typeof t=="string",Ls=t=>typeof t=="symbol",wt=t=>t!==null&&typeof t=="object",t1=t=>wt(t)&&Le(t.then)&&Le(t.catch),n1=Object.prototype.toString,xo=t=>n1.call(t),df=t=>xo(t).slice(8,-1),r1=t=>xo(t)==="[object Object]",Fs=t=>yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,po=Rs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wo=t=>{const r=Object.create(null);return s=>r[s]||(r[s]=t(s))},gf=/-(\w)/g,Cn=wo(t=>t.replace(gf,(r,s)=>s?s.toUpperCase():"")),xf=/\B([A-Z])/g,Vr=wo(t=>t.replace(xf,"-$1").toLowerCase()),Eo=wo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ks=wo(t=>t?`on${Eo(t)}`:""),yi=(t,r)=>!Object.is(t,r),Gr=(t,r)=>{for(let s=0;s<t.length;s++)t[s](r)},mo=(t,r,s)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value:s})},bi=t=>{const r=parseFloat(t);return isNaN(r)?t:r};let i1;const pf=()=>i1||(i1=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let cr;const Ao=[];class wf{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&cr&&(this.parent=cr,this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}run(r){if(this.active)try{return this.on(),r()}finally{this.off()}}on(){this.active&&(Ao.push(this),cr=this)}off(){this.active&&(Ao.pop(),cr=Ao[Ao.length-1])}stop(r){if(this.active){if(this.effects.forEach(s=>s.stop()),this.cleanups.forEach(s=>s()),this.scopes&&this.scopes.forEach(s=>s.stop(!0)),this.parent&&!r){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Ef(t,r){r=r||cr,r&&r.active&&r.effects.push(t)}const Us=t=>{const r=new Set(t);return r.w=0,r.n=0,r},o1=t=>(t.w&Hn)>0,s1=t=>(t.n&Hn)>0,mf=({deps:t})=>{if(t.length)for(let r=0;r<t.length;r++)t[r].w|=Hn},Af=t=>{const{deps:r}=t;if(r.length){let s=0;for(let l=0;l<r.length;l++){const u=r[l];o1(u)&&!s1(u)?u.delete(t):r[s++]=u,u.w&=~Hn,u.n&=~Hn}r.length=s}},Hs=new WeakMap;let Ii=0,Hn=1;const Vs=30,Xr=[];let ur;const fr=Symbol(""),Gs=Symbol("");class Xs{constructor(r,s=null,l){this.fn=r,this.scheduler=s,this.active=!0,this.deps=[],Ef(this,l)}run(){if(!this.active)return this.fn();if(!Xr.length||!Xr.includes(this))try{return Xr.push(ur=this),Cf(),Hn=1<<++Ii,Ii<=Vs?mf(this):a1(this),this.fn()}finally{Ii<=Vs&&Af(this),Hn=1<<--Ii,hr(),Xr.pop();const r=Xr.length;ur=r>0?Xr[r-1]:void 0}}stop(){this.active&&(a1(this),this.onStop&&this.onStop(),this.active=!1)}}function a1(t){const{deps:r}=t;if(r.length){for(let s=0;s<r.length;s++)r[s].delete(t);r.length=0}}let Wr=!0;const Ws=[];function jr(){Ws.push(Wr),Wr=!1}function Cf(){Ws.push(Wr),Wr=!0}function hr(){const t=Ws.pop();Wr=t===void 0?!0:t}function Kt(t,r,s){if(!l1())return;let l=Hs.get(t);l||Hs.set(t,l=new Map);let u=l.get(s);u||l.set(s,u=Us()),c1(u)}function l1(){return Wr&&ur!==void 0}function c1(t,r){let s=!1;Ii<=Vs?s1(t)||(t.n|=Hn,s=!o1(t)):s=!t.has(ur),s&&(t.add(ur),ur.deps.push(t))}function vn(t,r,s,l,u,h){const x=Hs.get(t);if(!x)return;let p=[];if(r==="clear")p=[...x.values()];else if(s==="length"&&ye(t))x.forEach((E,C)=>{(C==="length"||C>=l)&&p.push(E)});else switch(s!==void 0&&p.push(x.get(s)),r){case"add":ye(t)?Fs(s)&&p.push(x.get("length")):(p.push(x.get(fr)),Ur(t)&&p.push(x.get(Gs)));break;case"delete":ye(t)||(p.push(x.get(fr)),Ur(t)&&p.push(x.get(Gs)));break;case"set":Ur(t)&&p.push(x.get(fr));break}if(p.length===1)p[0]&&js(p[0]);else{const E=[];for(const C of p)C&&E.push(...C);js(Us(E))}}function js(t,r){for(const s of ye(t)?t:[...t])(s!==ur||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const _f=Rs("__proto__,__v_isRef,__isVue"),u1=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Ls)),yf=zs(),bf=zs(!1,!0),If=zs(!0),f1=Tf();function Tf(){const t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...s){const l=Ke(this);for(let h=0,x=this.length;h<x;h++)Kt(l,"get",h+"");const u=l[r](...s);return u===-1||u===!1?l[r](...s.map(Ke)):u}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...s){jr();const l=Ke(this)[r].apply(this,s);return hr(),l}}),t}function zs(t=!1,r=!1){return function(l,u,h){if(u==="__v_isReactive")return!t;if(u==="__v_isReadonly")return t;if(u==="__v_isShallow")return r;if(u==="__v_raw"&&h===(t?r?Gf:A1:r?m1:E1).get(l))return l;const x=ye(l);if(!t&&x&&ze(f1,u))return Reflect.get(f1,u,h);const p=Reflect.get(l,u,h);return(Ls(u)?u1.has(u):_f(u))||(t||Kt(l,"get",u),r)?p:Lt(p)?!x||!Fs(u)?p.value:p:wt(p)?t?C1(p):Ti(p):p}}const Sf=h1(),Of=h1(!0);function h1(t=!1){return function(s,l,u,h){let x=s[l];if(Si(x)&&Lt(x))return!1;if(!t&&!Si(u)&&(_1(u)||(u=Ke(u),x=Ke(x)),!ye(s)&&Lt(x)&&!Lt(u)))return x.value=u,!0;const p=ye(s)&&Fs(l)?Number(l)<s.length:ze(s,l),E=Reflect.set(s,l,u,h);return s===Ke(h)&&(p?yi(u,x)&&vn(s,"set",l,u):vn(s,"add",l,u)),E}}function vf(t,r){const s=ze(t,r);t[r];const l=Reflect.deleteProperty(t,r);return l&&s&&vn(t,"delete",r,void 0),l}function Rf(t,r){const s=Reflect.has(t,r);return(!Ls(r)||!u1.has(r))&&Kt(t,"has",r),s}function Nf(t){return Kt(t,"iterate",ye(t)?"length":fr),Reflect.ownKeys(t)}const d1={get:yf,set:Sf,deleteProperty:vf,has:Rf,ownKeys:Nf},Mf={get:If,set(t,r){return!0},deleteProperty(t,r){return!0}},Df=Nt({},d1,{get:bf,set:Of}),Ys=t=>t,Co=t=>Reflect.getPrototypeOf(t);function _o(t,r,s=!1,l=!1){t=t.__v_raw;const u=Ke(t),h=Ke(r);r!==h&&!s&&Kt(u,"get",r),!s&&Kt(u,"get",h);const{has:x}=Co(u),p=l?Ys:s?$s:Oi;if(x.call(u,r))return p(t.get(r));if(x.call(u,h))return p(t.get(h));t!==u&&t.get(r)}function yo(t,r=!1){const s=this.__v_raw,l=Ke(s),u=Ke(t);return t!==u&&!r&&Kt(l,"has",t),!r&&Kt(l,"has",u),t===u?s.has(t):s.has(t)||s.has(u)}function bo(t,r=!1){return t=t.__v_raw,!r&&Kt(Ke(t),"iterate",fr),Reflect.get(t,"size",t)}function g1(t){t=Ke(t);const r=Ke(this);return Co(r).has.call(r,t)||(r.add(t),vn(r,"add",t,t)),this}function x1(t,r){r=Ke(r);const s=Ke(this),{has:l,get:u}=Co(s);let h=l.call(s,t);h||(t=Ke(t),h=l.call(s,t));const x=u.call(s,t);return s.set(t,r),h?yi(r,x)&&vn(s,"set",t,r):vn(s,"add",t,r),this}function p1(t){const r=Ke(this),{has:s,get:l}=Co(r);let u=s.call(r,t);u||(t=Ke(t),u=s.call(r,t)),l&&l.call(r,t);const h=r.delete(t);return u&&vn(r,"delete",t,void 0),h}function w1(){const t=Ke(this),r=t.size!==0,s=t.clear();return r&&vn(t,"clear",void 0,void 0),s}function Io(t,r){return function(l,u){const h=this,x=h.__v_raw,p=Ke(x),E=r?Ys:t?$s:Oi;return!t&&Kt(p,"iterate",fr),x.forEach((C,y)=>l.call(u,E(C),E(y),h))}}function To(t,r,s){return function(...l){const u=this.__v_raw,h=Ke(u),x=Ur(h),p=t==="entries"||t===Symbol.iterator&&x,E=t==="keys"&&x,C=u[t](...l),y=s?Ys:r?$s:Oi;return!r&&Kt(h,"iterate",E?Gs:fr),{next(){const{value:O,done:T}=C.next();return T?{value:O,done:T}:{value:p?[y(O[0]),y(O[1])]:y(O),done:T}},[Symbol.iterator](){return this}}}}function Vn(t){return function(...r){return t==="delete"?!1:this}}function Bf(){const t={get(h){return _o(this,h)},get size(){return bo(this)},has:yo,add:g1,set:x1,delete:p1,clear:w1,forEach:Io(!1,!1)},r={get(h){return _o(this,h,!1,!0)},get size(){return bo(this)},has:yo,add:g1,set:x1,delete:p1,clear:w1,forEach:Io(!1,!0)},s={get(h){return _o(this,h,!0)},get size(){return bo(this,!0)},has(h){return yo.call(this,h,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:Io(!0,!1)},l={get(h){return _o(this,h,!0,!0)},get size(){return bo(this,!0)},has(h){return yo.call(this,h,!0)},add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear"),forEach:Io(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{t[h]=To(h,!1,!1),s[h]=To(h,!0,!1),r[h]=To(h,!1,!0),l[h]=To(h,!0,!0)}),[t,s,r,l]}const[Pf,Lf,Ff,kf]=Bf();function Ks(t,r){const s=r?t?kf:Ff:t?Lf:Pf;return(l,u,h)=>u==="__v_isReactive"?!t:u==="__v_isReadonly"?t:u==="__v_raw"?l:Reflect.get(ze(s,u)&&u in l?s:l,u,h)}const Uf={get:Ks(!1,!1)},Hf={get:Ks(!1,!0)},Vf={get:Ks(!0,!1)},E1=new WeakMap,m1=new WeakMap,A1=new WeakMap,Gf=new WeakMap;function Xf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wf(t){return t.__v_skip||!Object.isExtensible(t)?0:Xf(df(t))}function Ti(t){return Si(t)?t:Zs(t,!1,d1,Uf,E1)}function jf(t){return Zs(t,!1,Df,Hf,m1)}function C1(t){return Zs(t,!0,Mf,Vf,A1)}function Zs(t,r,s,l,u){if(!wt(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=u.get(t);if(h)return h;const x=Wf(t);if(x===0)return t;const p=new Proxy(t,x===2?l:s);return u.set(t,p),p}function zr(t){return Si(t)?zr(t.__v_raw):!!(t&&t.__v_isReactive)}function Si(t){return!!(t&&t.__v_isReadonly)}function _1(t){return!!(t&&t.__v_isShallow)}function y1(t){return zr(t)||Si(t)}function Ke(t){const r=t&&t.__v_raw;return r?Ke(r):t}function b1(t){return mo(t,"__v_skip",!0),t}const Oi=t=>wt(t)?Ti(t):t,$s=t=>wt(t)?C1(t):t;function I1(t){l1()&&(t=Ke(t),t.dep||(t.dep=Us()),c1(t.dep))}function T1(t,r){t=Ke(t),t.dep&&js(t.dep)}function Lt(t){return Boolean(t&&t.__v_isRef===!0)}function zf(t){return S1(t,!1)}function Yf(t){return S1(t,!0)}function S1(t,r){return Lt(t)?t:new Kf(t,r)}class Kf{constructor(r,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?r:Ke(r),this._value=s?r:Oi(r)}get value(){return I1(this),this._value}set value(r){r=this.__v_isShallow?r:Ke(r),yi(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:Oi(r),T1(this))}}function vi(t){return Lt(t)?t.value:t}const Zf={get:(t,r,s)=>vi(Reflect.get(t,r,s)),set:(t,r,s,l)=>{const u=t[r];return Lt(u)&&!Lt(s)?(u.value=s,!0):Reflect.set(t,r,s,l)}};function O1(t){return zr(t)?t:new Proxy(t,Zf)}class $f{constructor(r,s,l,u){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Xs(r,()=>{this._dirty||(this._dirty=!0,T1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=l}get value(){const r=Ke(this);return I1(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function qf(t,r,s=!1){let l,u;const h=Le(t);return h?(l=t,u=gn):(l=t.get,u=t.set),new $f(l,u,h||!u,s)}Promise.resolve();function Gn(t,r,s,l){let u;try{u=l?t(...l):t()}catch(h){So(h,r,s)}return u}function on(t,r,s,l){if(Le(t)){const h=Gn(t,r,s,l);return h&&t1(h)&&h.catch(x=>{So(x,r,s)}),h}const u=[];for(let h=0;h<t.length;h++)u.push(on(t[h],r,s,l));return u}function So(t,r,s,l=!0){const u=r?r.vnode:null;if(r){let h=r.parent;const x=r.proxy,p=s;for(;h;){const C=h.ec;if(C){for(let y=0;y<C.length;y++)if(C[y](t,x,p)===!1)return}h=h.parent}const E=r.appContext.config.errorHandler;if(E){Gn(E,null,10,[t,x,p]);return}}Qf(t,s,u,l)}function Qf(t,r,s,l=!0){console.error(t)}let Oo=!1,qs=!1;const Zt=[];let Rn=0;const Ri=[];let Ni=null,Yr=0;const Mi=[];let Xn=null,Kr=0;const v1=Promise.resolve();let Qs=null,Js=null;function R1(t){const r=Qs||v1;return t?r.then(this?t.bind(this):t):r}function Jf(t){let r=Rn+1,s=Zt.length;for(;r<s;){const l=r+s>>>1;Di(Zt[l])<t?r=l+1:s=l}return r}function N1(t){(!Zt.length||!Zt.includes(t,Oo&&t.allowRecurse?Rn+1:Rn))&&t!==Js&&(t.id==null?Zt.push(t):Zt.splice(Jf(t.id),0,t),M1())}function M1(){!Oo&&!qs&&(qs=!0,Qs=v1.then(P1))}function eh(t){const r=Zt.indexOf(t);r>Rn&&Zt.splice(r,1)}function D1(t,r,s,l){ye(t)?s.push(...t):(!r||!r.includes(t,t.allowRecurse?l+1:l))&&s.push(t),M1()}function th(t){D1(t,Ni,Ri,Yr)}function nh(t){D1(t,Xn,Mi,Kr)}function ea(t,r=null){if(Ri.length){for(Js=r,Ni=[...new Set(Ri)],Ri.length=0,Yr=0;Yr<Ni.length;Yr++)Ni[Yr]();Ni=null,Yr=0,Js=null,ea(t,r)}}function B1(t){if(Mi.length){const r=[...new Set(Mi)];if(Mi.length=0,Xn){Xn.push(...r);return}for(Xn=r,Xn.sort((s,l)=>Di(s)-Di(l)),Kr=0;Kr<Xn.length;Kr++)Xn[Kr]();Xn=null,Kr=0}}const Di=t=>t.id==null?1/0:t.id;function P1(t){qs=!1,Oo=!0,ea(t),Zt.sort((s,l)=>Di(s)-Di(l));const r=gn;try{for(Rn=0;Rn<Zt.length;Rn++){const s=Zt[Rn];s&&s.active!==!1&&Gn(s,null,14)}}finally{Rn=0,Zt.length=0,B1(),Oo=!1,Qs=null,(Zt.length||Ri.length||Mi.length)&&P1(t)}}function rh(t,r,...s){const l=t.vnode.props||ot;let u=s;const h=r.startsWith("update:"),x=h&&r.slice(7);if(x&&x in l){const y=`${x==="modelValue"?"model":x}Modifiers`,{number:O,trim:T}=l[y]||ot;T?u=s.map(B=>B.trim()):O&&(u=s.map(bi))}let p,E=l[p=ks(r)]||l[p=ks(Cn(r))];!E&&h&&(E=l[p=ks(Vr(r))]),E&&on(E,t,6,u);const C=l[p+"Once"];if(C){if(!t.emitted)t.emitted={};else if(t.emitted[p])return;t.emitted[p]=!0,on(C,t,6,u)}}function L1(t,r,s=!1){const l=r.emitsCache,u=l.get(t);if(u!==void 0)return u;const h=t.emits;let x={},p=!1;if(!Le(t)){const E=C=>{const y=L1(C,r,!0);y&&(p=!0,Nt(x,y))};!s&&r.mixins.length&&r.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}return!h&&!p?(l.set(t,null),null):(ye(h)?h.forEach(E=>x[E]=null):Nt(x,h),l.set(t,x),x)}function ta(t,r){return!t||!go(r)?!1:(r=r.slice(2).replace(/Once$/,""),ze(t,r[0].toLowerCase()+r.slice(1))||ze(t,Vr(r))||ze(t,r))}let sn=null,vo=null;function Ro(t){const r=sn;return sn=t,vo=t&&t.type.__scopeId||null,r}function Em(t){vo=t}function mm(){vo=null}function ih(t,r=sn,s){if(!r||t._n)return t;const l=(...u)=>{l._d&&dc(-1);const h=Ro(r),x=t(...u);return Ro(h),l._d&&dc(1),x};return l._n=!0,l._c=!0,l._d=!0,l}function na(t){const{type:r,vnode:s,proxy:l,withProxy:u,props:h,propsOptions:[x],slots:p,attrs:E,emit:C,render:y,renderCache:O,data:T,setupState:B,ctx:M,inheritAttrs:q}=t;let J,X;const F=Ro(t);try{if(s.shapeFlag&4){const K=u||l;J=bn(y.call(K,K,O,h,B,T,M)),X=E}else{const K=r;J=bn(K.length>1?K(h,{attrs:E,slots:p,emit:C}):K(h,null)),X=r.props?E:oh(E)}}catch(K){Li.length=0,So(K,t,1),J=$t(yn)}let j=J;if(X&&q!==!1){const K=Object.keys(X),{shapeFlag:ae}=j;K.length&&ae&(1|6)&&(x&&K.some(Bs)&&(X=sh(X,x)),j=mr(j,X))}return s.dirs&&(j.dirs=j.dirs?j.dirs.concat(s.dirs):s.dirs),s.transition&&(j.transition=s.transition),J=j,Ro(F),J}const oh=t=>{let r;for(const s in t)(s==="class"||s==="style"||go(s))&&((r||(r={}))[s]=t[s]);return r},sh=(t,r)=>{const s={};for(const l in t)(!Bs(l)||!(l.slice(9)in r))&&(s[l]=t[l]);return s};function ah(t,r,s){const{props:l,children:u,component:h}=t,{props:x,children:p,patchFlag:E}=r,C=h.emitsOptions;if(r.dirs||r.transition)return!0;if(s&&E>=0){if(E&1024)return!0;if(E&16)return l?F1(l,x,C):!!x;if(E&8){const y=r.dynamicProps;for(let O=0;O<y.length;O++){const T=y[O];if(x[T]!==l[T]&&!ta(C,T))return!0}}}else return(u||p)&&(!p||!p.$stable)?!0:l===x?!1:l?x?F1(l,x,C):!0:!!x;return!1}function F1(t,r,s){const l=Object.keys(r);if(l.length!==Object.keys(t).length)return!0;for(let u=0;u<l.length;u++){const h=l[u];if(r[h]!==t[h]&&!ta(s,h))return!0}return!1}function lh({vnode:t,parent:r},s){for(;r&&r.subTree===t;)(t=r.vnode).el=s,r=r.parent}const ch=t=>t.__isSuspense;function uh(t,r){r&&r.pendingBranch?ye(t)?r.effects.push(...t):r.effects.push(t):nh(t)}function No(t,r){if(St){let s=St.provides;const l=St.parent&&St.parent.provides;l===s&&(s=St.provides=Object.create(l)),s[t]=r}}function Wn(t,r,s=!1){const l=St||sn;if(l){const u=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(u&&t in u)return u[t];if(arguments.length>1)return s&&Le(r)?r.call(l.proxy):r}}const k1={};function Bi(t,r,s){return U1(t,r,s)}function U1(t,r,{immediate:s,deep:l,flush:u,onTrack:h,onTrigger:x}=ot){const p=St;let E,C=!1,y=!1;if(Lt(t)?(E=()=>t.value,C=_1(t)):zr(t)?(E=()=>t,l=!0):ye(t)?(y=!0,C=t.some(zr),E=()=>t.map(X=>{if(Lt(X))return X.value;if(zr(X))return dr(X);if(Le(X))return Gn(X,p,2)})):Le(t)?r?E=()=>Gn(t,p,2):E=()=>{if(!(p&&p.isUnmounted))return O&&O(),on(t,p,3,[T])}:E=gn,r&&l){const X=E;E=()=>dr(X())}let O,T=X=>{O=J.onStop=()=>{Gn(X,p,4)}};if(Fi)return T=gn,r?s&&on(r,p,3,[E(),y?[]:void 0,T]):E(),gn;let B=y?[]:k1;const M=()=>{if(!!J.active)if(r){const X=J.run();(l||C||(y?X.some((F,j)=>yi(F,B[j])):yi(X,B)))&&(O&&O(),on(r,p,3,[X,B===k1?void 0:B,T]),B=X)}else J.run()};M.allowRecurse=!!r;let q;u==="sync"?q=M:u==="post"?q=()=>Mt(M,p&&p.suspense):q=()=>{!p||p.isMounted?th(M):M()};const J=new Xs(E,q);return r?s?M():B=J.run():u==="post"?Mt(J.run.bind(J),p&&p.suspense):J.run(),()=>{J.stop(),p&&p.scope&&Ps(p.scope.effects,J)}}function fh(t,r,s){const l=this.proxy,u=yt(t)?t.includes(".")?H1(l,t):()=>l[t]:t.bind(l,l);let h;Le(r)?h=r:(h=r.handler,s=r);const x=St;Zr(this);const p=U1(u,h.bind(l),s);return x?Zr(x):Ar(),p}function H1(t,r){const s=r.split(".");return()=>{let l=t;for(let u=0;u<s.length&&l;u++)l=l[s[u]];return l}}function dr(t,r){if(!wt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),Lt(t))dr(t.value,r);else if(ye(t))for(let s=0;s<t.length;s++)dr(t[s],r);else if(Hr(t)||Ur(t))t.forEach(s=>{dr(s,r)});else if(r1(t))for(const s in t)dr(t[s],r);return t}function hh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return aa(()=>{t.isMounted=!0}),la(()=>{t.isUnmounting=!0}),t}const an=[Function,Array],dh={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},setup(t,{slots:r}){const s=wc(),l=hh();let u;return()=>{const h=r.default&&W1(r.default(),!0);if(!h||!h.length)return;const x=Ke(t),{mode:p}=x,E=h[0];if(l.isLeaving)return ia(E);const C=X1(E);if(!C)return ia(E);const y=ra(C,x,l,s);Mo(C,y);const O=s.subTree,T=O&&X1(O);let B=!1;const{getTransitionKey:M}=C.type;if(M){const q=M();u===void 0?u=q:q!==u&&(u=q,B=!0)}if(T&&T.type!==yn&&(!Er(C,T)||B)){const q=ra(T,x,l,s);if(Mo(T,q),p==="out-in")return l.isLeaving=!0,q.afterLeave=()=>{l.isLeaving=!1,s.update()},ia(E);p==="in-out"&&C.type!==yn&&(q.delayLeave=(J,X,F)=>{const j=G1(l,T);j[String(T.key)]=T,J._leaveCb=()=>{X(),J._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=F})}return E}}},V1=dh;function G1(t,r){const{leavingVNodes:s}=t;let l=s.get(r.type);return l||(l=Object.create(null),s.set(r.type,l)),l}function ra(t,r,s,l){const{appear:u,mode:h,persisted:x=!1,onBeforeEnter:p,onEnter:E,onAfterEnter:C,onEnterCancelled:y,onBeforeLeave:O,onLeave:T,onAfterLeave:B,onLeaveCancelled:M,onBeforeAppear:q,onAppear:J,onAfterAppear:X,onAppearCancelled:F}=r,j=String(t.key),K=G1(s,t),ae=(re,Y)=>{re&&on(re,l,9,Y)},W={mode:h,persisted:x,beforeEnter(re){let Y=p;if(!s.isMounted)if(u)Y=q||p;else return;re._leaveCb&&re._leaveCb(!0);const ve=K[j];ve&&Er(t,ve)&&ve.el._leaveCb&&ve.el._leaveCb(),ae(Y,[re])},enter(re){let Y=E,ve=C,Te=y;if(!s.isMounted)if(u)Y=J||E,ve=X||C,Te=F||y;else return;let ue=!1;const se=re._enterCb=be=>{ue||(ue=!0,be?ae(Te,[re]):ae(ve,[re]),W.delayedLeave&&W.delayedLeave(),re._enterCb=void 0)};Y?(Y(re,se),Y.length<=1&&se()):se()},leave(re,Y){const ve=String(t.key);if(re._enterCb&&re._enterCb(!0),s.isUnmounting)return Y();ae(O,[re]);let Te=!1;const ue=re._leaveCb=se=>{Te||(Te=!0,Y(),se?ae(M,[re]):ae(B,[re]),re._leaveCb=void 0,K[ve]===t&&delete K[ve])};K[ve]=t,T?(T(re,ue),T.length<=1&&ue()):ue()},clone(re){return ra(re,r,s,l)}};return W}function ia(t){if(Bo(t))return t=mr(t),t.children=null,t}function X1(t){return Bo(t)?t.children?t.children[0]:void 0:t}function Mo(t,r){t.shapeFlag&6&&t.component?Mo(t.component.subTree,r):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function W1(t,r=!1){let s=[],l=0;for(let u=0;u<t.length;u++){const h=t[u];h.type===_n?(h.patchFlag&128&&l++,s=s.concat(W1(h.children,r))):(r||h.type!==yn)&&s.push(h)}if(l>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}function j1(t){return Le(t)?{setup:t,name:t.name}:t}const Do=t=>!!t.type.__asyncLoader,Bo=t=>t.type.__isKeepAlive,gh={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:r}){const s=wc(),l=s.ctx;if(!l.renderer)return r.default;const u=new Map,h=new Set;let x=null;const p=s.suspense,{renderer:{p:E,m:C,um:y,o:{createElement:O}}}=l,T=O("div");l.activate=(F,j,K,ae,W)=>{const re=F.component;C(F,j,K,0,p),E(re.vnode,F,j,K,re,p,ae,F.slotScopeIds,W),Mt(()=>{re.isDeactivated=!1,re.a&&Gr(re.a);const Y=F.props&&F.props.onVnodeMounted;Y&&ln(Y,re.parent,F)},p)},l.deactivate=F=>{const j=F.component;C(F,T,null,1,p),Mt(()=>{j.da&&Gr(j.da);const K=F.props&&F.props.onVnodeUnmounted;K&&ln(K,j.parent,F),j.isDeactivated=!0},p)};function B(F){oa(F),y(F,s,p,!0)}function M(F){u.forEach((j,K)=>{const ae=Aa(j.type);ae&&(!F||!F(ae))&&q(K)})}function q(F){const j=u.get(F);!x||j.type!==x.type?B(j):x&&oa(x),u.delete(F),h.delete(F)}Bi(()=>[t.include,t.exclude],([F,j])=>{F&&M(K=>Pi(F,K)),j&&M(K=>!Pi(j,K))},{flush:"post",deep:!0});let J=null;const X=()=>{J!=null&&u.set(J,sa(s.subTree))};return aa(X),Y1(X),la(()=>{u.forEach(F=>{const{subTree:j,suspense:K}=s,ae=sa(j);if(F.type===ae.type){oa(ae);const W=ae.component.da;W&&Mt(W,K);return}B(F)})}),()=>{if(J=null,!r.default)return null;const F=r.default(),j=F[0];if(F.length>1)return x=null,F;if(!ko(j)||!(j.shapeFlag&4)&&!(j.shapeFlag&128))return x=null,j;let K=sa(j);const ae=K.type,W=Aa(Do(K)?K.type.__asyncResolved||{}:ae),{include:re,exclude:Y,max:ve}=t;if(re&&(!W||!Pi(re,W))||Y&&W&&Pi(Y,W))return x=K,j;const Te=K.key==null?ae:K.key,ue=u.get(Te);return K.el&&(K=mr(K),j.shapeFlag&128&&(j.ssContent=K)),J=Te,ue?(K.el=ue.el,K.component=ue.component,K.transition&&Mo(K,K.transition),K.shapeFlag|=512,h.delete(Te),h.add(Te)):(h.add(Te),ve&&h.size>parseInt(ve,10)&&q(h.values().next().value)),K.shapeFlag|=256,x=K,j}}},Am=gh;function Pi(t,r){return ye(t)?t.some(s=>Pi(s,r)):yt(t)?t.split(",").includes(r):t.test?t.test(r):!1}function xh(t,r){z1(t,"a",r)}function ph(t,r){z1(t,"da",r)}function z1(t,r,s=St){const l=t.__wdc||(t.__wdc=()=>{let u=s;for(;u;){if(u.isDeactivated)return;u=u.parent}return t()});if(Po(r,l,s),s){let u=s.parent;for(;u&&u.parent;)Bo(u.parent.vnode)&&wh(l,r,s,u),u=u.parent}}function wh(t,r,s,l){const u=Po(r,t,l,!0);K1(()=>{Ps(l[r],u)},s)}function oa(t){let r=t.shapeFlag;r&256&&(r-=256),r&512&&(r-=512),t.shapeFlag=r}function sa(t){return t.shapeFlag&128?t.ssContent:t}function Po(t,r,s=St,l=!1){if(s){const u=s[t]||(s[t]=[]),h=r.__weh||(r.__weh=(...x)=>{if(s.isUnmounted)return;jr(),Zr(s);const p=on(r,s,t,x);return Ar(),hr(),p});return l?u.unshift(h):u.push(h),h}}const Nn=t=>(r,s=St)=>(!Fi||t==="sp")&&Po(t,r,s),Eh=Nn("bm"),aa=Nn("m"),mh=Nn("bu"),Y1=Nn("u"),la=Nn("bum"),K1=Nn("um"),Ah=Nn("sp"),Ch=Nn("rtg"),_h=Nn("rtc");function yh(t,r=St){Po("ec",t,r)}let ca=!0;function bh(t){const r=q1(t),s=t.proxy,l=t.ctx;ca=!1,r.beforeCreate&&Z1(r.beforeCreate,t,"bc");const{data:u,computed:h,methods:x,watch:p,provide:E,inject:C,created:y,beforeMount:O,mounted:T,beforeUpdate:B,updated:M,activated:q,deactivated:J,beforeDestroy:X,beforeUnmount:F,destroyed:j,unmounted:K,render:ae,renderTracked:W,renderTriggered:re,errorCaptured:Y,serverPrefetch:ve,expose:Te,inheritAttrs:ue,components:se,directives:be,filters:V}=r;if(C&&Ih(C,l,null,t.appContext.config.unwrapInjectedRef),x)for(const We in x){const ke=x[We];Le(ke)&&(l[We]=ke.bind(s))}if(u){const We=u.call(s,s);wt(We)&&(t.data=Ti(We))}if(ca=!0,h)for(const We in h){const ke=h[We],mt=Le(ke)?ke.bind(s,s):Le(ke.get)?ke.get.bind(s,s):gn,On=!Le(ke)&&Le(ke.set)?ke.set.bind(s):gn,ct=In({get:mt,set:On});Object.defineProperty(l,We,{enumerable:!0,configurable:!0,get:()=>ct.value,set:bt=>ct.value=bt})}if(p)for(const We in p)$1(p[We],l,s,We);if(E){const We=Le(E)?E.call(s):E;Reflect.ownKeys(We).forEach(ke=>{No(ke,We[ke])})}y&&Z1(y,t,"c");function we(We,ke){ye(ke)?ke.forEach(mt=>We(mt.bind(s))):ke&&We(ke.bind(s))}if(we(Eh,O),we(aa,T),we(mh,B),we(Y1,M),we(xh,q),we(ph,J),we(yh,Y),we(_h,W),we(Ch,re),we(la,F),we(K1,K),we(Ah,ve),ye(Te))if(Te.length){const We=t.exposed||(t.exposed={});Te.forEach(ke=>{Object.defineProperty(We,ke,{get:()=>s[ke],set:mt=>s[ke]=mt})})}else t.exposed||(t.exposed={});ae&&t.render===gn&&(t.render=ae),ue!=null&&(t.inheritAttrs=ue),se&&(t.components=se),be&&(t.directives=be)}function Ih(t,r,s=gn,l=!1){ye(t)&&(t=ua(t));for(const u in t){const h=t[u];let x;wt(h)?"default"in h?x=Wn(h.from||u,h.default,!0):x=Wn(h.from||u):x=Wn(h),Lt(x)&&l?Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>x.value,set:p=>x.value=p}):r[u]=x}}function Z1(t,r,s){on(ye(t)?t.map(l=>l.bind(r.proxy)):t.bind(r.proxy),r,s)}function $1(t,r,s,l){const u=l.includes(".")?H1(s,l):()=>s[l];if(yt(t)){const h=r[t];Le(h)&&Bi(u,h)}else if(Le(t))Bi(u,t.bind(s));else if(wt(t))if(ye(t))t.forEach(h=>$1(h,r,s,l));else{const h=Le(t.handler)?t.handler.bind(s):r[t.handler];Le(h)&&Bi(u,h,t)}}function q1(t){const r=t.type,{mixins:s,extends:l}=r,{mixins:u,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,p=h.get(r);let E;return p?E=p:!u.length&&!s&&!l?E=r:(E={},u.length&&u.forEach(C=>Lo(E,C,x,!0)),Lo(E,r,x)),h.set(r,E),E}function Lo(t,r,s,l=!1){const{mixins:u,extends:h}=r;h&&Lo(t,h,s,!0),u&&u.forEach(x=>Lo(t,x,s,!0));for(const x in r)if(!(l&&x==="expose")){const p=Th[x]||s&&s[x];t[x]=p?p(t[x],r[x]):r[x]}return t}const Th={data:Q1,props:gr,emits:gr,methods:gr,computed:gr,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:gr,directives:gr,watch:Oh,provide:Q1,inject:Sh};function Q1(t,r){return r?t?function(){return Nt(Le(t)?t.call(this,this):t,Le(r)?r.call(this,this):r)}:r:t}function Sh(t,r){return gr(ua(t),ua(r))}function ua(t){if(ye(t)){const r={};for(let s=0;s<t.length;s++)r[t[s]]=t[s];return r}return t}function kt(t,r){return t?[...new Set([].concat(t,r))]:r}function gr(t,r){return t?Nt(Nt(Object.create(null),t),r):r}function Oh(t,r){if(!t)return r;if(!r)return t;const s=Nt(Object.create(null),t);for(const l in r)s[l]=kt(t[l],r[l]);return s}function vh(t,r,s,l=!1){const u={},h={};mo(h,Uo,1),t.propsDefaults=Object.create(null),J1(t,r,u,h);for(const x in t.propsOptions[0])x in u||(u[x]=void 0);s?t.props=l?u:jf(u):t.type.props?t.props=u:t.props=h,t.attrs=h}function Rh(t,r,s,l){const{props:u,attrs:h,vnode:{patchFlag:x}}=t,p=Ke(u),[E]=t.propsOptions;let C=!1;if((l||x>0)&&!(x&16)){if(x&8){const y=t.vnode.dynamicProps;for(let O=0;O<y.length;O++){let T=y[O];const B=r[T];if(E)if(ze(h,T))B!==h[T]&&(h[T]=B,C=!0);else{const M=Cn(T);u[M]=fa(E,p,M,B,t,!1)}else B!==h[T]&&(h[T]=B,C=!0)}}}else{J1(t,r,u,h)&&(C=!0);let y;for(const O in p)(!r||!ze(r,O)&&((y=Vr(O))===O||!ze(r,y)))&&(E?s&&(s[O]!==void 0||s[y]!==void 0)&&(u[O]=fa(E,p,O,void 0,t,!0)):delete u[O]);if(h!==p)for(const O in h)(!r||!ze(r,O)&&!0)&&(delete h[O],C=!0)}C&&vn(t,"set","$attrs")}function J1(t,r,s,l){const[u,h]=t.propsOptions;let x=!1,p;if(r)for(let E in r){if(po(E))continue;const C=r[E];let y;u&&ze(u,y=Cn(E))?!h||!h.includes(y)?s[y]=C:(p||(p={}))[y]=C:ta(t.emitsOptions,E)||(!(E in l)||C!==l[E])&&(l[E]=C,x=!0)}if(h){const E=Ke(s),C=p||ot;for(let y=0;y<h.length;y++){const O=h[y];s[O]=fa(u,E,O,C[O],t,!ze(C,O))}}return x}function fa(t,r,s,l,u,h){const x=t[s];if(x!=null){const p=ze(x,"default");if(p&&l===void 0){const E=x.default;if(x.type!==Function&&Le(E)){const{propsDefaults:C}=u;s in C?l=C[s]:(Zr(u),l=C[s]=E.call(null,r),Ar())}else l=E}x[0]&&(h&&!p?l=!1:x[1]&&(l===""||l===Vr(s))&&(l=!0))}return l}function ec(t,r,s=!1){const l=r.propsCache,u=l.get(t);if(u)return u;const h=t.props,x={},p=[];let E=!1;if(!Le(t)){const y=O=>{E=!0;const[T,B]=ec(O,r,!0);Nt(x,T),B&&p.push(...B)};!s&&r.mixins.length&&r.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!h&&!E)return l.set(t,kr),kr;if(ye(h))for(let y=0;y<h.length;y++){const O=Cn(h[y]);tc(O)&&(x[O]=ot)}else if(h)for(const y in h){const O=Cn(y);if(tc(O)){const T=h[y],B=x[O]=ye(T)||Le(T)?{type:T}:T;if(B){const M=ic(Boolean,B.type),q=ic(String,B.type);B[0]=M>-1,B[1]=q<0||M<q,(M>-1||ze(B,"default"))&&p.push(O)}}}const C=[x,p];return l.set(t,C),C}function tc(t){return t[0]!=="$"}function nc(t){const r=t&&t.toString().match(/^\s*function (\w+)/);return r?r[1]:t===null?"null":""}function rc(t,r){return nc(t)===nc(r)}function ic(t,r){return ye(r)?r.findIndex(s=>rc(s,t)):Le(r)&&rc(r,t)?0:-1}const oc=t=>t[0]==="_"||t==="$stable",ha=t=>ye(t)?t.map(bn):[bn(t)],Nh=(t,r,s)=>{const l=ih((...u)=>ha(r(...u)),s);return l._c=!1,l},sc=(t,r,s)=>{const l=t._ctx;for(const u in t){if(oc(u))continue;const h=t[u];if(Le(h))r[u]=Nh(u,h,l);else if(h!=null){const x=ha(h);r[u]=()=>x}}},ac=(t,r)=>{const s=ha(r);t.slots.default=()=>s},Mh=(t,r)=>{if(t.vnode.shapeFlag&32){const s=r._;s?(t.slots=Ke(r),mo(r,"_",s)):sc(r,t.slots={})}else t.slots={},r&&ac(t,r);mo(t.slots,Uo,1)},Dh=(t,r,s)=>{const{vnode:l,slots:u}=t;let h=!0,x=ot;if(l.shapeFlag&32){const p=r._;p?s&&p===1?h=!1:(Nt(u,r),!s&&p===1&&delete u._):(h=!r.$stable,sc(r,u)),x=r}else r&&(ac(t,r),x={default:1});if(h)for(const p in u)!oc(p)&&!(p in x)&&delete u[p]};function Cm(t,r){const s=sn;if(s===null)return t;const l=s.proxy,u=t.dirs||(t.dirs=[]);for(let h=0;h<r.length;h++){let[x,p,E,C=ot]=r[h];Le(x)&&(x={mounted:x,updated:x}),x.deep&&dr(p),u.push({dir:x,instance:l,value:p,oldValue:void 0,arg:E,modifiers:C})}return t}function xr(t,r,s,l){const u=t.dirs,h=r&&r.dirs;for(let x=0;x<u.length;x++){const p=u[x];h&&(p.oldValue=h[x].value);let E=p.dir[l];E&&(jr(),on(E,s,8,[t.el,p,t,r]),hr())}}function lc(){return{app:null,config:{isNativeTag:uf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bh=0;function Ph(t,r){return function(l,u=null){u!=null&&!wt(u)&&(u=null);const h=lc(),x=new Set;let p=!1;const E=h.app={_uid:Bh++,_component:l,_props:u,_container:null,_context:h,_instance:null,version:nd,get config(){return h.config},set config(C){},use(C,...y){return x.has(C)||(C&&Le(C.install)?(x.add(C),C.install(E,...y)):Le(C)&&(x.add(C),C(E,...y))),E},mixin(C){return h.mixins.includes(C)||h.mixins.push(C),E},component(C,y){return y?(h.components[C]=y,E):h.components[C]},directive(C,y){return y?(h.directives[C]=y,E):h.directives[C]},mount(C,y,O){if(!p){const T=$t(l,u);return T.appContext=h,y&&r?r(T,C):t(T,C,O),p=!0,E._container=C,C.__vue_app__=E,ma(T.component)||T.component.proxy}},unmount(){p&&(t(null,E._container),delete E._container.__vue_app__)},provide(C,y){return h.provides[C]=y,E}};return E}}function da(t,r,s,l,u=!1){if(ye(t)){t.forEach((T,B)=>da(T,r&&(ye(r)?r[B]:r),s,l,u));return}if(Do(l)&&!u)return;const h=l.shapeFlag&4?ma(l.component)||l.component.proxy:l.el,x=u?null:h,{i:p,r:E}=t,C=r&&r.r,y=p.refs===ot?p.refs={}:p.refs,O=p.setupState;if(C!=null&&C!==E&&(yt(C)?(y[C]=null,ze(O,C)&&(O[C]=null)):Lt(C)&&(C.value=null)),Le(E))Gn(E,p,12,[x,y]);else{const T=yt(E),B=Lt(E);if(T||B){const M=()=>{if(t.f){const q=T?y[E]:E.value;u?ye(q)&&Ps(q,h):ye(q)?q.includes(h)||q.push(h):T?y[E]=[h]:(E.value=[h],t.k&&(y[t.k]=E.value))}else T?(y[E]=x,ze(O,E)&&(O[E]=x)):Lt(E)&&(E.value=x,t.k&&(y[t.k]=x))};x?(M.id=-1,Mt(M,s)):M()}}}const Mt=uh;function Lh(t){return Fh(t)}function Fh(t,r){const s=pf();s.__VUE__=!0;const{insert:l,remove:u,patchProp:h,createElement:x,createText:p,createComment:E,setText:C,setElementText:y,parentNode:O,nextSibling:T,setScopeId:B=gn,cloneNode:M,insertStaticContent:q}=t,J=(S,N,G,Z=null,z=null,$=null,fe=!1,k=null,le=!!N.dynamicChildren)=>{if(S===N)return;S&&!Er(S,N)&&(Z=Ae(S),et(S,z,$,!0),S=null),N.patchFlag===-2&&(le=!1,N.dynamicChildren=null);const{type:ne,ref:me,shapeFlag:pe}=N;switch(ne){case xa:X(S,N,G,Z);break;case yn:F(S,N,G,Z);break;case pa:S==null&&j(N,G,Z,fe);break;case _n:be(S,N,G,Z,z,$,fe,k,le);break;default:pe&1?W(S,N,G,Z,z,$,fe,k,le):pe&6?V(S,N,G,Z,z,$,fe,k,le):(pe&64||pe&128)&&ne.process(S,N,G,Z,z,$,fe,k,le,De)}me!=null&&z&&da(me,S&&S.ref,$,N||S,!N)},X=(S,N,G,Z)=>{if(S==null)l(N.el=p(N.children),G,Z);else{const z=N.el=S.el;N.children!==S.children&&C(z,N.children)}},F=(S,N,G,Z)=>{S==null?l(N.el=E(N.children||""),G,Z):N.el=S.el},j=(S,N,G,Z)=>{[S.el,S.anchor]=q(S.children,N,G,Z,S.el,S.anchor)},K=({el:S,anchor:N},G,Z)=>{let z;for(;S&&S!==N;)z=T(S),l(S,G,Z),S=z;l(N,G,Z)},ae=({el:S,anchor:N})=>{let G;for(;S&&S!==N;)G=T(S),u(S),S=G;u(N)},W=(S,N,G,Z,z,$,fe,k,le)=>{fe=fe||N.type==="svg",S==null?re(N,G,Z,z,$,fe,k,le):Te(S,N,z,$,fe,k,le)},re=(S,N,G,Z,z,$,fe,k)=>{let le,ne;const{type:me,props:pe,shapeFlag:xe,transition:Oe,patchFlag:Ne,dirs:Be}=S;if(S.el&&M!==void 0&&Ne===-1)le=S.el=M(S.el);else{if(le=S.el=x(S.type,$,pe&&pe.is,pe),xe&8?y(le,S.children):xe&16&&ve(S.children,le,null,Z,z,$&&me!=="foreignObject",fe,k),Be&&xr(S,null,Z,"created"),pe){for(const $e in pe)$e!=="value"&&!po($e)&&h(le,$e,null,pe[$e],$,S.children,Z,z,te);"value"in pe&&h(le,"value",null,pe.value),(ne=pe.onVnodeBeforeMount)&&ln(ne,Z,S)}Y(le,S,S.scopeId,fe,Z)}Be&&xr(S,null,Z,"beforeMount");const Ze=(!z||z&&!z.pendingBranch)&&Oe&&!Oe.persisted;Ze&&Oe.beforeEnter(le),l(le,N,G),((ne=pe&&pe.onVnodeMounted)||Ze||Be)&&Mt(()=>{ne&&ln(ne,Z,S),Ze&&Oe.enter(le),Be&&xr(S,null,Z,"mounted")},z)},Y=(S,N,G,Z,z)=>{if(G&&B(S,G),Z)for(let $=0;$<Z.length;$++)B(S,Z[$]);if(z){let $=z.subTree;if(N===$){const fe=z.vnode;Y(S,fe,fe.scopeId,fe.slotScopeIds,z.parent)}}},ve=(S,N,G,Z,z,$,fe,k,le=0)=>{for(let ne=le;ne<S.length;ne++){const me=S[ne]=k?jn(S[ne]):bn(S[ne]);J(null,me,N,G,Z,z,$,fe,k)}},Te=(S,N,G,Z,z,$,fe)=>{const k=N.el=S.el;let{patchFlag:le,dynamicChildren:ne,dirs:me}=N;le|=S.patchFlag&16;const pe=S.props||ot,xe=N.props||ot;let Oe;G&&pr(G,!1),(Oe=xe.onVnodeBeforeUpdate)&&ln(Oe,G,N,S),me&&xr(N,S,G,"beforeUpdate"),G&&pr(G,!0);const Ne=z&&N.type!=="foreignObject";if(ne?ue(S.dynamicChildren,ne,k,G,Z,Ne,$):fe||mt(S,N,k,null,G,Z,Ne,$,!1),le>0){if(le&16)se(k,N,pe,xe,G,Z,z);else if(le&2&&pe.class!==xe.class&&h(k,"class",null,xe.class,z),le&4&&h(k,"style",pe.style,xe.style,z),le&8){const Be=N.dynamicProps;for(let Ze=0;Ze<Be.length;Ze++){const $e=Be[Ze],zt=pe[$e],nt=xe[$e];(nt!==zt||$e==="value")&&h(k,$e,zt,nt,z,S.children,G,Z,te)}}le&1&&S.children!==N.children&&y(k,N.children)}else!fe&&ne==null&&se(k,N,pe,xe,G,Z,z);((Oe=xe.onVnodeUpdated)||me)&&Mt(()=>{Oe&&ln(Oe,G,N,S),me&&xr(N,S,G,"updated")},Z)},ue=(S,N,G,Z,z,$,fe)=>{for(let k=0;k<N.length;k++){const le=S[k],ne=N[k],me=le.el&&(le.type===_n||!Er(le,ne)||le.shapeFlag&(6|64))?O(le.el):G;J(le,ne,me,null,Z,z,$,fe,!0)}},se=(S,N,G,Z,z,$,fe)=>{if(G!==Z){for(const k in Z){if(po(k))continue;const le=Z[k],ne=G[k];le!==ne&&k!=="value"&&h(S,k,ne,le,fe,N.children,z,$,te)}if(G!==ot)for(const k in G)!po(k)&&!(k in Z)&&h(S,k,G[k],null,fe,N.children,z,$,te);"value"in Z&&h(S,"value",G.value,Z.value)}},be=(S,N,G,Z,z,$,fe,k,le)=>{const ne=N.el=S?S.el:p(""),me=N.anchor=S?S.anchor:p("");let{patchFlag:pe,dynamicChildren:xe,slotScopeIds:Oe}=N;Oe&&(k=k?k.concat(Oe):Oe),S==null?(l(ne,G,Z),l(me,G,Z),ve(N.children,G,me,z,$,fe,k,le)):pe>0&&pe&64&&xe&&S.dynamicChildren?(ue(S.dynamicChildren,xe,G,z,$,fe,k),(N.key!=null||z&&N===z.subTree)&&cc(S,N,!0)):mt(S,N,G,me,z,$,fe,k,le)},V=(S,N,G,Z,z,$,fe,k,le)=>{N.slotScopeIds=k,S==null?N.shapeFlag&512?z.ctx.activate(N,G,Z,fe,le):Je(N,G,Z,z,$,fe,le):we(S,N,le)},Je=(S,N,G,Z,z,$,fe)=>{const k=S.component=$h(S,Z,z);if(Bo(S)&&(k.ctx.renderer=De),qh(k),k.asyncDep){if(z&&z.registerDep(k,We),!S.el){const le=k.subTree=$t(yn);F(null,le,N,G)}return}We(k,S,N,G,z,$,fe)},we=(S,N,G)=>{const Z=N.component=S.component;if(ah(S,N,G))if(Z.asyncDep&&!Z.asyncResolved){ke(Z,N,G);return}else Z.next=N,eh(Z.update),Z.update();else N.component=S.component,N.el=S.el,Z.vnode=N},We=(S,N,G,Z,z,$,fe)=>{const k=()=>{if(S.isMounted){let{next:me,bu:pe,u:xe,parent:Oe,vnode:Ne}=S,Be=me,Ze;pr(S,!1),me?(me.el=Ne.el,ke(S,me,fe)):me=Ne,pe&&Gr(pe),(Ze=me.props&&me.props.onVnodeBeforeUpdate)&&ln(Ze,Oe,me,Ne),pr(S,!0);const $e=na(S),zt=S.subTree;S.subTree=$e,J(zt,$e,O(zt.el),Ae(zt),S,z,$),me.el=$e.el,Be===null&&lh(S,$e.el),xe&&Mt(xe,z),(Ze=me.props&&me.props.onVnodeUpdated)&&Mt(()=>ln(Ze,Oe,me,Ne),z)}else{let me;const{el:pe,props:xe}=N,{bm:Oe,m:Ne,parent:Be}=S,Ze=Do(N);if(pr(S,!1),Oe&&Gr(Oe),!Ze&&(me=xe&&xe.onVnodeBeforeMount)&&ln(me,Be,N),pr(S,!0),pe&&he){const $e=()=>{S.subTree=na(S),he(pe,S.subTree,S,z,null)};Ze?N.type.__asyncLoader().then(()=>!S.isUnmounted&&$e()):$e()}else{const $e=S.subTree=na(S);J(null,$e,G,Z,S,z,$),N.el=$e.el}if(Ne&&Mt(Ne,z),!Ze&&(me=xe&&xe.onVnodeMounted)){const $e=N;Mt(()=>ln(me,Be,$e),z)}N.shapeFlag&256&&S.a&&Mt(S.a,z),S.isMounted=!0,N=G=Z=null}},le=S.effect=new Xs(k,()=>N1(S.update),S.scope),ne=S.update=le.run.bind(le);ne.id=S.uid,pr(S,!0),ne()},ke=(S,N,G)=>{N.component=S;const Z=S.vnode.props;S.vnode=N,S.next=null,Rh(S,N.props,Z,G),Dh(S,N.children,G),jr(),ea(void 0,S.update),hr()},mt=(S,N,G,Z,z,$,fe,k,le=!1)=>{const ne=S&&S.children,me=S?S.shapeFlag:0,pe=N.children,{patchFlag:xe,shapeFlag:Oe}=N;if(xe>0){if(xe&128){ct(ne,pe,G,Z,z,$,fe,k,le);return}else if(xe&256){On(ne,pe,G,Z,z,$,fe,k,le);return}}Oe&8?(me&16&&te(ne,z,$),pe!==ne&&y(G,pe)):me&16?Oe&16?ct(ne,pe,G,Z,z,$,fe,k,le):te(ne,z,$,!0):(me&8&&y(G,""),Oe&16&&ve(pe,G,Z,z,$,fe,k,le))},On=(S,N,G,Z,z,$,fe,k,le)=>{S=S||kr,N=N||kr;const ne=S.length,me=N.length,pe=Math.min(ne,me);let xe;for(xe=0;xe<pe;xe++){const Oe=N[xe]=le?jn(N[xe]):bn(N[xe]);J(S[xe],Oe,G,null,z,$,fe,k,le)}ne>me?te(S,z,$,!0,!1,pe):ve(N,G,Z,z,$,fe,k,le,pe)},ct=(S,N,G,Z,z,$,fe,k,le)=>{let ne=0;const me=N.length;let pe=S.length-1,xe=me-1;for(;ne<=pe&&ne<=xe;){const Oe=S[ne],Ne=N[ne]=le?jn(N[ne]):bn(N[ne]);if(Er(Oe,Ne))J(Oe,Ne,G,null,z,$,fe,k,le);else break;ne++}for(;ne<=pe&&ne<=xe;){const Oe=S[pe],Ne=N[xe]=le?jn(N[xe]):bn(N[xe]);if(Er(Oe,Ne))J(Oe,Ne,G,null,z,$,fe,k,le);else break;pe--,xe--}if(ne>pe){if(ne<=xe){const Oe=xe+1,Ne=Oe<me?N[Oe].el:Z;for(;ne<=xe;)J(null,N[ne]=le?jn(N[ne]):bn(N[ne]),G,Ne,z,$,fe,k,le),ne++}}else if(ne>xe)for(;ne<=pe;)et(S[ne],z,$,!0),ne++;else{const Oe=ne,Ne=ne,Be=new Map;for(ne=Ne;ne<=xe;ne++){const Ue=N[ne]=le?jn(N[ne]):bn(N[ne]);Ue.key!=null&&Be.set(Ue.key,ne)}let Ze,$e=0;const zt=xe-Ne+1;let nt=!1,ce=0;const ut=new Array(zt);for(ne=0;ne<zt;ne++)ut[ne]=0;for(ne=Oe;ne<=pe;ne++){const Ue=S[ne];if($e>=zt){et(Ue,z,$,!0);continue}let Dt;if(Ue.key!=null)Dt=Be.get(Ue.key);else for(Ze=Ne;Ze<=xe;Ze++)if(ut[Ze-Ne]===0&&Er(Ue,N[Ze])){Dt=Ze;break}Dt===void 0?et(Ue,z,$,!0):(ut[Dt-Ne]=ne+1,Dt>=ce?ce=Dt:nt=!0,J(Ue,N[Dt],G,null,z,$,fe,k,le),$e++)}const qe=nt?kh(ut):kr;for(Ze=qe.length-1,ne=zt-1;ne>=0;ne--){const Ue=Ne+ne,Dt=N[Ue],Or=Ue+1<me?N[Ue+1].el:Z;ut[ne]===0?J(null,Dt,G,Or,z,$,fe,k,le):nt&&(Ze<0||ne!==qe[Ze]?bt(Dt,G,Or,2):Ze--)}}},bt=(S,N,G,Z,z=null)=>{const{el:$,type:fe,transition:k,children:le,shapeFlag:ne}=S;if(ne&6){bt(S.component.subTree,N,G,Z);return}if(ne&128){S.suspense.move(N,G,Z);return}if(ne&64){fe.move(S,N,G,De);return}if(fe===_n){l($,N,G);for(let pe=0;pe<le.length;pe++)bt(le[pe],N,G,Z);l(S.anchor,N,G);return}if(fe===pa){K(S,N,G);return}if(Z!==2&&ne&1&&k)if(Z===0)k.beforeEnter($),l($,N,G),Mt(()=>k.enter($),z);else{const{leave:pe,delayLeave:xe,afterLeave:Oe}=k,Ne=()=>l($,N,G),Be=()=>{pe($,()=>{Ne(),Oe&&Oe()})};xe?xe($,Ne,Be):Be()}else l($,N,G)},et=(S,N,G,Z=!1,z=!1)=>{const{type:$,props:fe,ref:k,children:le,dynamicChildren:ne,shapeFlag:me,patchFlag:pe,dirs:xe}=S;if(k!=null&&da(k,null,G,S,!0),me&256){N.ctx.deactivate(S);return}const Oe=me&1&&xe,Ne=!Do(S);let Be;if(Ne&&(Be=fe&&fe.onVnodeBeforeUnmount)&&ln(Be,N,S),me&6)Ee(S.component,G,Z);else{if(me&128){S.suspense.unmount(G,Z);return}Oe&&xr(S,null,N,"beforeUnmount"),me&64?S.type.remove(S,N,G,z,De,Z):ne&&($!==_n||pe>0&&pe&64)?te(ne,N,G,!1,!0):($===_n&&pe&(128|256)||!z&&me&16)&&te(le,N,G),Z&&tr(S)}(Ne&&(Be=fe&&fe.onVnodeUnmounted)||Oe)&&Mt(()=>{Be&&ln(Be,N,S),Oe&&xr(S,null,N,"unmounted")},G)},tr=S=>{const{type:N,el:G,anchor:Z,transition:z}=S;if(N===_n){L(G,Z);return}if(N===pa){ae(S);return}const $=()=>{u(G),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(S.shapeFlag&1&&z&&!z.persisted){const{leave:fe,delayLeave:k}=z,le=()=>fe(G,$);k?k(S.el,$,le):le()}else $()},L=(S,N)=>{let G;for(;S!==N;)G=T(S),u(S),S=G;u(N)},Ee=(S,N,G)=>{const{bum:Z,scope:z,update:$,subTree:fe,um:k}=S;Z&&Gr(Z),z.stop(),$&&($.active=!1,et(fe,S,N,G)),k&&Mt(k,N),Mt(()=>{S.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},te=(S,N,G,Z=!1,z=!1,$=0)=>{for(let fe=$;fe<S.length;fe++)et(S[fe],N,G,Z,z)},Ae=S=>S.shapeFlag&6?Ae(S.component.subTree):S.shapeFlag&128?S.suspense.next():T(S.anchor||S.el),Ge=(S,N,G)=>{S==null?N._vnode&&et(N._vnode,null,null,!0):J(N._vnode||null,S,N,null,null,null,G),B1(),N._vnode=S},De={p:J,um:et,m:bt,r:tr,mt:Je,mc:ve,pc:mt,pbc:ue,n:Ae,o:t};let Re,he;return r&&([Re,he]=r(De)),{render:Ge,hydrate:Re,createApp:Ph(Ge,Re)}}function pr({effect:t,update:r},s){t.allowRecurse=r.allowRecurse=s}function cc(t,r,s=!1){const l=t.children,u=r.children;if(ye(l)&&ye(u))for(let h=0;h<l.length;h++){const x=l[h];let p=u[h];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=u[h]=jn(u[h]),p.el=x.el),s||cc(x,p))}}function kh(t){const r=t.slice(),s=[0];let l,u,h,x,p;const E=t.length;for(l=0;l<E;l++){const C=t[l];if(C!==0){if(u=s[s.length-1],t[u]<C){r[l]=u,s.push(l);continue}for(h=0,x=s.length-1;h<x;)p=h+x>>1,t[s[p]]<C?h=p+1:x=p;C<t[s[h]]&&(h>0&&(r[l]=s[h-1]),s[h]=l)}}for(h=s.length,x=s[h-1];h-- >0;)s[h]=x,x=r[x];return s}const Uh=t=>t.__isTeleport,ga="components";function _m(t,r){return fc(ga,t,!0,r)||t}const uc=Symbol();function ym(t){return yt(t)?fc(ga,t,!1)||t:t||uc}function fc(t,r,s=!0,l=!1){const u=sn||St;if(u){const h=u.type;if(t===ga){const p=Aa(h);if(p&&(p===r||p===Cn(r)||p===Eo(Cn(r))))return h}const x=hc(u[t]||h[t],r)||hc(u.appContext[t],r);return!x&&l?h:x}}function hc(t,r){return t&&(t[r]||t[Cn(r)]||t[Eo(Cn(r))])}const _n=Symbol(void 0),xa=Symbol(void 0),yn=Symbol(void 0),pa=Symbol(void 0),Li=[];let wr=null;function Hh(t=!1){Li.push(wr=t?null:[])}function Vh(){Li.pop(),wr=Li[Li.length-1]||null}let Fo=1;function dc(t){Fo+=t}function gc(t){return t.dynamicChildren=Fo>0?wr||kr:null,Vh(),Fo>0&&wr&&wr.push(t),t}function bm(t,r,s,l,u,h){return gc(pc(t,r,s,l,u,h,!0))}function Gh(t,r,s,l,u){return gc($t(t,r,s,l,u,!0))}function ko(t){return t?t.__v_isVNode===!0:!1}function Er(t,r){return t.type===r.type&&t.key===r.key}const Uo="__vInternal",xc=({key:t})=>t!=null?t:null,Ho=({ref:t,ref_key:r,ref_for:s})=>t!=null?yt(t)||Lt(t)||Le(t)?{i:sn,r:t,k:r,f:!!s}:t:null;function pc(t,r=null,s=null,l=0,u=null,h=t===_n?0:1,x=!1,p=!1){const E={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&xc(r),ref:r&&Ho(r),scopeId:vo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:l,dynamicProps:u,dynamicChildren:null,appContext:null};return p?(wa(E,s),h&128&&t.normalize(E)):s&&(E.shapeFlag|=yt(s)?8:16),Fo>0&&!x&&wr&&(E.patchFlag>0||h&6)&&E.patchFlag!==32&&wr.push(E),E}const $t=Xh;function Xh(t,r=null,s=null,l=0,u=null,h=!1){if((!t||t===uc)&&(t=yn),ko(t)){const p=mr(t,r,!0);return s&&wa(p,s),p}if(td(t)&&(t=t.__vccOpts),r){r=Wh(r);let{class:p,style:E}=r;p&&!yt(p)&&(r.class=Ms(p)),wt(E)&&(y1(E)&&!ye(E)&&(E=Nt({},E)),r.style=Ns(E))}const x=yt(t)?1:ch(t)?128:Uh(t)?64:wt(t)?4:Le(t)?2:0;return pc(t,r,s,l,u,x,h,!0)}function Wh(t){return t?y1(t)||Uo in t?Nt({},t):t:null}function mr(t,r,s=!1){const{props:l,ref:u,patchFlag:h,children:x}=t,p=r?zh(l||{},r):l;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:p,key:p&&xc(p),ref:r&&r.ref?s&&u?ye(u)?u.concat(Ho(r)):[u,Ho(r)]:Ho(r):u,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:x,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==_n?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mr(t.ssContent),ssFallback:t.ssFallback&&mr(t.ssFallback),el:t.el,anchor:t.anchor}}function jh(t=" ",r=0){return $t(xa,null,t,r)}function Im(t="",r=!1){return r?(Hh(),Gh(yn,null,t)):$t(yn,null,t)}function bn(t){return t==null||typeof t=="boolean"?$t(yn):ye(t)?$t(_n,null,t.slice()):typeof t=="object"?jn(t):$t(xa,null,String(t))}function jn(t){return t.el===null||t.memo?t:mr(t)}function wa(t,r){let s=0;const{shapeFlag:l}=t;if(r==null)r=null;else if(ye(r))s=16;else if(typeof r=="object")if(l&(1|64)){const u=r.default;u&&(u._c&&(u._d=!1),wa(t,u()),u._c&&(u._d=!0));return}else{s=32;const u=r._;!u&&!(Uo in r)?r._ctx=sn:u===3&&sn&&(sn.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Le(r)?(r={default:r,_ctx:sn},s=32):(r=String(r),l&64?(s=16,r=[jh(r)]):s=8);t.children=r,t.shapeFlag|=s}function zh(...t){const r={};for(let s=0;s<t.length;s++){const l=t[s];for(const u in l)if(u==="class")r.class!==l.class&&(r.class=Ms([r.class,l.class]));else if(u==="style")r.style=Ns([r.style,l.style]);else if(go(u)){const h=r[u],x=l[u];x&&h!==x&&!(ye(h)&&h.includes(x))&&(r[u]=h?[].concat(h,x):x)}else u!==""&&(r[u]=l[u])}return r}function ln(t,r,s,l=null){on(t,r,7,[s,l])}function Tm(t,r,s,l){let u;const h=s&&s[l];if(ye(t)||yt(t)){u=new Array(t.length);for(let x=0,p=t.length;x<p;x++)u[x]=r(t[x],x,void 0,h&&h[x])}else if(typeof t=="number"){u=new Array(t);for(let x=0;x<t;x++)u[x]=r(x+1,x,void 0,h&&h[x])}else if(wt(t))if(t[Symbol.iterator])u=Array.from(t,(x,p)=>r(x,p,void 0,h&&h[p]));else{const x=Object.keys(t);u=new Array(x.length);for(let p=0,E=x.length;p<E;p++){const C=x[p];u[p]=r(t[C],C,p,h&&h[p])}}else u=[];return s&&(s[l]=u),u}const Ea=t=>t?Ec(t)?ma(t)||t.proxy:Ea(t.parent):null,Vo=Nt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ea(t.parent),$root:t=>Ea(t.root),$emit:t=>t.emit,$options:t=>q1(t),$forceUpdate:t=>()=>N1(t.update),$nextTick:t=>R1.bind(t.proxy),$watch:t=>fh.bind(t)}),Yh={get({_:t},r){const{ctx:s,setupState:l,data:u,props:h,accessCache:x,type:p,appContext:E}=t;let C;if(r[0]!=="$"){const B=x[r];if(B!==void 0)switch(B){case 1:return l[r];case 2:return u[r];case 4:return s[r];case 3:return h[r]}else{if(l!==ot&&ze(l,r))return x[r]=1,l[r];if(u!==ot&&ze(u,r))return x[r]=2,u[r];if((C=t.propsOptions[0])&&ze(C,r))return x[r]=3,h[r];if(s!==ot&&ze(s,r))return x[r]=4,s[r];ca&&(x[r]=0)}}const y=Vo[r];let O,T;if(y)return r==="$attrs"&&Kt(t,"get",r),y(t);if((O=p.__cssModules)&&(O=O[r]))return O;if(s!==ot&&ze(s,r))return x[r]=4,s[r];if(T=E.config.globalProperties,ze(T,r))return T[r]},set({_:t},r,s){const{data:l,setupState:u,ctx:h}=t;if(u!==ot&&ze(u,r))u[r]=s;else if(l!==ot&&ze(l,r))l[r]=s;else if(ze(t.props,r))return!1;return r[0]==="$"&&r.slice(1)in t?!1:(h[r]=s,!0)},has({_:{data:t,setupState:r,accessCache:s,ctx:l,appContext:u,propsOptions:h}},x){let p;return!!s[x]||t!==ot&&ze(t,x)||r!==ot&&ze(r,x)||(p=h[0])&&ze(p,x)||ze(l,x)||ze(Vo,x)||ze(u.config.globalProperties,x)}},Kh=lc();let Zh=0;function $h(t,r,s){const l=t.type,u=(r?r.appContext:t.appContext)||Kh,h={uid:Zh++,vnode:t,type:l,parent:r,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new wf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ec(l,u),emitsOptions:L1(l,u),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:l.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=rh.bind(null,h),t.ce&&t.ce(h),h}let St=null;const wc=()=>St||sn,Zr=t=>{St=t,t.scope.on()},Ar=()=>{St&&St.scope.off(),St=null};function Ec(t){return t.vnode.shapeFlag&4}let Fi=!1;function qh(t,r=!1){Fi=r;const{props:s,children:l}=t.vnode,u=Ec(t);vh(t,s,u,r),Mh(t,l);const h=u?Qh(t,r):void 0;return Fi=!1,h}function Qh(t,r){const s=t.type;t.accessCache=Object.create(null),t.proxy=b1(new Proxy(t.ctx,Yh));const{setup:l}=s;if(l){const u=t.setupContext=l.length>1?ed(t):null;Zr(t),jr();const h=Gn(l,t,0,[t.props,u]);if(hr(),Ar(),t1(h)){if(h.then(Ar,Ar),r)return h.then(x=>{mc(t,x,r)}).catch(x=>{So(x,t,0)});t.asyncDep=h}else mc(t,h,r)}else Cc(t,r)}function mc(t,r,s){Le(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:wt(r)&&(t.setupState=O1(r)),Cc(t,s)}let Ac;function Cc(t,r,s){const l=t.type;if(!t.render){if(!r&&Ac&&!l.render){const u=l.template;if(u){const{isCustomElement:h,compilerOptions:x}=t.appContext.config,{delimiters:p,compilerOptions:E}=l,C=Nt(Nt({isCustomElement:h,delimiters:p},x),E);l.render=Ac(u,C)}}t.render=l.render||gn}Zr(t),jr(),bh(t),hr(),Ar()}function Jh(t){return new Proxy(t.attrs,{get(r,s){return Kt(t,"get","$attrs"),r[s]}})}function ed(t){const r=l=>{t.exposed=l||{}};let s;return{get attrs(){return s||(s=Jh(t))},slots:t.slots,emit:t.emit,expose:r}}function ma(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(O1(b1(t.exposed)),{get(r,s){if(s in r)return r[s];if(s in Vo)return Vo[s](t)}}))}function Aa(t){return Le(t)&&t.displayName||t.name}function td(t){return Le(t)&&"__vccOpts"in t}const In=(t,r)=>qf(t,r,Fi);function Ca(t,r,s){const l=arguments.length;return l===2?wt(r)&&!ye(r)?ko(r)?$t(t,null,[r]):$t(t,r):$t(t,null,r):(l>3?s=Array.prototype.slice.call(arguments,2):l===3&&ko(s)&&(s=[s]),$t(t,r,s))}const nd="3.2.28",rd="http://www.w3.org/2000/svg",Cr=typeof document!="undefined"?document:null,_c=Cr&&Cr.createElement("template"),id={insert:(t,r,s)=>{r.insertBefore(t,s||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,s,l)=>{const u=r?Cr.createElementNS(rd,t):Cr.createElement(t,s?{is:s}:void 0);return t==="select"&&l&&l.multiple!=null&&u.setAttribute("multiple",l.multiple),u},createText:t=>Cr.createTextNode(t),createComment:t=>Cr.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cr.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},cloneNode(t){const r=t.cloneNode(!0);return"_value"in t&&(r._value=t._value),r},insertStaticContent(t,r,s,l,u,h){const x=s?s.previousSibling:r.lastChild;if(u&&h)for(;r.insertBefore(u.cloneNode(!0),s),!(u===h||!(u=u.nextSibling)););else{_c.innerHTML=l?`<svg>${t}</svg>`:t;const p=_c.content;if(l){const E=p.firstChild;for(;E.firstChild;)p.appendChild(E.firstChild);p.removeChild(E)}r.insertBefore(p,s)}return[x?x.nextSibling:r.firstChild,s?s.previousSibling:r.lastChild]}};function od(t,r,s){const l=t._vtc;l&&(r=(r?[r,...l]:[...l]).join(" ")),r==null?t.removeAttribute("class"):s?t.setAttribute("class",r):t.className=r}function sd(t,r,s){const l=t.style,u=yt(s);if(s&&!u){for(const h in s)_a(l,h,s[h]);if(r&&!yt(r))for(const h in r)s[h]==null&&_a(l,h,"")}else{const h=l.display;u?r!==s&&(l.cssText=s):r&&t.removeAttribute("style"),"_vod"in t&&(l.display=h)}}const yc=/\s*!important$/;function _a(t,r,s){if(ye(s))s.forEach(l=>_a(t,r,l));else if(r.startsWith("--"))t.setProperty(r,s);else{const l=ad(t,r);yc.test(s)?t.setProperty(Vr(l),s.replace(yc,""),"important"):t[l]=s}}const bc=["Webkit","Moz","ms"],ya={};function ad(t,r){const s=ya[r];if(s)return s;let l=Cn(r);if(l!=="filter"&&l in t)return ya[r]=l;l=Eo(l);for(let u=0;u<bc.length;u++){const h=bc[u]+l;if(h in t)return ya[r]=h}return r}const Ic="http://www.w3.org/1999/xlink";function ld(t,r,s,l,u){if(l&&r.startsWith("xlink:"))s==null?t.removeAttributeNS(Ic,r.slice(6,r.length)):t.setAttributeNS(Ic,r,s);else{const h=of(r);s==null||h&&!Ql(s)?t.removeAttribute(r):t.setAttribute(r,h?"":s)}}function cd(t,r,s,l,u,h,x){if(r==="innerHTML"||r==="textContent"){l&&x(l,u,h),t[r]=s==null?"":s;return}if(r==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const p=s==null?"":s;(t.value!==p||t.tagName==="OPTION")&&(t.value=p),s==null&&t.removeAttribute(r);return}if(s===""||s==null){const p=typeof t[r];if(p==="boolean"){t[r]=Ql(s);return}else if(s==null&&p==="string"){t[r]="",t.removeAttribute(r);return}else if(p==="number"){try{t[r]=0}catch{}t.removeAttribute(r);return}}try{t[r]=s}catch{}}let Go=Date.now,Tc=!1;if(typeof window!="undefined"){Go()>document.createEvent("Event").timeStamp&&(Go=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Tc=!!(t&&Number(t[1])<=53)}let ba=0;const ud=Promise.resolve(),fd=()=>{ba=0},hd=()=>ba||(ud.then(fd),ba=Go());function Mn(t,r,s,l){t.addEventListener(r,s,l)}function dd(t,r,s,l){t.removeEventListener(r,s,l)}function gd(t,r,s,l,u=null){const h=t._vei||(t._vei={}),x=h[r];if(l&&x)x.value=l;else{const[p,E]=xd(r);if(l){const C=h[r]=pd(l,u);Mn(t,p,C,E)}else x&&(dd(t,p,x,E),h[r]=void 0)}}const Sc=/(?:Once|Passive|Capture)$/;function xd(t){let r;if(Sc.test(t)){r={};let s;for(;s=t.match(Sc);)t=t.slice(0,t.length-s[0].length),r[s[0].toLowerCase()]=!0}return[Vr(t.slice(2)),r]}function pd(t,r){const s=l=>{const u=l.timeStamp||Go();(Tc||u>=s.attached-1)&&on(wd(l,s.value),r,5,[l])};return s.value=t,s.attached=hd(),s}function wd(t,r){if(ye(r)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},r.map(l=>u=>!u._stopped&&l&&l(u))}else return r}const Oc=/^on[a-z]/,Ed=(t,r,s,l,u=!1,h,x,p,E)=>{r==="class"?od(t,l,u):r==="style"?sd(t,s,l):go(r)?Bs(r)||gd(t,r,s,l,x):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):md(t,r,l,u))?cd(t,r,l,h,x,p,E):(r==="true-value"?t._trueValue=l:r==="false-value"&&(t._falseValue=l),ld(t,r,l,u))};function md(t,r,s,l){return l?!!(r==="innerHTML"||r==="textContent"||r in t&&Oc.test(r)&&Le(s)):r==="spellcheck"||r==="draggable"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA"||Oc.test(r)&&yt(s)?!1:r in t}const zn="transition",ki="animation",vc=(t,{slots:r})=>Ca(V1,Ad(t),r);vc.displayName="Transition";const Rc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};vc.props=Nt({},V1.props,Rc);const _r=(t,r=[])=>{ye(t)?t.forEach(s=>s(...r)):t&&t(...r)},Nc=t=>t?ye(t)?t.some(r=>r.length>1):t.length>1:!1;function Ad(t){const r={};for(const se in t)se in Rc||(r[se]=t[se]);if(t.css===!1)return r;const{name:s="v",type:l,duration:u,enterFromClass:h=`${s}-enter-from`,enterActiveClass:x=`${s}-enter-active`,enterToClass:p=`${s}-enter-to`,appearFromClass:E=h,appearActiveClass:C=x,appearToClass:y=p,leaveFromClass:O=`${s}-leave-from`,leaveActiveClass:T=`${s}-leave-active`,leaveToClass:B=`${s}-leave-to`}=t,M=Cd(u),q=M&&M[0],J=M&&M[1],{onBeforeEnter:X,onEnter:F,onEnterCancelled:j,onLeave:K,onLeaveCancelled:ae,onBeforeAppear:W=X,onAppear:re=F,onAppearCancelled:Y=j}=r,ve=(se,be,V)=>{$r(se,be?y:p),$r(se,be?C:x),V&&V()},Te=(se,be)=>{$r(se,B),$r(se,T),be&&be()},ue=se=>(be,V)=>{const Je=se?re:F,we=()=>ve(be,se,V);_r(Je,[be,we]),Mc(()=>{$r(be,se?E:h),Yn(be,se?y:p),Nc(Je)||Dc(be,l,q,we)})};return Nt(r,{onBeforeEnter(se){_r(X,[se]),Yn(se,h),Yn(se,x)},onBeforeAppear(se){_r(W,[se]),Yn(se,E),Yn(se,C)},onEnter:ue(!1),onAppear:ue(!0),onLeave(se,be){const V=()=>Te(se,be);Yn(se,O),bd(),Yn(se,T),Mc(()=>{$r(se,O),Yn(se,B),Nc(K)||Dc(se,l,J,V)}),_r(K,[se,V])},onEnterCancelled(se){ve(se,!1),_r(j,[se])},onAppearCancelled(se){ve(se,!0),_r(Y,[se])},onLeaveCancelled(se){Te(se),_r(ae,[se])}})}function Cd(t){if(t==null)return null;if(wt(t))return[Ia(t.enter),Ia(t.leave)];{const r=Ia(t);return[r,r]}}function Ia(t){return bi(t)}function Yn(t,r){r.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(r)}function $r(t,r){r.split(/\s+/).forEach(l=>l&&t.classList.remove(l));const{_vtc:s}=t;s&&(s.delete(r),s.size||(t._vtc=void 0))}function Mc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let _d=0;function Dc(t,r,s,l){const u=t._endId=++_d,h=()=>{u===t._endId&&l()};if(s)return setTimeout(h,s);const{type:x,timeout:p,propCount:E}=yd(t,r);if(!x)return l();const C=x+"end";let y=0;const O=()=>{t.removeEventListener(C,T),h()},T=B=>{B.target===t&&++y>=E&&O()};setTimeout(()=>{y<E&&O()},p+1),t.addEventListener(C,T)}function yd(t,r){const s=window.getComputedStyle(t),l=M=>(s[M]||"").split(", "),u=l(zn+"Delay"),h=l(zn+"Duration"),x=Bc(u,h),p=l(ki+"Delay"),E=l(ki+"Duration"),C=Bc(p,E);let y=null,O=0,T=0;r===zn?x>0&&(y=zn,O=x,T=h.length):r===ki?C>0&&(y=ki,O=C,T=E.length):(O=Math.max(x,C),y=O>0?x>C?zn:ki:null,T=y?y===zn?h.length:E.length:0);const B=y===zn&&/\b(transform|all)(,|$)/.test(s[zn+"Property"]);return{type:y,timeout:O,propCount:T,hasTransform:B}}function Bc(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((s,l)=>Pc(s)+Pc(t[l])))}function Pc(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function bd(){return document.body.offsetHeight}const Kn=t=>{const r=t.props["onUpdate:modelValue"];return ye(r)?s=>Gr(r,s):r};function Id(t){t.target.composing=!0}function Lc(t){const r=t.target;r.composing&&(r.composing=!1,Td(r,"input"))}function Td(t,r){const s=document.createEvent("HTMLEvents");s.initEvent(r,!0,!0),t.dispatchEvent(s)}const Sm={created(t,{modifiers:{lazy:r,trim:s,number:l}},u){t._assign=Kn(u);const h=l||u.props&&u.props.type==="number";Mn(t,r?"change":"input",x=>{if(x.target.composing)return;let p=t.value;s?p=p.trim():h&&(p=bi(p)),t._assign(p)}),s&&Mn(t,"change",()=>{t.value=t.value.trim()}),r||(Mn(t,"compositionstart",Id),Mn(t,"compositionend",Lc),Mn(t,"change",Lc))},mounted(t,{value:r}){t.value=r==null?"":r},beforeUpdate(t,{value:r,modifiers:{lazy:s,trim:l,number:u}},h){if(t._assign=Kn(h),t.composing||document.activeElement===t&&(s||l&&t.value.trim()===r||(u||t.type==="number")&&bi(t.value)===r))return;const x=r==null?"":r;t.value!==x&&(t.value=x)}},Om={deep:!0,created(t,r,s){t._assign=Kn(s),Mn(t,"change",()=>{const l=t._modelValue,u=qr(t),h=t.checked,x=t._assign;if(ye(l)){const p=Ds(l,u),E=p!==-1;if(h&&!E)x(l.concat(u));else if(!h&&E){const C=[...l];C.splice(p,1),x(C)}}else if(Hr(l)){const p=new Set(l);h?p.add(u):p.delete(u),x(p)}else x(Uc(t,h))})},mounted:Fc,beforeUpdate(t,r,s){t._assign=Kn(s),Fc(t,r,s)}};function Fc(t,{value:r,oldValue:s},l){t._modelValue=r,ye(r)?t.checked=Ds(r,l.props.value)>-1:Hr(r)?t.checked=r.has(l.props.value):r!==s&&(t.checked=lr(r,Uc(t,!0)))}const vm={created(t,{value:r},s){t.checked=lr(r,s.props.value),t._assign=Kn(s),Mn(t,"change",()=>{t._assign(qr(t))})},beforeUpdate(t,{value:r,oldValue:s},l){t._assign=Kn(l),r!==s&&(t.checked=lr(r,l.props.value))}},Rm={deep:!0,created(t,{value:r,modifiers:{number:s}},l){const u=Hr(r);Mn(t,"change",()=>{const h=Array.prototype.filter.call(t.options,x=>x.selected).map(x=>s?bi(qr(x)):qr(x));t._assign(t.multiple?u?new Set(h):h:h[0])}),t._assign=Kn(l)},mounted(t,{value:r}){kc(t,r)},beforeUpdate(t,r,s){t._assign=Kn(s)},updated(t,{value:r}){kc(t,r)}};function kc(t,r){const s=t.multiple;if(!(s&&!ye(r)&&!Hr(r))){for(let l=0,u=t.options.length;l<u;l++){const h=t.options[l],x=qr(h);if(s)ye(r)?h.selected=Ds(r,x)>-1:h.selected=r.has(x);else if(lr(qr(h),r)){t.selectedIndex!==l&&(t.selectedIndex=l);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qr(t){return"_value"in t?t._value:t.value}function Uc(t,r){const s=r?"_trueValue":"_falseValue";return s in t?t[s]:r}const Nm={beforeMount(t,{value:r},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&r?s.beforeEnter(t):Ui(t,r)},mounted(t,{value:r},{transition:s}){s&&r&&s.enter(t)},updated(t,{value:r,oldValue:s},{transition:l}){!r!=!s&&(l?r?(l.beforeEnter(t),Ui(t,!0),l.enter(t)):l.leave(t,()=>{Ui(t,!1)}):Ui(t,r))},beforeUnmount(t,{value:r}){Ui(t,r)}};function Ui(t,r){t.style.display=r?t._vod:"none"}const Sd=Nt({patchProp:Ed},id);let Hc;function Od(){return Hc||(Hc=Lh(Sd))}const Mm=(...t)=>{const r=Od().createApp(...t),{mount:s}=r;return r.mount=l=>{const u=vd(l);if(!u)return;const h=r._component;!Le(h)&&!h.render&&!h.template&&(h.template=u.innerHTML),u.innerHTML="";const x=s(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),x},r};function vd(t){return yt(t)?document.querySelector(t):t}var Hi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ta={},Xo={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});function Nd(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var Md=function t(r,s){Nd(this,t),this.data=r,this.text=s.text||r,this.options=s};Wt.default=Md;Object.defineProperty(Xo,"__esModule",{value:!0});Xo.CODE39=void 0;var Dd=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Bd=Wt,Pd=Ld(Bd);function Ld(t){return t&&t.__esModule?t:{default:t}}function Fd(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function kd(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Ud(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Hd=function(t){Ud(r,t);function r(s,l){return Fd(this,r),s=s.toUpperCase(),l.mod43&&(s+=Xd(Wd(s))),kd(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return Dd(r,[{key:"encode",value:function(){for(var l=Sa("*"),u=0;u<this.data.length;u++)l+=Sa(this.data[u])+"0";return l+=Sa("*"),{data:l,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),r}(Pd.default),Vc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Vd=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Sa(t){return Gd(Gc(t))}function Gd(t){return Vd[t].toString(2)}function Xd(t){return Vc[t]}function Gc(t){return Vc.indexOf(t)}function Wd(t){for(var r=0,s=0;s<t.length;s++)r+=Gc(t[s]);return r=r%43,r}Xo.CODE39=Hd;var Tn={},Oa={},Qr={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});var Vi;function va(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}var Xc=ht.SET_A=0,Wc=ht.SET_B=1,jc=ht.SET_C=2;ht.SHIFT=98;var jd=ht.START_A=103,zd=ht.START_B=104,Yd=ht.START_C=105;ht.MODULO=103;ht.STOP=106;ht.FNC1=207;ht.SET_BY_CODE=(Vi={},va(Vi,jd,Xc),va(Vi,zd,Wc),va(Vi,Yd,jc),Vi);ht.SWAP={101:Xc,100:Wc,99:jc};ht.A_START_CHAR=String.fromCharCode(208);ht.B_START_CHAR=String.fromCharCode(209);ht.C_START_CHAR=String.fromCharCode(210);ht.A_CHARS="[\0-_\xC8-\xCF]";ht.B_CHARS="[ -\x7F\xC8-\xCF]";ht.C_CHARS="(\xCF*[0-9]{2}\xCF*)";ht.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Qr,"__esModule",{value:!0});var Kd=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Zd=Wt,$d=qd(Zd),qt=ht;function qd(t){return t&&t.__esModule?t:{default:t}}function Qd(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Jd(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function eg(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var tg=function(t){eg(r,t);function r(s,l){Qd(this,r);var u=Jd(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s.substring(1),l));return u.bytes=s.split("").map(function(h){return h.charCodeAt(0)}),u}return Kd(r,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var l=this.bytes,u=l.shift()-105,h=qt.SET_BY_CODE[u];if(h===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&l.unshift(qt.FNC1);var x=r.next(l,1,h);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:r.getBar(u)+x.result+r.getBar((x.checksum+u)%qt.MODULO)+r.getBar(qt.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var l=this.options.ean128||!1;return typeof l=="string"&&(l=l.toLowerCase()==="true"),l}}],[{key:"getBar",value:function(l){return qt.BARS[l]?qt.BARS[l].toString():""}},{key:"correctIndex",value:function(l,u){if(u===qt.SET_A){var h=l.shift();return h<32?h+64:h-32}else return u===qt.SET_B?l.shift()-32:(l.shift()-48)*10+l.shift()-48}},{key:"next",value:function(l,u,h){if(!l.length)return{result:"",checksum:0};var x=void 0,p=void 0;if(l[0]>=200){p=l.shift()-105;var E=qt.SWAP[p];E!==void 0?x=r.next(l,u+1,E):((h===qt.SET_A||h===qt.SET_B)&&p===qt.SHIFT&&(l[0]=h===qt.SET_A?l[0]>95?l[0]-96:l[0]:l[0]<32?l[0]+96:l[0]),x=r.next(l,u+1,h))}else p=r.correctIndex(l,h),x=r.next(l,u+1,h);var C=r.getBar(p),y=p*u;return{result:C+x.result,checksum:y+x.checksum}}}]),r}($d.default);Qr.default=tg;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});var Zn=ht,zc=function(r){return r.match(new RegExp("^"+Zn.A_CHARS+"*"))[0].length},Yc=function(r){return r.match(new RegExp("^"+Zn.B_CHARS+"*"))[0].length},Kc=function(r){return r.match(new RegExp("^"+Zn.C_CHARS+"*"))[0]};function Na(t,r){var s=r?Zn.A_CHARS:Zn.B_CHARS,l=t.match(new RegExp("^("+s+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(l)return l[1]+String.fromCharCode(204)+Zc(t.substring(l[1].length));var u=t.match(new RegExp("^"+s+"+"))[0];return u.length===t.length?t:u+String.fromCharCode(r?205:206)+Na(t.substring(u.length),!r)}function Zc(t){var r=Kc(t),s=r.length;if(s===t.length)return t;t=t.substring(s);var l=zc(t)>=Yc(t);return r+String.fromCharCode(l?206:205)+Na(t,l)}Ra.default=function(t){var r=void 0,s=Kc(t).length;if(s>=2)r=Zn.C_START_CHAR+Zc(t);else{var l=zc(t)>Yc(t);r=(l?Zn.A_START_CHAR:Zn.B_START_CHAR)+Na(t,l)}return r.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(u,h){return String.fromCharCode(203)+h})};Object.defineProperty(Oa,"__esModule",{value:!0});var ng=Qr,rg=$c(ng),ig=Ra,og=$c(ig);function $c(t){return t&&t.__esModule?t:{default:t}}function sg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ma(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function ag(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var lg=function(t){ag(r,t);function r(s,l){if(sg(this,r),/^[\x00-\x7F\xC8-\xD3]+$/.test(s))var u=Ma(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,(0,og.default)(s),l));else var u=Ma(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l));return Ma(u)}return r}(rg.default);Oa.default=lg;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});var cg=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),ug=Qr,fg=hg(ug),qc=ht;function hg(t){return t&&t.__esModule?t:{default:t}}function dg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function xg(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var pg=function(t){xg(r,t);function r(s,l){return dg(this,r),gg(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,qc.A_START_CHAR+s,l))}return cg(r,[{key:"valid",value:function(){return new RegExp("^"+qc.A_CHARS+"+$").test(this.data)}}]),r}(fg.default);Da.default=pg;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});var wg=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Eg=Qr,mg=Ag(Eg),Qc=ht;function Ag(t){return t&&t.__esModule?t:{default:t}}function Cg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _g(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function yg(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var bg=function(t){yg(r,t);function r(s,l){return Cg(this,r),_g(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,Qc.B_START_CHAR+s,l))}return wg(r,[{key:"valid",value:function(){return new RegExp("^"+Qc.B_CHARS+"+$").test(this.data)}}]),r}(mg.default);Ba.default=bg;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});var Ig=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Tg=Qr,Sg=Og(Tg),Jc=ht;function Og(t){return t&&t.__esModule?t:{default:t}}function vg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Rg(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Ng(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Mg=function(t){Ng(r,t);function r(s,l){return vg(this,r),Rg(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,Jc.C_START_CHAR+s,l))}return Ig(r,[{key:"valid",value:function(){return new RegExp("^"+Jc.C_CHARS+"+$").test(this.data)}}]),r}(Sg.default);Pa.default=Mg;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.CODE128C=Tn.CODE128B=Tn.CODE128A=Tn.CODE128=void 0;var Dg=Oa,Bg=Wo(Dg),Pg=Da,Lg=Wo(Pg),Fg=Ba,kg=Wo(Fg),Ug=Pa,Hg=Wo(Ug);function Wo(t){return t&&t.__esModule?t:{default:t}}Tn.CODE128=Bg.default;Tn.CODE128A=Lg.default;Tn.CODE128B=kg.default;Tn.CODE128C=Hg.default;var jt={},La={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.SIDE_BIN="101";cn.MIDDLE_BIN="01010";cn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};cn.EAN2_STRUCTURE=["LL","LG","GL","GG"];cn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];cn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var jo={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});var Vg=cn,Gg=function(r,s,l){var u=r.split("").map(function(x,p){return Vg.BINARIES[s[p]]}).map(function(x,p){return x?x[r[p]]:""});if(l){var h=r.length-1;u=u.map(function(x,p){return p<h?x+l:x})}return u.join("")};yr.default=Gg;Object.defineProperty(jo,"__esModule",{value:!0});var Xg=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Jr=cn,Wg=yr,e0=t0(Wg),jg=Wt,zg=t0(jg);function t0(t){return t&&t.__esModule?t:{default:t}}function Yg(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Kg(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Zg(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var $g=function(t){Zg(r,t);function r(s,l){Yg(this,r);var u=Kg(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l));return u.fontSize=!l.flat&&l.fontSize>l.width*10?l.width*10:l.fontSize,u.guardHeight=l.height+u.fontSize/2+l.textMargin,u}return Xg(r,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(l,u){return this.text.substr(l,u)}},{key:"leftEncode",value:function(l,u){return(0,e0.default)(l,u)}},{key:"rightText",value:function(l,u){return this.text.substr(l,u)}},{key:"rightEncode",value:function(l,u){return(0,e0.default)(l,u)}},{key:"encodeGuarded",value:function(){var l={fontSize:this.fontSize},u={height:this.guardHeight};return[{data:Jr.SIDE_BIN,options:u},{data:this.leftEncode(),text:this.leftText(),options:l},{data:Jr.MIDDLE_BIN,options:u},{data:this.rightEncode(),text:this.rightText(),options:l},{data:Jr.SIDE_BIN,options:u}]}},{key:"encodeFlat",value:function(){var l=[Jr.SIDE_BIN,this.leftEncode(),Jr.MIDDLE_BIN,this.rightEncode(),Jr.SIDE_BIN];return{data:l.join(""),text:this.text}}}]),r}(zg.default);jo.default=$g;Object.defineProperty(La,"__esModule",{value:!0});var qg=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Gi=function t(r,s,l){r===null&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,s);if(u===void 0){var h=Object.getPrototypeOf(r);return h===null?void 0:t(h,s,l)}else{if("value"in u)return u.value;var x=u.get;return x===void 0?void 0:x.call(l)}},Qg=cn,Jg=jo,e2=t2(Jg);function t2(t){return t&&t.__esModule?t:{default:t}}function n2(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function r2(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function i2(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var n0=function(r){var s=r.substr(0,12).split("").map(function(l){return+l}).reduce(function(l,u,h){return h%2?l+u*3:l+u},0);return(10-s%10)%10},o2=function(t){i2(r,t);function r(s,l){n2(this,r),s.search(/^[0-9]{12}$/)!==-1&&(s+=n0(s));var u=r2(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l));return u.lastChar=l.lastChar,u}return qg(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===n0(this.data)}},{key:"leftText",value:function(){return Gi(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var l=this.data.substr(1,6),u=Qg.EAN13_STRUCTURE[this.data[0]];return Gi(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,l,u)}},{key:"rightText",value:function(){return Gi(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var l=this.data.substr(7,6);return Gi(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,l,"RRRRRR")}},{key:"encodeGuarded",value:function(){var l=Gi(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(l.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(l.push({data:"00"}),l.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),l}}]),r}(e2.default);La.default=o2;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});var s2=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),zo=function t(r,s,l){r===null&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,s);if(u===void 0){var h=Object.getPrototypeOf(r);return h===null?void 0:t(h,s,l)}else{if("value"in u)return u.value;var x=u.get;return x===void 0?void 0:x.call(l)}},a2=jo,l2=c2(a2);function c2(t){return t&&t.__esModule?t:{default:t}}function u2(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function f2(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function h2(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var r0=function(r){var s=r.substr(0,7).split("").map(function(l){return+l}).reduce(function(l,u,h){return h%2?l+u:l+u*3},0);return(10-s%10)%10},d2=function(t){h2(r,t);function r(s,l){return u2(this,r),s.search(/^[0-9]{7}$/)!==-1&&(s+=r0(s)),f2(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return s2(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===r0(this.data)}},{key:"leftText",value:function(){return zo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var l=this.data.substr(0,4);return zo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,l,"LLLL")}},{key:"rightText",value:function(){return zo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var l=this.data.substr(4,4);return zo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,l,"RRRR")}}]),r}(l2.default);Fa.default=d2;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});var g2=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),x2=cn,p2=yr,w2=i0(p2),E2=Wt,m2=i0(E2);function i0(t){return t&&t.__esModule?t:{default:t}}function A2(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function C2(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function _2(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var y2=function(r){var s=r.split("").map(function(l){return+l}).reduce(function(l,u,h){return h%2?l+u*9:l+u*3},0);return s%10},b2=function(t){_2(r,t);function r(s,l){return A2(this,r),C2(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return g2(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var l=x2.EAN5_STRUCTURE[y2(this.data)];return{data:"1011"+(0,w2.default)(this.data,l,"01"),text:this.text}}}]),r}(m2.default);ka.default=b2;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});var I2=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),T2=cn,S2=yr,O2=o0(S2),v2=Wt,R2=o0(v2);function o0(t){return t&&t.__esModule?t:{default:t}}function N2(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function M2(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function D2(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var B2=function(t){D2(r,t);function r(s,l){return N2(this,r),M2(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return I2(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var l=T2.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,O2.default)(this.data,l,"01"),text:this.text}}}]),r}(R2.default);Ua.default=B2;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});var P2=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}();Xi.checksum=Ha;var L2=yr,ei=s0(L2),F2=Wt,k2=s0(F2);function s0(t){return t&&t.__esModule?t:{default:t}}function U2(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function H2(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function V2(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var G2=function(t){V2(r,t);function r(s,l){U2(this,r),s.search(/^[0-9]{11}$/)!==-1&&(s+=Ha(s));var u=H2(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l));return u.displayValue=l.displayValue,l.fontSize>l.width*10?u.fontSize=l.width*10:u.fontSize=l.fontSize,u.guardHeight=l.height+u.fontSize/2+l.textMargin,u}return P2(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Ha(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var l="";return l+="101",l+=(0,ei.default)(this.data.substr(0,6),"LLLLLL"),l+="01010",l+=(0,ei.default)(this.data.substr(6,6),"RRRRRR"),l+="101",{data:l,text:this.text}}},{key:"guardedEncoding",value:function(){var l=[];return this.displayValue&&l.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),l.push({data:"101"+(0,ei.default)(this.data[0],"L"),options:{height:this.guardHeight}}),l.push({data:(0,ei.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),l.push({data:"01010",options:{height:this.guardHeight}}),l.push({data:(0,ei.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),l.push({data:(0,ei.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&l.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),l}}]),r}(k2.default);function Ha(t){var r=0,s;for(s=1;s<11;s+=2)r+=parseInt(t[s]);for(s=0;s<11;s+=2)r+=parseInt(t[s])*3;return(10-r%10)%10}Xi.default=G2;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});var X2=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),W2=yr,j2=a0(W2),z2=Wt,Y2=a0(z2),K2=Xi;function a0(t){return t&&t.__esModule?t:{default:t}}function Z2(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ga(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function $2(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var q2=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Q2=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],J2=function(t){$2(r,t);function r(s,l){Z2(this,r);var u=Ga(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l));if(u.isValid=!1,s.search(/^[0-9]{6}$/)!==-1)u.middleDigits=s,u.upcA=l0(s,"0"),u.text=l.text||""+u.upcA[0]+s+u.upcA[u.upcA.length-1],u.isValid=!0;else if(s.search(/^[01][0-9]{7}$/)!==-1)if(u.middleDigits=s.substring(1,s.length-1),u.upcA=l0(u.middleDigits,s[0]),u.upcA[u.upcA.length-1]===s[s.length-1])u.isValid=!0;else return Ga(u);else return Ga(u);return u.displayValue=l.displayValue,l.fontSize>l.width*10?u.fontSize=l.width*10:u.fontSize=l.fontSize,u.guardHeight=l.height+u.fontSize/2+l.textMargin,u}return X2(r,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var l="";return l+="101",l+=this.encodeMiddleDigits(),l+="010101",{data:l,text:this.text}}},{key:"guardedEncoding",value:function(){var l=[];return this.displayValue&&l.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),l.push({data:"101",options:{height:this.guardHeight}}),l.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),l.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&l.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),l}},{key:"encodeMiddleDigits",value:function(){var l=this.upcA[0],u=this.upcA[this.upcA.length-1],h=Q2[parseInt(u)][parseInt(l)];return(0,j2.default)(this.middleDigits,h)}}]),r}(Y2.default);function l0(t,r){for(var s=parseInt(t[t.length-1]),l=q2[s],u="",h=0,x=0;x<l.length;x++){var p=l[x];p==="X"?u+=t[h++]:u+=p}return u=""+r+u,""+u+(0,K2.checksum)(u)}Va.default=J2;Object.defineProperty(jt,"__esModule",{value:!0});jt.UPCE=jt.UPC=jt.EAN2=jt.EAN5=jt.EAN8=jt.EAN13=void 0;var ex=La,tx=ti(ex),nx=Fa,rx=ti(nx),ix=ka,ox=ti(ix),sx=Ua,ax=ti(sx),lx=Xi,cx=ti(lx),ux=Va,fx=ti(ux);function ti(t){return t&&t.__esModule?t:{default:t}}jt.EAN13=tx.default;jt.EAN8=rx.default;jt.EAN5=ox.default;jt.EAN2=ax.default;jt.UPC=cx.default;jt.UPCE=fx.default;var ni={},Yo={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.START_BIN="1010";Wi.END_BIN="11101";Wi.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(Yo,"__esModule",{value:!0});var hx=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Ko=Wi,dx=Wt,gx=xx(dx);function xx(t){return t&&t.__esModule?t:{default:t}}function px(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wx(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Ex(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var mx=function(t){Ex(r,t);function r(){return px(this,r),wx(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return hx(r,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var l=this,u=this.data.match(/.{2}/g).map(function(h){return l.encodePair(h)}).join("");return{data:Ko.START_BIN+u+Ko.END_BIN,text:this.text}}},{key:"encodePair",value:function(l){var u=Ko.BINARIES[l[1]];return Ko.BINARIES[l[0]].split("").map(function(h,x){return(h==="1"?"111":"1")+(u[x]==="1"?"000":"0")}).join("")}}]),r}(gx.default);Yo.default=mx;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});var Ax=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Cx=Yo,_x=yx(Cx);function yx(t){return t&&t.__esModule?t:{default:t}}function bx(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ix(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Tx(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var c0=function(r){var s=r.substr(0,13).split("").map(function(l){return parseInt(l,10)}).reduce(function(l,u,h){return l+u*(3-h%2*2)},0);return Math.ceil(s/10)*10-s},Sx=function(t){Tx(r,t);function r(s,l){return bx(this,r),s.search(/^[0-9]{13}$/)!==-1&&(s+=c0(s)),Ix(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return Ax(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===c0(this.data)}}]),r}(_x.default);Xa.default=Sx;Object.defineProperty(ni,"__esModule",{value:!0});ni.ITF14=ni.ITF=void 0;var Ox=Yo,vx=u0(Ox),Rx=Xa,Nx=u0(Rx);function u0(t){return t&&t.__esModule?t:{default:t}}ni.ITF=vx.default;ni.ITF14=Nx.default;var un={},br={};Object.defineProperty(br,"__esModule",{value:!0});var Mx=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Dx=Wt,Bx=Px(Dx);function Px(t){return t&&t.__esModule?t:{default:t}}function Lx(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Fx(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function kx(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Ux=function(t){kx(r,t);function r(s,l){return Lx(this,r),Fx(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return Mx(r,[{key:"encode",value:function(){for(var l="110",u=0;u<this.data.length;u++){var h=parseInt(this.data[u]),x=h.toString(2);x=Hx(x,4-x.length);for(var p=0;p<x.length;p++)l+=x[p]=="0"?"100":"110"}return l+="1001",{data:l,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),r}(Bx.default);function Hx(t,r){for(var s=0;s<r;s++)t="0"+t;return t}br.default=Ux;var Wa={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.mod10=Vx;Ir.mod11=Gx;function Vx(t){for(var r=0,s=0;s<t.length;s++){var l=parseInt(t[s]);(s+t.length)%2==0?r+=l:r+=l*2%10+Math.floor(l*2/10)}return(10-r%10)%10}function Gx(t){for(var r=0,s=[2,3,4,5,6,7],l=0;l<t.length;l++){var u=parseInt(t[t.length-1-l]);r+=s[l%s.length]*u}return(11-r%11)%11}Object.defineProperty(Wa,"__esModule",{value:!0});var Xx=br,Wx=zx(Xx),jx=Ir;function zx(t){return t&&t.__esModule?t:{default:t}}function Yx(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Kx(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Zx(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var $x=function(t){Zx(r,t);function r(s,l){return Yx(this,r),Kx(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s+(0,jx.mod10)(s),l))}return r}(Wx.default);Wa.default=$x;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});var qx=br,Qx=ep(qx),Jx=Ir;function ep(t){return t&&t.__esModule?t:{default:t}}function tp(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function np(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function rp(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var ip=function(t){rp(r,t);function r(s,l){return tp(this,r),np(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s+(0,Jx.mod11)(s),l))}return r}(Qx.default);ja.default=ip;var za={};Object.defineProperty(za,"__esModule",{value:!0});var op=br,sp=ap(op),f0=Ir;function ap(t){return t&&t.__esModule?t:{default:t}}function lp(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function cp(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function up(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var fp=function(t){up(r,t);function r(s,l){return lp(this,r),s+=(0,f0.mod10)(s),s+=(0,f0.mod10)(s),cp(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return r}(sp.default);za.default=fp;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});var hp=br,dp=gp(hp),h0=Ir;function gp(t){return t&&t.__esModule?t:{default:t}}function xp(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function pp(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function wp(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Ep=function(t){wp(r,t);function r(s,l){return xp(this,r),s+=(0,h0.mod11)(s),s+=(0,h0.mod10)(s),pp(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return r}(dp.default);Ya.default=Ep;Object.defineProperty(un,"__esModule",{value:!0});un.MSI1110=un.MSI1010=un.MSI11=un.MSI10=un.MSI=void 0;var mp=br,Ap=ji(mp),Cp=Wa,_p=ji(Cp),yp=ja,bp=ji(yp),Ip=za,Tp=ji(Ip),Sp=Ya,Op=ji(Sp);function ji(t){return t&&t.__esModule?t:{default:t}}un.MSI=Ap.default;un.MSI10=_p.default;un.MSI11=bp.default;un.MSI1010=Tp.default;un.MSI1110=Op.default;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.pharmacode=void 0;var vp=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Rp=Wt,Np=Mp(Rp);function Mp(t){return t&&t.__esModule?t:{default:t}}function Dp(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Bp(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Pp(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Lp=function(t){Pp(r,t);function r(s,l){Dp(this,r);var u=Bp(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l));return u.number=parseInt(s,10),u}return vp(r,[{key:"encode",value:function(){for(var l=this.number,u="";!isNaN(l)&&l!=0;)l%2==0?(u="11100"+u,l=(l-2)/2):(u="100"+u,l=(l-1)/2);return u=u.slice(0,-2),{data:u,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),r}(Np.default);Zo.pharmacode=Lp;var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.codabar=void 0;var Fp=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),kp=Wt,Up=Hp(kp);function Hp(t){return t&&t.__esModule?t:{default:t}}function Vp(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Gp(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function Xp(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Wp=function(t){Xp(r,t);function r(s,l){Vp(this,r),s.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(s="A"+s+"A");var u=Gp(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s.toUpperCase(),l));return u.text=u.options.text||u.text.replace(/[A-D]/g,""),u}return Fp(r,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var l=[],u=this.getEncodings(),h=0;h<this.data.length;h++)l.push(u[this.data.charAt(h)]),h!==this.data.length-1&&l.push("0");return{text:this.text,data:l.join("")}}},{key:"getEncodings",value:function(){return{"0":"101010011","1":"101011001","2":"101001011","3":"110010101","4":"101101001","5":"110101001","6":"100101011","7":"100101101","8":"100110101","9":"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),r}(Up.default);$o.codabar=Wp;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.GenericBarcode=void 0;var jp=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),zp=Wt,Yp=Kp(zp);function Kp(t){return t&&t.__esModule?t:{default:t}}function Zp(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function $p(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function qp(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Qp=function(t){qp(r,t);function r(s,l){return Zp(this,r),$p(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s,l))}return jp(r,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),r}(Yp.default);qo.GenericBarcode=Qp;Object.defineProperty(Ta,"__esModule",{value:!0});var Jp=Xo,Qo=Tn,ri=jt,d0=ni,zi=un,ew=Zo,tw=$o,nw=qo;Ta.default={CODE39:Jp.CODE39,CODE128:Qo.CODE128,CODE128A:Qo.CODE128A,CODE128B:Qo.CODE128B,CODE128C:Qo.CODE128C,EAN13:ri.EAN13,EAN8:ri.EAN8,EAN5:ri.EAN5,EAN2:ri.EAN2,UPC:ri.UPC,UPCE:ri.UPCE,ITF14:d0.ITF14,ITF:d0.ITF,MSI:zi.MSI,MSI10:zi.MSI10,MSI11:zi.MSI11,MSI1010:zi.MSI1010,MSI1110:zi.MSI1110,pharmacode:ew.pharmacode,codabar:tw.codabar,GenericBarcode:nw.GenericBarcode};var ii={};Object.defineProperty(ii,"__esModule",{value:!0});var rw=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l])}return t};ii.default=function(t,r){return rw({},t,r)};var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=iw;function iw(t){var r=[];function s(l){if(Array.isArray(l))for(var u=0;u<l.length;u++)s(l[u]);else l.text=l.text||"",l.data=l.data||"",r.push(l)}return s(t),r}var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.default=ow;function ow(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var $a={},qa={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.default=sw;function sw(t){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in r)r.hasOwnProperty(s)&&(s=r[s],typeof t[s]=="string"&&(t[s]=parseInt(t[s],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var es={};Object.defineProperty(es,"__esModule",{value:!0});var aw={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};es.default=aw;Object.defineProperty(qa,"__esModule",{value:!0});var lw=Jo,cw=x0(lw),uw=es,g0=x0(uw);function x0(t){return t&&t.__esModule?t:{default:t}}function fw(t){var r={};for(var s in g0.default)g0.default.hasOwnProperty(s)&&(t.hasAttribute("jsbarcode-"+s.toLowerCase())&&(r[s]=t.getAttribute("jsbarcode-"+s.toLowerCase())),t.hasAttribute("data-"+s.toLowerCase())&&(r[s]=t.getAttribute("data-"+s.toLowerCase())));return r.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),r=(0,cw.default)(r),r}qa.default=fw;var Qa={},Ja={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.getTotalWidthOfEncodings=Qt.calculateEncodingAttributes=Qt.getBarcodePadding=Qt.getEncodingHeight=Qt.getMaximumHeightOfEncodings=void 0;var hw=ii,dw=gw(hw);function gw(t){return t&&t.__esModule?t:{default:t}}function p0(t,r){return r.height+(r.displayValue&&t.text.length>0?r.fontSize+r.textMargin:0)+r.marginTop+r.marginBottom}function w0(t,r,s){if(s.displayValue&&r<t){if(s.textAlign=="center")return Math.floor((t-r)/2);if(s.textAlign=="left")return 0;if(s.textAlign=="right")return Math.floor(t-r)}return 0}function xw(t,r,s){for(var l=0;l<t.length;l++){var u=t[l],h=(0,dw.default)(r,u.options),x;h.displayValue?x=Ew(u.text,h,s):x=0;var p=u.data.length*h.width;u.width=Math.ceil(Math.max(x,p)),u.height=p0(u,h),u.barcodePadding=w0(x,p,h)}}function pw(t){for(var r=0,s=0;s<t.length;s++)r+=t[s].width;return r}function ww(t){for(var r=0,s=0;s<t.length;s++)t[s].height>r&&(r=t[s].height);return r}function Ew(t,r,s){var l;if(s)l=s;else if(typeof document!="undefined")l=document.createElement("canvas").getContext("2d");else return 0;l.font=r.fontOptions+" "+r.fontSize+"px "+r.font;var u=l.measureText(t);if(!u)return 0;var h=u.width;return h}Qt.getMaximumHeightOfEncodings=ww;Qt.getEncodingHeight=p0;Qt.getBarcodePadding=w0;Qt.calculateEncodingAttributes=xw;Qt.getTotalWidthOfEncodings=pw;Object.defineProperty(Ja,"__esModule",{value:!0});var mw=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Aw=ii,Cw=_w(Aw),el=Qt;function _w(t){return t&&t.__esModule?t:{default:t}}function yw(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var bw=function(){function t(r,s,l){yw(this,t),this.canvas=r,this.encodings=s,this.options=l}return mw(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var s=0;s<this.encodings.length;s++){var l=(0,Cw.default)(this.options,this.encodings[s].options);this.drawCanvasBarcode(l,this.encodings[s]),this.drawCanvasText(l,this.encodings[s]),this.moveCanvasDrawing(this.encodings[s])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var s=this.canvas.getContext("2d");s.save(),(0,el.calculateEncodingAttributes)(this.encodings,this.options,s);var l=(0,el.getTotalWidthOfEncodings)(this.encodings),u=(0,el.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=l+this.options.marginLeft+this.options.marginRight,this.canvas.height=u,s.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(s.fillStyle=this.options.background,s.fillRect(0,0,this.canvas.width,this.canvas.height)),s.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(s,l){var u=this.canvas.getContext("2d"),h=l.data,x;s.textPosition=="top"?x=s.marginTop+s.fontSize+s.textMargin:x=s.marginTop,u.fillStyle=s.lineColor;for(var p=0;p<h.length;p++){var E=p*s.width+l.barcodePadding;h[p]==="1"?u.fillRect(E,x,s.width,s.height):h[p]&&u.fillRect(E,x,s.width,s.height*h[p])}}},{key:"drawCanvasText",value:function(s,l){var u=this.canvas.getContext("2d"),h=s.fontOptions+" "+s.fontSize+"px "+s.font;if(s.displayValue){var x,p;s.textPosition=="top"?p=s.marginTop+s.fontSize-s.textMargin:p=s.height+s.textMargin+s.marginTop+s.fontSize,u.font=h,s.textAlign=="left"||l.barcodePadding>0?(x=0,u.textAlign="left"):s.textAlign=="right"?(x=l.width-1,u.textAlign="right"):(x=l.width/2,u.textAlign="center"),u.fillText(l.text,x,p)}}},{key:"moveCanvasDrawing",value:function(s){var l=this.canvas.getContext("2d");l.translate(s.width,0)}},{key:"restoreCanvas",value:function(){var s=this.canvas.getContext("2d");s.restore()}}]),t}();Ja.default=bw;var tl={};Object.defineProperty(tl,"__esModule",{value:!0});var Iw=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}(),Tw=ii,Sw=Ow(Tw),nl=Qt;function Ow(t){return t&&t.__esModule?t:{default:t}}function vw(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var ts="http://www.w3.org/2000/svg",Rw=function(){function t(r,s,l){vw(this,t),this.svg=r,this.encodings=s,this.options=l,this.document=l.xmlDocument||document}return Iw(t,[{key:"render",value:function(){var s=this.options.marginLeft;this.prepareSVG();for(var l=0;l<this.encodings.length;l++){var u=this.encodings[l],h=(0,Sw.default)(this.options,u.options),x=this.createGroup(s,h.marginTop,this.svg);this.setGroupOptions(x,h),this.drawSvgBarcode(x,h,u),this.drawSVGText(x,h,u),s+=u.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,nl.calculateEncodingAttributes)(this.encodings,this.options);var s=(0,nl.getTotalWidthOfEncodings)(this.encodings),l=(0,nl.getMaximumHeightOfEncodings)(this.encodings),u=s+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(u,l),this.options.background&&this.drawRect(0,0,u,l,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(s,l,u){var h=u.data,x;l.textPosition=="top"?x=l.fontSize+l.textMargin:x=0;for(var p=0,E=0,C=0;C<h.length;C++)E=C*l.width+u.barcodePadding,h[C]==="1"?p++:p>0&&(this.drawRect(E-l.width*p,x,l.width*p,l.height,s),p=0);p>0&&this.drawRect(E-l.width*(p-1),x,l.width*p,l.height,s)}},{key:"drawSVGText",value:function(s,l,u){var h=this.document.createElementNS(ts,"text");if(l.displayValue){var x,p;h.setAttribute("style","font:"+l.fontOptions+" "+l.fontSize+"px "+l.font),l.textPosition=="top"?p=l.fontSize-l.textMargin:p=l.height+l.textMargin+l.fontSize,l.textAlign=="left"||u.barcodePadding>0?(x=0,h.setAttribute("text-anchor","start")):l.textAlign=="right"?(x=u.width-1,h.setAttribute("text-anchor","end")):(x=u.width/2,h.setAttribute("text-anchor","middle")),h.setAttribute("x",x),h.setAttribute("y",p),h.appendChild(this.document.createTextNode(u.text)),s.appendChild(h)}}},{key:"setSvgAttributes",value:function(s,l){var u=this.svg;u.setAttribute("width",s+"px"),u.setAttribute("height",l+"px"),u.setAttribute("x","0px"),u.setAttribute("y","0px"),u.setAttribute("viewBox","0 0 "+s+" "+l),u.setAttribute("xmlns",ts),u.setAttribute("version","1.1"),u.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(s,l,u){var h=this.document.createElementNS(ts,"g");return h.setAttribute("transform","translate("+s+", "+l+")"),u.appendChild(h),h}},{key:"setGroupOptions",value:function(s,l){s.setAttribute("style","fill:"+l.lineColor+";")}},{key:"drawRect",value:function(s,l,u,h,x){var p=this.document.createElementNS(ts,"rect");return p.setAttribute("x",s),p.setAttribute("y",l),p.setAttribute("width",u),p.setAttribute("height",h),x.appendChild(p),p}}]),t}();tl.default=Rw;var rl={};Object.defineProperty(rl,"__esModule",{value:!0});var Nw=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}();function Mw(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var Dw=function(){function t(r,s,l){Mw(this,t),this.object=r,this.encodings=s,this.options=l}return Nw(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();rl.default=Dw;Object.defineProperty(Qa,"__esModule",{value:!0});var Bw=Ja,Pw=il(Bw),Lw=tl,Fw=il(Lw),kw=rl,Uw=il(kw);function il(t){return t&&t.__esModule?t:{default:t}}Qa.default={CanvasRenderer:Pw.default,SVGRenderer:Fw.default,ObjectRenderer:Uw.default};var oi={};Object.defineProperty(oi,"__esModule",{value:!0});function ol(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function sl(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function al(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var Hw=function(t){al(r,t);function r(s,l){ol(this,r);var u=sl(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return u.name="InvalidInputException",u.symbology=s,u.input=l,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return r}(Error),Vw=function(t){al(r,t);function r(){ol(this,r);var s=sl(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return s.name="InvalidElementException",s.message="Not supported type to render on",s}return r}(Error),Gw=function(t){al(r,t);function r(){ol(this,r);var s=sl(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return s.name="NoElementException",s.message="No element to render on.",s}return r}(Error);oi.InvalidInputException=Hw;oi.InvalidElementException=Vw;oi.NoElementException=Gw;Object.defineProperty($a,"__esModule",{value:!0});var Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ww=qa,ll=E0(Ww),jw=Qa,Yi=E0(jw),zw=oi;function E0(t){return t&&t.__esModule?t:{default:t}}function cl(t){if(typeof t=="string")return Yw(t);if(Array.isArray(t)){for(var r=[],s=0;s<t.length;s++)r.push(cl(t[s]));return r}else{if(typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLImageElement)return Kw(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&t instanceof SVGElement)return{element:t,options:(0,ll.default)(t),renderer:Yi.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,ll.default)(t),renderer:Yi.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Yi.default.CanvasRenderer};if(t&&(typeof t=="undefined"?"undefined":Xw(t))==="object"&&!t.nodeName)return{element:t,renderer:Yi.default.ObjectRenderer};throw new zw.InvalidElementException}}function Yw(t){var r=document.querySelectorAll(t);if(r.length!==0){for(var s=[],l=0;l<r.length;l++)s.push(cl(r[l]));return s}}function Kw(t){var r=document.createElement("canvas");return{element:r,options:(0,ll.default)(t),renderer:Yi.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",r.toDataURL())}}}$a.default=cl;var ul={};Object.defineProperty(ul,"__esModule",{value:!0});var Zw=function(){function t(r,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,s,l){return s&&t(r.prototype,s),l&&t(r,l),r}}();function $w(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var qw=function(){function t(r){$w(this,t),this.api=r}return Zw(t,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var l=s.apply(void 0,arguments);return this.api._options.valid(!0),l}catch(u){return this.handleCatch(u),this.api}}}]),t}();ul.default=qw;var Qw=Ta,Tr=$n(Qw),Jw=ii,Ki=$n(Jw),e3=Ka,m0=$n(e3),t3=Za,A0=$n(t3),n3=$a,r3=$n(n3),i3=Jo,o3=$n(i3),s3=ul,a3=$n(s3),C0=oi,l3=es,_0=$n(l3);function $n(t){return t&&t.__esModule?t:{default:t}}var Dn=function(){},fl=function(r,s,l){var u=new Dn;if(typeof r=="undefined")throw Error("No element to render on was provided.");return u._renderProperties=(0,r3.default)(r),u._encodings=[],u._options=_0.default,u._errorHandler=new a3.default(u),typeof s!="undefined"&&(l=l||{},l.format||(l.format=I0()),u.options(l)[l.format](s,l).render()),u};fl.getModule=function(t){return Tr.default[t]};for(var y0 in Tr.default)Tr.default.hasOwnProperty(y0)&&c3(Tr.default,y0);function c3(t,r){Dn.prototype[r]=Dn.prototype[r.toUpperCase()]=Dn.prototype[r.toLowerCase()]=function(s,l){var u=this;return u._errorHandler.wrapBarcodeCall(function(){l.text=typeof l.text=="undefined"?void 0:""+l.text;var h=(0,Ki.default)(u._options,l);h=(0,o3.default)(h);var x=t[r],p=b0(s,x,h);return u._encodings.push(p),u})}}function b0(t,r,s){t=""+t;var l=new r(t,s);if(!l.valid())throw new C0.InvalidInputException(l.constructor.name,t);var u=l.encode();u=(0,m0.default)(u);for(var h=0;h<u.length;h++)u[h].options=(0,Ki.default)(s,u[h].options);return u}function I0(){return Tr.default.CODE128?"CODE128":Object.keys(Tr.default)[0]}Dn.prototype.options=function(t){return this._options=(0,Ki.default)(this._options,t),this};Dn.prototype.blank=function(t){var r=new Array(t+1).join("0");return this._encodings.push({data:r}),this};Dn.prototype.init=function(){if(!!this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var r in this._renderProperties){t=this._renderProperties[r];var s=(0,Ki.default)(this._options,t.options);s.format=="auto"&&(s.format=I0()),this._errorHandler.wrapBarcodeCall(function(){var l=s.value,u=Tr.default[s.format.toUpperCase()],h=b0(l,u,s);hl(t,h,s)})}}};Dn.prototype.render=function(){if(!this._renderProperties)throw new C0.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)hl(this._renderProperties[t],this._encodings,this._options);else hl(this._renderProperties,this._encodings,this._options);return this};Dn.prototype._defaults=_0.default;function hl(t,r,s){r=(0,m0.default)(r);for(var l=0;l<r.length;l++)r[l].options=(0,Ki.default)(s,r[l].options),(0,A0.default)(r[l].options);(0,A0.default)(s);var u=t.renderer,h=new u(t.element,r,s);h.render(),t.afterRender&&t.afterRender()}typeof window!="undefined"&&(window.JsBarcode=fl);typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(t,r){var s=[];return jQuery(this).each(function(){s.push(this)}),fl(s,t,r)});var ns={},u3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},T0={},Jt={};let dl;const f3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jt.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17};Jt.getSymbolTotalCodewords=function(r){return f3[r]};Jt.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r};Jt.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');dl=r};Jt.isKanjiModeEnabled=function(){return typeof dl!="undefined"};Jt.toSJIS=function(r){return dl(r)};var rs={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+s)}}t.isValid=function(l){return l&&typeof l.bit!="undefined"&&l.bit>=0&&l.bit<4},t.from=function(l,u){if(t.isValid(l))return l;try{return r(l)}catch{return u}}})(rs);function S0(){this.buffer=[],this.length=0}S0.prototype={get:function(t){const r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)==1},put:function(t,r){for(let s=0;s<r;s++)this.putBit((t>>>r-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}};var h3=S0;function Zi(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Zi.prototype.set=function(t,r,s,l){const u=t*this.size+r;this.data[u]=s,l&&(this.reservedBit[u]=!0)};Zi.prototype.get=function(t,r){return this.data[t*this.size+r]};Zi.prototype.xor=function(t,r,s){this.data[t*this.size+r]^=s};Zi.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]};var d3=Zi,O0={};(function(t){const r=Jt.getSymbolSize;t.getRowColCoords=function(l){if(l===1)return[];const u=Math.floor(l/7)+2,h=r(l),x=h===145?26:Math.ceil((h-13)/(2*u-2))*2,p=[h-7];for(let E=1;E<u-1;E++)p[E]=p[E-1]-x;return p.push(6),p.reverse()},t.getPositions=function(l){const u=[],h=t.getRowColCoords(l),x=h.length;for(let p=0;p<x;p++)for(let E=0;E<x;E++)p===0&&E===0||p===0&&E===x-1||p===x-1&&E===0||u.push([h[p],h[E]]);return u}})(O0);var v0={};const g3=Jt.getSymbolSize,R0=7;v0.getPositions=function(r){const s=g3(r);return[[0,0],[s-R0,0],[0,s-R0]]};var N0={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};t.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},t.from=function(u){return t.isValid(u)?parseInt(u,10):void 0},t.getPenaltyN1=function(u){const h=u.size;let x=0,p=0,E=0,C=null,y=null;for(let O=0;O<h;O++){p=E=0,C=y=null;for(let T=0;T<h;T++){let B=u.get(O,T);B===C?p++:(p>=5&&(x+=r.N1+(p-5)),C=B,p=1),B=u.get(T,O),B===y?E++:(E>=5&&(x+=r.N1+(E-5)),y=B,E=1)}p>=5&&(x+=r.N1+(p-5)),E>=5&&(x+=r.N1+(E-5))}return x},t.getPenaltyN2=function(u){const h=u.size;let x=0;for(let p=0;p<h-1;p++)for(let E=0;E<h-1;E++){const C=u.get(p,E)+u.get(p,E+1)+u.get(p+1,E)+u.get(p+1,E+1);(C===4||C===0)&&x++}return x*r.N2},t.getPenaltyN3=function(u){const h=u.size;let x=0,p=0,E=0;for(let C=0;C<h;C++){p=E=0;for(let y=0;y<h;y++)p=p<<1&2047|u.get(C,y),y>=10&&(p===1488||p===93)&&x++,E=E<<1&2047|u.get(y,C),y>=10&&(E===1488||E===93)&&x++}return x*r.N3},t.getPenaltyN4=function(u){let h=0;const x=u.data.length;for(let E=0;E<x;E++)h+=u.data[E];return Math.abs(Math.ceil(h*100/x/5)-10)*r.N4};function s(l,u,h){switch(l){case t.Patterns.PATTERN000:return(u+h)%2==0;case t.Patterns.PATTERN001:return u%2==0;case t.Patterns.PATTERN010:return h%3==0;case t.Patterns.PATTERN011:return(u+h)%3==0;case t.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(h/3))%2==0;case t.Patterns.PATTERN101:return u*h%2+u*h%3==0;case t.Patterns.PATTERN110:return(u*h%2+u*h%3)%2==0;case t.Patterns.PATTERN111:return(u*h%3+(u+h)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}}t.applyMask=function(u,h){const x=h.size;for(let p=0;p<x;p++)for(let E=0;E<x;E++)h.isReserved(E,p)||h.xor(E,p,s(u,E,p))},t.getBestMask=function(u,h){const x=Object.keys(t.Patterns).length;let p=0,E=1/0;for(let C=0;C<x;C++){h(C),t.applyMask(C,u);const y=t.getPenaltyN1(u)+t.getPenaltyN2(u)+t.getPenaltyN3(u)+t.getPenaltyN4(u);t.applyMask(C,u),y<E&&(E=y,p=C)}return p}})(N0);var is={};const qn=rs,os=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ss=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];is.getBlocksCount=function(r,s){switch(s){case qn.L:return os[(r-1)*4+0];case qn.M:return os[(r-1)*4+1];case qn.Q:return os[(r-1)*4+2];case qn.H:return os[(r-1)*4+3];default:return}};is.getTotalCodewordsCount=function(r,s){switch(s){case qn.L:return ss[(r-1)*4+0];case qn.M:return ss[(r-1)*4+1];case qn.Q:return ss[(r-1)*4+2];case qn.H:return ss[(r-1)*4+3];default:return}};var M0={},as={};const $i=new Uint8Array(512),ls=new Uint8Array(256);(function(){let r=1;for(let s=0;s<255;s++)$i[s]=r,ls[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)$i[s]=$i[s-255]})();as.log=function(r){if(r<1)throw new Error("log("+r+")");return ls[r]};as.exp=function(r){return $i[r]};as.mul=function(r,s){return r===0||s===0?0:$i[ls[r]+ls[s]]};(function(t){const r=as;t.mul=function(l,u){const h=new Uint8Array(l.length+u.length-1);for(let x=0;x<l.length;x++)for(let p=0;p<u.length;p++)h[x+p]^=r.mul(l[x],u[p]);return h},t.mod=function(l,u){let h=new Uint8Array(l);for(;h.length-u.length>=0;){const x=h[0];for(let E=0;E<u.length;E++)h[E]^=r.mul(u[E],x);let p=0;for(;p<h.length&&h[p]===0;)p++;h=h.slice(p)}return h},t.generateECPolynomial=function(l){let u=new Uint8Array([1]);for(let h=0;h<l;h++)u=t.mul(u,new Uint8Array([1,r.exp(h)]));return u}})(M0);const D0=M0;function gl(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}gl.prototype.initialize=function(r){this.degree=r,this.genPoly=D0.generateECPolynomial(this.degree)};gl.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const l=D0.mod(s,this.genPoly),u=this.degree-l.length;if(u>0){const h=new Uint8Array(this.degree);return h.set(l,u),h}return l};var x3=gl,B0={},Qn={},xl={};xl.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40};var Sn={};const P0="[0-9]+",p3="[A-Z $%*+\\-./:]+";let qi="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";qi=qi.replace(/u/g,"\\u");const w3="(?:(?![A-Z0-9 $%*+\\-./:]|"+qi+`)(?:.|[\r
]))+`;Sn.KANJI=new RegExp(qi,"g");Sn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Sn.BYTE=new RegExp(w3,"g");Sn.NUMERIC=new RegExp(P0,"g");Sn.ALPHANUMERIC=new RegExp(p3,"g");const E3=new RegExp("^"+qi+"$"),m3=new RegExp("^"+P0+"$"),A3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Sn.testKanji=function(r){return E3.test(r)};Sn.testNumeric=function(r){return m3.test(r)};Sn.testAlphanumeric=function(r){return A3.test(r)};(function(t){const r=xl,s=Sn;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(h,x){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!r.isValid(x))throw new Error("Invalid version: "+x);return x>=1&&x<10?h.ccBits[0]:x<27?h.ccBits[1]:h.ccBits[2]},t.getBestModeForData=function(h){return s.testNumeric(h)?t.NUMERIC:s.testAlphanumeric(h)?t.ALPHANUMERIC:s.testKanji(h)?t.KANJI:t.BYTE},t.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},t.isValid=function(h){return h&&h.bit&&h.ccBits};function l(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+u)}}t.from=function(h,x){if(t.isValid(h))return h;try{return l(h)}catch{return x}}})(Qn);(function(t){const r=Jt,s=is,l=rs,u=Qn,h=xl,x=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,p=r.getBCHDigit(x);function E(T,B,M){for(let q=1;q<=40;q++)if(B<=t.getCapacity(q,M,T))return q}function C(T,B){return u.getCharCountIndicator(T,B)+4}function y(T,B){let M=0;return T.forEach(function(q){M+=C(q.mode,B)+q.getBitsLength()}),M}function O(T,B){for(let M=1;M<=40;M++)if(y(T,M)<=t.getCapacity(M,B,u.MIXED))return M}t.from=function(B,M){return h.isValid(B)?parseInt(B,10):M},t.getCapacity=function(B,M,q){if(!h.isValid(B))throw new Error("Invalid QR Code version");typeof q=="undefined"&&(q=u.BYTE);const J=r.getSymbolTotalCodewords(B),X=s.getTotalCodewordsCount(B,M),F=(J-X)*8;if(q===u.MIXED)return F;const j=F-C(q,B);switch(q){case u.NUMERIC:return Math.floor(j/10*3);case u.ALPHANUMERIC:return Math.floor(j/11*2);case u.KANJI:return Math.floor(j/13);case u.BYTE:default:return Math.floor(j/8)}},t.getBestVersionForData=function(B,M){let q;const J=l.from(M,l.M);if(Array.isArray(B)){if(B.length>1)return O(B,J);if(B.length===0)return 1;q=B[0]}else q=B;return E(q.mode,q.getLength(),J)},t.getEncodedBits=function(B){if(!h.isValid(B)||B<7)throw new Error("Invalid QR Code version");let M=B<<12;for(;r.getBCHDigit(M)-p>=0;)M^=x<<r.getBCHDigit(M)-p;return B<<12|M}})(B0);var L0={};const pl=Jt,F0=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,C3=1<<14|1<<12|1<<10|1<<4|1<<1,k0=pl.getBCHDigit(F0);L0.getEncodedBits=function(r,s){const l=r.bit<<3|s;let u=l<<10;for(;pl.getBCHDigit(u)-k0>=0;)u^=F0<<pl.getBCHDigit(u)-k0;return(l<<10|u)^C3};var U0={};const _3=Qn;function si(t){this.mode=_3.NUMERIC,this.data=t.toString()}si.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)};si.prototype.getLength=function(){return this.data.length};si.prototype.getBitsLength=function(){return si.getBitsLength(this.data.length)};si.prototype.write=function(r){let s,l,u;for(s=0;s+3<=this.data.length;s+=3)l=this.data.substr(s,3),u=parseInt(l,10),r.put(u,10);const h=this.data.length-s;h>0&&(l=this.data.substr(s),u=parseInt(l,10),r.put(u,h*3+1))};var y3=si;const b3=Qn,wl=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ai(t){this.mode=b3.ALPHANUMERIC,this.data=t}ai.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)};ai.prototype.getLength=function(){return this.data.length};ai.prototype.getBitsLength=function(){return ai.getBitsLength(this.data.length)};ai.prototype.write=function(r){let s;for(s=0;s+2<=this.data.length;s+=2){let l=wl.indexOf(this.data[s])*45;l+=wl.indexOf(this.data[s+1]),r.put(l,11)}this.data.length%2&&r.put(wl.indexOf(this.data[s]),6)};var I3=ai,T3=function(r){for(var s=[],l=r.length,u=0;u<l;u++){var h=r.charCodeAt(u);if(h>=55296&&h<=56319&&l>u+1){var x=r.charCodeAt(u+1);x>=56320&&x<=57343&&(h=(h-55296)*1024+x-56320+65536,u+=1)}if(h<128){s.push(h);continue}if(h<2048){s.push(h>>6|192),s.push(h&63|128);continue}if(h<55296||h>=57344&&h<65536){s.push(h>>12|224),s.push(h>>6&63|128),s.push(h&63|128);continue}if(h>=65536&&h<=1114111){s.push(h>>18|240),s.push(h>>12&63|128),s.push(h>>6&63|128),s.push(h&63|128);continue}s.push(239,191,189)}return new Uint8Array(s).buffer};const S3=T3,O3=Qn;function li(t){this.mode=O3.BYTE,this.data=new Uint8Array(S3(t))}li.getBitsLength=function(r){return r*8};li.prototype.getLength=function(){return this.data.length};li.prototype.getBitsLength=function(){return li.getBitsLength(this.data.length)};li.prototype.write=function(t){for(let r=0,s=this.data.length;r<s;r++)t.put(this.data[r],8)};var v3=li;const R3=Qn,N3=Jt;function ci(t){this.mode=R3.KANJI,this.data=t}ci.getBitsLength=function(r){return r*13};ci.prototype.getLength=function(){return this.data.length};ci.prototype.getBitsLength=function(){return ci.getBitsLength(this.data.length)};ci.prototype.write=function(t){let r;for(r=0;r<this.data.length;r++){let s=N3.toSJIS(this.data[r]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),t.put(s,13)}};var M3=ci,H0={exports:{}};(function(t){var r={single_source_shortest_paths:function(s,l,u){var h={},x={};x[l]=0;var p=r.PriorityQueue.make();p.push(l,0);for(var E,C,y,O,T,B,M,q,J;!p.empty();){E=p.pop(),C=E.value,O=E.cost,T=s[C]||{};for(y in T)T.hasOwnProperty(y)&&(B=T[y],M=O+B,q=x[y],J=typeof x[y]=="undefined",(J||q>M)&&(x[y]=M,p.push(y,M),h[y]=C))}if(typeof u!="undefined"&&typeof x[u]=="undefined"){var X=["Could not find a path from ",l," to ",u,"."].join("");throw new Error(X)}return h},extract_shortest_path_from_predecessor_list:function(s,l){for(var u=[],h=l;h;)u.push(h),h=s[h];return u.reverse(),u},find_path:function(s,l,u){var h=r.single_source_shortest_paths(s,l,u);return r.extract_shortest_path_from_predecessor_list(h,u)},PriorityQueue:{make:function(s){var l=r.PriorityQueue,u={},h;s=s||{};for(h in l)l.hasOwnProperty(h)&&(u[h]=l[h]);return u.queue=[],u.sorter=s.sorter||l.default_sorter,u},default_sorter:function(s,l){return s.cost-l.cost},push:function(s,l){var u={value:s,cost:l};this.queue.push(u),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=r})(H0);(function(t){const r=Qn,s=y3,l=I3,u=v3,h=M3,x=Sn,p=Jt,E=H0.exports;function C(X){return unescape(encodeURIComponent(X)).length}function y(X,F,j){const K=[];let ae;for(;(ae=X.exec(j))!==null;)K.push({data:ae[0],index:ae.index,mode:F,length:ae[0].length});return K}function O(X){const F=y(x.NUMERIC,r.NUMERIC,X),j=y(x.ALPHANUMERIC,r.ALPHANUMERIC,X);let K,ae;return p.isKanjiModeEnabled()?(K=y(x.BYTE,r.BYTE,X),ae=y(x.KANJI,r.KANJI,X)):(K=y(x.BYTE_KANJI,r.BYTE,X),ae=[]),F.concat(j,K,ae).sort(function(re,Y){return re.index-Y.index}).map(function(re){return{data:re.data,mode:re.mode,length:re.length}})}function T(X,F){switch(F){case r.NUMERIC:return s.getBitsLength(X);case r.ALPHANUMERIC:return l.getBitsLength(X);case r.KANJI:return h.getBitsLength(X);case r.BYTE:return u.getBitsLength(X)}}function B(X){return X.reduce(function(F,j){const K=F.length-1>=0?F[F.length-1]:null;return K&&K.mode===j.mode?(F[F.length-1].data+=j.data,F):(F.push(j),F)},[])}function M(X){const F=[];for(let j=0;j<X.length;j++){const K=X[j];switch(K.mode){case r.NUMERIC:F.push([K,{data:K.data,mode:r.ALPHANUMERIC,length:K.length},{data:K.data,mode:r.BYTE,length:K.length}]);break;case r.ALPHANUMERIC:F.push([K,{data:K.data,mode:r.BYTE,length:K.length}]);break;case r.KANJI:F.push([K,{data:K.data,mode:r.BYTE,length:C(K.data)}]);break;case r.BYTE:F.push([{data:K.data,mode:r.BYTE,length:C(K.data)}])}}return F}function q(X,F){const j={},K={start:{}};let ae=["start"];for(let W=0;W<X.length;W++){const re=X[W],Y=[];for(let ve=0;ve<re.length;ve++){const Te=re[ve],ue=""+W+ve;Y.push(ue),j[ue]={node:Te,lastCount:0},K[ue]={};for(let se=0;se<ae.length;se++){const be=ae[se];j[be]&&j[be].node.mode===Te.mode?(K[be][ue]=T(j[be].lastCount+Te.length,Te.mode)-T(j[be].lastCount,Te.mode),j[be].lastCount+=Te.length):(j[be]&&(j[be].lastCount=Te.length),K[be][ue]=T(Te.length,Te.mode)+4+r.getCharCountIndicator(Te.mode,F))}}ae=Y}for(let W=0;W<ae.length;W++)K[ae[W]].end=0;return{map:K,table:j}}function J(X,F){let j;const K=r.getBestModeForData(X);if(j=r.from(F,K),j!==r.BYTE&&j.bit<K.bit)throw new Error('"'+X+'" cannot be encoded with mode '+r.toString(j)+`.
 Suggested mode is: `+r.toString(K));switch(j===r.KANJI&&!p.isKanjiModeEnabled()&&(j=r.BYTE),j){case r.NUMERIC:return new s(X);case r.ALPHANUMERIC:return new l(X);case r.KANJI:return new h(X);case r.BYTE:return new u(X)}}t.fromArray=function(F){return F.reduce(function(j,K){return typeof K=="string"?j.push(J(K,null)):K.data&&j.push(J(K.data,K.mode)),j},[])},t.fromString=function(F,j){const K=O(F,p.isKanjiModeEnabled()),ae=M(K),W=q(ae,j),re=E.find_path(W.map,"start","end"),Y=[];for(let ve=1;ve<re.length-1;ve++)Y.push(W.table[re[ve]].node);return t.fromArray(B(Y))},t.rawSplit=function(F){return t.fromArray(O(F,p.isKanjiModeEnabled()))}})(U0);const cs=Jt,El=rs,D3=h3,B3=d3,P3=O0,L3=v0,ml=N0,Al=is,F3=x3,us=B0,k3=L0,U3=Qn,Cl=U0;function H3(t,r){const s=t.size,l=L3.getPositions(r);for(let u=0;u<l.length;u++){const h=l[u][0],x=l[u][1];for(let p=-1;p<=7;p++)if(!(h+p<=-1||s<=h+p))for(let E=-1;E<=7;E++)x+E<=-1||s<=x+E||(p>=0&&p<=6&&(E===0||E===6)||E>=0&&E<=6&&(p===0||p===6)||p>=2&&p<=4&&E>=2&&E<=4?t.set(h+p,x+E,!0,!0):t.set(h+p,x+E,!1,!0))}}function V3(t){const r=t.size;for(let s=8;s<r-8;s++){const l=s%2==0;t.set(s,6,l,!0),t.set(6,s,l,!0)}}function G3(t,r){const s=P3.getPositions(r);for(let l=0;l<s.length;l++){const u=s[l][0],h=s[l][1];for(let x=-2;x<=2;x++)for(let p=-2;p<=2;p++)x===-2||x===2||p===-2||p===2||x===0&&p===0?t.set(u+x,h+p,!0,!0):t.set(u+x,h+p,!1,!0)}}function X3(t,r){const s=t.size,l=us.getEncodedBits(r);let u,h,x;for(let p=0;p<18;p++)u=Math.floor(p/3),h=p%3+s-8-3,x=(l>>p&1)==1,t.set(u,h,x,!0),t.set(h,u,x,!0)}function _l(t,r,s){const l=t.size,u=k3.getEncodedBits(r,s);let h,x;for(h=0;h<15;h++)x=(u>>h&1)==1,h<6?t.set(h,8,x,!0):h<8?t.set(h+1,8,x,!0):t.set(l-15+h,8,x,!0),h<8?t.set(8,l-h-1,x,!0):h<9?t.set(8,15-h-1+1,x,!0):t.set(8,15-h-1,x,!0);t.set(l-8,8,1,!0)}function W3(t,r){const s=t.size;let l=-1,u=s-1,h=7,x=0;for(let p=s-1;p>0;p-=2)for(p===6&&p--;;){for(let E=0;E<2;E++)if(!t.isReserved(u,p-E)){let C=!1;x<r.length&&(C=(r[x]>>>h&1)==1),t.set(u,p-E,C),h--,h===-1&&(x++,h=7)}if(u+=l,u<0||s<=u){u-=l,l=-l;break}}}function j3(t,r,s){const l=new D3;s.forEach(function(E){l.put(E.mode.bit,4),l.put(E.getLength(),U3.getCharCountIndicator(E.mode,t)),E.write(l)});const u=cs.getSymbolTotalCodewords(t),h=Al.getTotalCodewordsCount(t,r),x=(u-h)*8;for(l.getLengthInBits()+4<=x&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(0);const p=(x-l.getLengthInBits())/8;for(let E=0;E<p;E++)l.put(E%2?17:236,8);return z3(l,t,r)}function z3(t,r,s){const l=cs.getSymbolTotalCodewords(r),u=Al.getTotalCodewordsCount(r,s),h=l-u,x=Al.getBlocksCount(r,s),p=l%x,E=x-p,C=Math.floor(l/x),y=Math.floor(h/x),O=y+1,T=C-y,B=new F3(T);let M=0;const q=new Array(x),J=new Array(x);let X=0;const F=new Uint8Array(t.buffer);for(let re=0;re<x;re++){const Y=re<E?y:O;q[re]=F.slice(M,M+Y),J[re]=B.encode(q[re]),M+=Y,X=Math.max(X,Y)}const j=new Uint8Array(l);let K=0,ae,W;for(ae=0;ae<X;ae++)for(W=0;W<x;W++)ae<q[W].length&&(j[K++]=q[W][ae]);for(ae=0;ae<T;ae++)for(W=0;W<x;W++)j[K++]=J[W][ae];return j}function Y3(t,r,s,l){let u;if(Array.isArray(t))u=Cl.fromArray(t);else if(typeof t=="string"){let C=r;if(!C){const y=Cl.rawSplit(t);C=us.getBestVersionForData(y,s)}u=Cl.fromString(t,C||40)}else throw new Error("Invalid data");const h=us.getBestVersionForData(u,s);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!r)r=h;else if(r<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);const x=j3(r,s,u),p=cs.getSymbolSize(r),E=new B3(p);return H3(E,r),V3(E),G3(E,r),_l(E,s,0),r>=7&&X3(E,r),W3(E,x),isNaN(l)&&(l=ml.getBestMask(E,_l.bind(null,E,s))),ml.applyMask(l,E),_l(E,s,l),{modules:E,version:r,errorCorrectionLevel:s,maskPattern:l,segments:u}}T0.create=function(r,s){if(typeof r=="undefined"||r==="")throw new Error("No input text");let l=El.M,u,h;return typeof s!="undefined"&&(l=El.from(s.errorCorrectionLevel,El.M),u=us.from(s.version),h=ml.from(s.maskPattern),s.toSJISFunc&&cs.setToSJISFunction(s.toSJISFunc)),Y3(r,u,l,h)};var V0={},yl={};(function(t){function r(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let l=s.slice().replace("#","").split("");if(l.length<3||l.length===5||l.length>8)throw new Error("Invalid hex color: "+s);(l.length===3||l.length===4)&&(l=Array.prototype.concat.apply([],l.map(function(h){return[h,h]}))),l.length===6&&l.push("F","F");const u=parseInt(l.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+l.slice(0,6).join("")}}t.getOptions=function(l){l||(l={}),l.color||(l.color={});const u=typeof l.margin=="undefined"||l.margin===null||l.margin<0?4:l.margin,h=l.width&&l.width>=21?l.width:void 0,x=l.scale||4;return{width:h,scale:h?4:x,margin:u,color:{dark:r(l.color.dark||"#000000ff"),light:r(l.color.light||"#ffffffff")},type:l.type,rendererOpts:l.rendererOpts||{}}},t.getScale=function(l,u){return u.width&&u.width>=l+u.margin*2?u.width/(l+u.margin*2):u.scale},t.getImageWidth=function(l,u){const h=t.getScale(l,u);return Math.floor((l+u.margin*2)*h)},t.qrToImageData=function(l,u,h){const x=u.modules.size,p=u.modules.data,E=t.getScale(x,h),C=Math.floor((x+h.margin*2)*E),y=h.margin*E,O=[h.color.light,h.color.dark];for(let T=0;T<C;T++)for(let B=0;B<C;B++){let M=(T*C+B)*4,q=h.color.light;if(T>=y&&B>=y&&T<C-y&&B<C-y){const J=Math.floor((T-y)/E),X=Math.floor((B-y)/E);q=O[p[J*x+X]?1:0]}l[M++]=q.r,l[M++]=q.g,l[M++]=q.b,l[M]=q.a}}})(yl);(function(t){const r=yl;function s(u,h,x){u.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=x,h.width=x,h.style.height=x+"px",h.style.width=x+"px"}function l(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(h,x,p){let E=p,C=x;typeof E=="undefined"&&(!x||!x.getContext)&&(E=x,x=void 0),x||(C=l()),E=r.getOptions(E);const y=r.getImageWidth(h.modules.size,E),O=C.getContext("2d"),T=O.createImageData(y,y);return r.qrToImageData(T.data,h,E),s(O,C,y),O.putImageData(T,0,0),C},t.renderToDataURL=function(h,x,p){let E=p;typeof E=="undefined"&&(!x||!x.getContext)&&(E=x,x=void 0),E||(E={});const C=t.render(h,x,E),y=E.type||"image/png",O=E.rendererOpts||{};return C.toDataURL(y,O.quality)}})(V0);var G0={};const K3=yl;function X0(t,r){const s=t.a/255,l=r+'="'+t.hex+'"';return s<1?l+" "+r+'-opacity="'+s.toFixed(2).slice(1)+'"':l}function bl(t,r,s){let l=t+r;return typeof s!="undefined"&&(l+=" "+s),l}function Z3(t,r,s){let l="",u=0,h=!1,x=0;for(let p=0;p<t.length;p++){const E=Math.floor(p%r),C=Math.floor(p/r);!E&&!h&&(h=!0),t[p]?(x++,p>0&&E>0&&t[p-1]||(l+=h?bl("M",E+s,.5+C+s):bl("m",u,0),u=0,h=!1),E+1<r&&t[p+1]||(l+=bl("h",x),x=0)):u++}return l}G0.render=function(r,s,l){const u=K3.getOptions(s),h=r.modules.size,x=r.modules.data,p=h+u.margin*2,E=u.color.light.a?"<path "+X0(u.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",C="<path "+X0(u.color.dark,"stroke")+' d="'+Z3(x,h,u.margin)+'"/>',y='viewBox="0 0 '+p+" "+p+'"',O=u.width?'width="'+u.width+'" height="'+u.width+'" ':"",T='<svg xmlns="http://www.w3.org/2000/svg" '+O+y+' shape-rendering="crispEdges">'+E+C+`</svg>
`;return typeof l=="function"&&l(null,T),T};const $3=u3,Il=T0,W0=V0,q3=G0;function Tl(t,r,s,l,u){const h=[].slice.call(arguments,1),x=h.length,p=typeof h[x-1]=="function";if(!p&&!$3())throw new Error("Callback required as last argument");if(p){if(x<2)throw new Error("Too few arguments provided");x===2?(u=s,s=r,r=l=void 0):x===3&&(r.getContext&&typeof u=="undefined"?(u=l,l=void 0):(u=l,l=s,s=r,r=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(s=r,r=l=void 0):x===2&&!r.getContext&&(l=s,s=r,r=void 0),new Promise(function(E,C){try{const y=Il.create(s,l);E(t(y,r,l))}catch(y){C(y)}})}try{const E=Il.create(s,l);u(null,t(E,r,l))}catch(E){u(E)}}ns.create=Il.create;ns.toCanvas=Tl.bind(null,W0.render);ns.toDataURL=Tl.bind(null,W0.renderToDataURL);ns.toString=Tl.bind(null,function(t,r,s){return q3.render(t,s)});var ge;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var j0=new Map([[ge.QR_CODE,"QR_CODE"],[ge.AZTEC,"AZTEC"],[ge.CODABAR,"CODABAR"],[ge.CODE_39,"CODE_39"],[ge.CODE_93,"CODE_93"],[ge.CODE_128,"CODE_128"],[ge.DATA_MATRIX,"DATA_MATRIX"],[ge.MAXICODE,"MAXICODE"],[ge.ITF,"ITF"],[ge.EAN_13,"EAN_13"],[ge.EAN_8,"EAN_8"],[ge.PDF_417,"PDF_417"],[ge.RSS_14,"RSS_14"],[ge.RSS_EXPANDED,"RSS_EXPANDED"],[ge.UPC_A,"UPC_A"],[ge.UPC_E,"UPC_E"],[ge.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),z0;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(z0||(z0={}));function Q3(t){return Object.values(ge).includes(t)}var Y0;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Y0||(Y0={}));var J3=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t}(),K0=function(){function t(r,s){this.format=r,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(r){if(!j0.has(r))throw r+" not in html5QrcodeSupportedFormatsTextMap";return new t(r,j0.get(r))},t}(),Z0=function(){function t(){}return t.createFromText=function(r){var s={text:r};return{decodedText:r,result:s}},t.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},t}(),Sl;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sl||(Sl={}));var eE=function(){function t(){}return t.createFrom=function(r){return{errorMessage:r,type:Sl.UNKWOWN_ERROR}},t}(),tE=function(){function t(r){this.verbose=r}return t.prototype.log=function(r){this.verbose&&console.log(r)},t.prototype.warn=function(r){this.verbose&&console.warn(r)},t.prototype.logError=function(r,s){(this.verbose||s===!0)&&console.error(r)},t.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},t}();function Qi(t){return typeof t=="undefined"||t===null}var Ji=function(){function t(){}return t.codeParseError=function(r){return"QR code parse error, error = "+r},t.errorGettingUserMedia=function(r){return"Error getting userMedia, error = "+r},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t}(),$0=function(){function t(){}return t.isMediaStreamConstraintsValid=function(r,s){if(typeof r!="object"){var l=typeof r;return s.logError("videoConstraints should be of type object, the "+("object passed is of type "+l+"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),x=Object.keys(r),p=0,E=x;p<E.length;p++){var C=E[p];if(h.has(C))return s.logError(C+" is not supported videoConstaints.",!0),!1}return!0},t}(),lt={exports:{}};(function(t,r){(function(s,l){l(r)})(Hi,function(s){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var n in e)e.hasOwnProperty(n)&&(m[n]=e[n])};function u(m,e){l(m,e);function n(){this.constructor=m}m.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function h(m,e){var n=Object.setPrototypeOf;n?n(m,e):m.__proto__=e}function x(m,e){e===void 0&&(e=m.constructor);var n=Error.captureStackTrace;n&&n(m,e)}var p=function(m){u(e,m);function e(n){var i=this.constructor,o=m.call(this,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),h(o,i.prototype),x(o),o}return e}(Error);class E extends p{constructor(e=void 0){super(e);this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class C extends E{}C.kind="ArgumentException";class y extends E{}y.kind="IllegalArgumentException";class O{constructor(e){if(this.binarizer=e,e===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,o){const a=this.binarizer.getLuminanceSource().crop(e,n,i,o);return new O(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends E{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class B{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(e,n,i,o,a){for(;a--;)i[o++]=e[n++]}static currentTimeMillis(){return Date.now()}}class q extends E{}q.kind="IndexOutOfBoundsException";class J extends q{constructor(e=void 0,n=void 0){super(n);this.index=e,this.message=n}}J.kind="ArrayIndexOutOfBoundsException";class X{static fill(e,n){for(let i=0,o=e.length;i<o;i++)e[i]=n}static fillWithin(e,n,i,o){X.rangeCheck(e.length,n,i);for(let a=n;a<i;a++)e[a]=o}static rangeCheck(e,n,i){if(n>i)throw new y("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new J(n);if(i>e)throw new J(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(a=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(a=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const o=i-n,a=new Int32Array(o);return M.arraycopy(e,n,a,0,o),a}static binarySearch(e,n,i){i===void 0&&(i=X.numberComparator);let o=0,a=e.length-1;for(;o<=a;){const c=a+o>>1,f=i(n,e[c]);if(f>0)o=c+1;else if(f<0)a=c-1;else return c}return-o-1}static numberComparator(e,n){return e-n}}class F{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16==0&&(n+=16,e<<=16),e>>>24==0&&(n+=8,e<<=8),e>>>28==0&&(n+=4,e<<=4),e>>>30==0&&(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=j.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=j.makeArray(e);M.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!=0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let o=Math.floor(e/32),a=i[o];a&=~((1<<(e&31))-1);const c=i.length;for(;a===0;){if(++o===c)return n;a=i[o]}const f=o*32+F.numberOfTrailingZeros(a);return f>n?n:f}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let o=Math.floor(e/32),a=~i[o];a&=~((1<<(e&31))-1);const c=i.length;for(;a===0;){if(++o===c)return n;a=~i[o]}const f=o*32+F.numberOfTrailingZeros(a);return f>n?n:f}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new y;if(n===e)return;n--;const i=Math.floor(e/32),o=Math.floor(n/32),a=this.bits;for(let c=i;c<=o;c++){const f=c>i?0:e&31,d=c<o?31:n&31,g=(2<<d)-(1<<f);a[c]|=g}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new y;if(n===e)return!0;n--;const o=Math.floor(e/32),a=Math.floor(n/32),c=this.bits;for(let f=o;f<=a;f++){const d=f>o?0:e&31,g=f<a?31:n&31,w=(2<<g)-(1<<d)&4294967295;if((c[f]&w)!==(i?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)==1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new y("Sizes don't match");const n=this.bits;for(let i=0,o=n.length;i<o;i++)n[i]^=e.bits[i]}toBytes(e,n,i,o){for(let a=0;a<o;a++){let c=0;for(let f=0;f<8;f++)this.get(e)&&(c|=1<<7-f),e++;n[i+a]=c}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,o=this.bits;for(let a=0;a<i;a++){let c=o[a];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,e[n-a]=c}if(this.size!==i*32){const a=i*32-this.size;let c=e[0]>>>a;for(let f=1;f<i;f++){const d=e[f];c|=d<<32-a,e[f-1]=c,c=d>>>a}e[i-1]=c}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof j))return!1;const n=e;return this.size===n.size&&X.equals(this.bits,n.bits)}hashCode(){return 31*this.size+X.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)(n&7)==0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new j(this.size,this.bits.slice())}}var K;(function(m){m[m.OTHER=0]="OTHER",m[m.PURE_BARCODE=1]="PURE_BARCODE",m[m.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",m[m.TRY_HARDER=3]="TRY_HARDER",m[m.CHARACTER_SET=4]="CHARACTER_SET",m[m.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",m[m.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",m[m.ASSUME_GS1=7]="ASSUME_GS1",m[m.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",m[m.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",m[m.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var ae=K;class W extends E{static getFormatInstance(){return new W}}W.kind="FormatException";var re;(function(m){m[m.Cp437=0]="Cp437",m[m.ISO8859_1=1]="ISO8859_1",m[m.ISO8859_2=2]="ISO8859_2",m[m.ISO8859_3=3]="ISO8859_3",m[m.ISO8859_4=4]="ISO8859_4",m[m.ISO8859_5=5]="ISO8859_5",m[m.ISO8859_6=6]="ISO8859_6",m[m.ISO8859_7=7]="ISO8859_7",m[m.ISO8859_8=8]="ISO8859_8",m[m.ISO8859_9=9]="ISO8859_9",m[m.ISO8859_10=10]="ISO8859_10",m[m.ISO8859_11=11]="ISO8859_11",m[m.ISO8859_13=12]="ISO8859_13",m[m.ISO8859_14=13]="ISO8859_14",m[m.ISO8859_15=14]="ISO8859_15",m[m.ISO8859_16=15]="ISO8859_16",m[m.SJIS=16]="SJIS",m[m.Cp1250=17]="Cp1250",m[m.Cp1251=18]="Cp1251",m[m.Cp1252=19]="Cp1252",m[m.Cp1256=20]="Cp1256",m[m.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",m[m.UTF8=22]="UTF8",m[m.ASCII=23]="ASCII",m[m.Big5=24]="Big5",m[m.GB18030=25]="GB18030",m[m.EUC_KR=26]="EUC_KR"})(re||(re={}));class Y{constructor(e,n,i,...o){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,Y.VALUE_IDENTIFIER_TO_ECI.set(e,this),Y.NAME_TO_ECI.set(i,this);const a=this.values;for(let c=0,f=a.length;c!==f;c++){const d=a[c];Y.VALUES_TO_ECI.set(d,this)}for(const c of o)Y.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new W("incorect value");const n=Y.VALUES_TO_ECI.get(e);if(n===void 0)throw new W("incorect value");return n}static getCharacterSetECIByName(e){const n=Y.NAME_TO_ECI.get(e);if(n===void 0)throw new W("incorect value");return n}equals(e){if(!(e instanceof Y))return!1;const n=e;return this.getName()===n.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(re.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(re.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(re.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(re.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(re.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(re.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(re.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(re.Big5,28,"Big5"),Y.GB18030=new Y(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(re.EUC_KR,30,"EUC_KR","EUC-KR");class ve extends E{}ve.kind="UnsupportedOperationException";class Te{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Te.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder=="undefined"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof Y?e:Y.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Te.isDecodeFallbackSupported(i)){let o="";for(let a=0,c=e.length;a<c;a++){let f=e[a].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ve(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(Y.UTF8)||e.equals(Y.ISO8859_1)||e.equals(Y.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let a=0;a<i.length;a++)o.push(i[a].charCodeAt(0));return new Uint8Array(o)}}class ue{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Te.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(ae.CHARACTER_SET)!==void 0)return n.get(ae.CHARACTER_SET).toString();const i=e.length;let o=!0,a=!0,c=!0,f=0,d=0,g=0,w=0,A=0,_=0,I=0,v=0,R=0,D=0,H=0;const ie=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let oe=0;oe<i&&(o||a||c);oe++){const ee=e[oe]&255;c&&(f>0?(ee&128)==0?c=!1:f--:(ee&128)!=0&&((ee&64)==0?c=!1:(f++,(ee&32)==0?d++:(f++,(ee&16)==0?g++:(f++,(ee&8)==0?w++:c=!1))))),o&&(ee>127&&ee<160?o=!1:ee>159&&(ee<192||ee===215||ee===247)&&H++),a&&(A>0?ee<64||ee===127||ee>252?a=!1:A--:ee===128||ee===160||ee>239?a=!1:ee>160&&ee<224?(_++,v=0,I++,I>R&&(R=I)):ee>127?(A++,I=0,v++,v>D&&(D=v)):(I=0,v=0))}return c&&f>0&&(c=!1),a&&A>0&&(a=!1),c&&(ie||d+g+w>0)?ue.UTF8:a&&(ue.ASSUME_SHIFT_JIS||R>=3||D>=3)?ue.SHIFT_JIS:o&&a?R===2&&_===2||H*10>=i?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:a?ue.SHIFT_JIS:c?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function o(c,f,d,g,w,A){if(c==="%%")return"%";if(n[++i]===void 0)return;c=g?parseInt(g.substr(1)):void 0;let _=w?parseInt(w.substr(1)):void 0,I;switch(A){case"s":I=n[i];break;case"c":I=n[i][0];break;case"f":I=parseFloat(n[i]).toFixed(c);break;case"p":I=parseFloat(n[i]).toPrecision(c);break;case"e":I=parseFloat(n[i]).toExponential(c);break;case"x":I=parseInt(n[i]).toString(_||16);break;case"d":I=parseFloat(parseInt(n[i],_||10).toPrecision(c)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(_);let v=parseInt(d),R=d&&d[0]+""=="0"?"0":" ";for(;I.length<v;)I=f!==void 0?I+R:R+I;return I}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}static getBytes(e,n){return Te.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ue.SHIFT_JIS=Y.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=Y.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=Y.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class se{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let o=n;n<n+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class be{constructor(e,n,i,o){if(this.width=e,this.height=n,this.rowSize=i,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new y("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,o=new be(i,n);for(let a=0;a<n;a++){const c=e[a];for(let f=0;f<i;f++)c[f]&&o.set(f,a)}return o}static parseFromString(e,n,i){if(e===null)throw new y("stringRepresentation cannot be null");const o=new Array(e.length);let a=0,c=0,f=-1,d=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new y("row lengths do not match");c=a,d++}g++}else if(e.substring(g,g+n.length)===n)g+=n.length,o[a]=!0,a++;else if(e.substring(g,g+i.length)===i)g+=i.length,o[a]=!1,a++;else throw new y("illegal character encountered: "+e.substring(g));if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new y("row lengths do not match");d++}const w=new be(f,d);for(let A=0;A<a;A++)o[A]&&w.set(Math.floor(A%f),Math.floor(A/f));return w}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!=0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new y("input matrix dimensions do not match");const n=new j(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let a=0,c=this.height;a<c;a++){const f=a*i,d=e.getRow(a,n).getBitArray();for(let g=0;g<i;g++)o[f+g]^=d[g]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,o){if(n<0||e<0)throw new y("Left and top must be nonnegative");if(o<1||i<1)throw new y("Height and width must be at least 1");const a=e+i,c=n+o;if(c>this.height||a>this.width)throw new y("The region must fit inside the matrix");const f=this.rowSize,d=this.bits;for(let g=n;g<c;g++){const w=g*f;for(let A=e;A<a;A++)d[w+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new j(this.width):n.clear();const i=this.rowSize,o=this.bits,a=e*i;for(let c=0;c<i;c++)n.setBulk(c*32,o[a+c]);return n}setRow(e,n){M.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new j(e),o=new j(e);for(let a=0,c=Math.floor((n+1)/2);a<c;a++)i=this.getRow(a,i),o=this.getRow(n-1-a,o),i.reverse(),o.reverse(),this.setRow(a,o),this.setRow(n-1-a,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,o=this.bits;let a=e,c=n,f=-1,d=-1;for(let g=0;g<n;g++)for(let w=0;w<i;w++){const A=o[g*i+w];if(A!==0){if(g<c&&(c=g),g>d&&(d=g),w*32<a){let _=0;for(;(A<<31-_&4294967295)==0;)_++;w*32+_<a&&(a=w*32+_)}if(w*32+31>f){let _=31;for(;A>>>_==0;)_--;w*32+_>f&&(f=w*32+_)}}}return f<a||d<c?null:Int32Array.from([a,c,f-a+1,d-c+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const o=i/e;let a=i%e*32;const c=n[i];let f=0;for(;(c<<31-f&4294967295)==0;)f++;return a+=f,Int32Array.from([a,o])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let a=Math.floor(i%e)*32;const c=n[i];let f=31;for(;c>>>f==0;)f--;return a+=f,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof be))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&X.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+X.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let o=new se;for(let a=0,c=this.height;a<c;a++){for(let f=0,d=this.width;f<d;f++)o.append(this.get(f,a)?e:n);o.append(i)}return o.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends E{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class Je extends B{constructor(e){super(e);this.luminances=Je.EMPTY,this.buckets=new Int32Array(Je.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new j(o):n.clear(),this.initArrays(o);const a=i.getRow(e,this.luminances),c=this.buckets;for(let d=0;d<o;d++)c[(a[d]&255)>>Je.LUMINANCE_SHIFT]++;const f=Je.estimateBlackPoint(c);if(o<3)for(let d=0;d<o;d++)(a[d]&255)<f&&n.set(d);else{let d=a[0]&255,g=a[1]&255;for(let w=1;w<o-1;w++){const A=a[w+1]&255;(g*4-d-A)/2<f&&n.set(w),d=g,g=A}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),o=new be(n,i);this.initArrays(n);const a=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(i*d/5),w=e.getRow(g,this.luminances),A=Math.floor(n*4/5);for(let _=Math.floor(n/5);_<A;_++){const I=w[_]&255;a[I>>Je.LUMINANCE_SHIFT]++}}const c=Je.estimateBlackPoint(a),f=e.getMatrix();for(let d=0;d<i;d++){const g=d*n;for(let w=0;w<n;w++)(f[g+w]&255)<c&&o.set(w,d)}return o}createBinarizer(e){return new Je(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Je.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,o=0,a=0;for(let w=0;w<n;w++)e[w]>a&&(o=w,a=e[w]),e[w]>i&&(i=e[w]);let c=0,f=0;for(let w=0;w<n;w++){const A=w-o,_=e[w]*A*A;_>f&&(c=w,f=_)}if(o>c){const w=o;o=c,c=w}if(c-o<=n/16)throw new V;let d=c-1,g=-1;for(let w=c-1;w>o;w--){const A=w-o,_=A*A*(c-w)*(i-e[w]);_>g&&(d=w,g=_)}return d<<Je.LUMINANCE_SHIFT}}Je.LUMINANCE_BITS=5,Je.LUMINANCE_SHIFT=8-Je.LUMINANCE_BITS,Je.LUMINANCE_BUCKETS=1<<Je.LUMINANCE_BITS,Je.EMPTY=Uint8ClampedArray.from([0]);class we extends Je{constructor(e){super(e);this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=we.MINIMUM_DIMENSION&&i>=we.MINIMUM_DIMENSION){const o=e.getMatrix();let a=n>>we.BLOCK_SIZE_POWER;(n&we.BLOCK_SIZE_MASK)!=0&&a++;let c=i>>we.BLOCK_SIZE_POWER;(i&we.BLOCK_SIZE_MASK)!=0&&c++;const f=we.calculateBlackPoints(o,a,c,n,i),d=new be(n,i);we.calculateThresholdForBlock(o,a,c,n,i,f,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new we(e)}static calculateThresholdForBlock(e,n,i,o,a,c,f){const d=a-we.BLOCK_SIZE,g=o-we.BLOCK_SIZE;for(let w=0;w<i;w++){let A=w<<we.BLOCK_SIZE_POWER;A>d&&(A=d);const _=we.cap(w,2,i-3);for(let I=0;I<n;I++){let v=I<<we.BLOCK_SIZE_POWER;v>g&&(v=g);const R=we.cap(I,2,n-3);let D=0;for(let ie=-2;ie<=2;ie++){const oe=c[_+ie];D+=oe[R-2]+oe[R-1]+oe[R]+oe[R+1]+oe[R+2]}const H=D/25;we.thresholdBlock(e,v,A,H,o,f)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,o,a,c){for(let f=0,d=i*a+n;f<we.BLOCK_SIZE;f++,d+=a)for(let g=0;g<we.BLOCK_SIZE;g++)(e[d+g]&255)<=o&&c.set(n+g,i+f)}static calculateBlackPoints(e,n,i,o,a){const c=a-we.BLOCK_SIZE,f=o-we.BLOCK_SIZE,d=new Array(i);for(let g=0;g<i;g++){d[g]=new Int32Array(n);let w=g<<we.BLOCK_SIZE_POWER;w>c&&(w=c);for(let A=0;A<n;A++){let _=A<<we.BLOCK_SIZE_POWER;_>f&&(_=f);let I=0,v=255,R=0;for(let H=0,ie=w*o+_;H<we.BLOCK_SIZE;H++,ie+=o){for(let oe=0;oe<we.BLOCK_SIZE;oe++){const ee=e[ie+oe]&255;I+=ee,ee<v&&(v=ee),ee>R&&(R=ee)}if(R-v>we.MIN_DYNAMIC_RANGE)for(H++,ie+=o;H<we.BLOCK_SIZE;H++,ie+=o)for(let oe=0;oe<we.BLOCK_SIZE;oe++)I+=e[ie+oe]&255}let D=I>>we.BLOCK_SIZE_POWER*2;if(R-v<=we.MIN_DYNAMIC_RANGE&&(D=v/2,g>0&&A>0)){const H=(d[g-1][A]+2*d[g][A-1]+d[g-1][A-1])/4;v<H&&(D=H)}d[g][A]=D}}return d}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class We{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,o){throw new ve("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ve("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ve("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new se;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let a=0;a<this.width;a++){const c=o[a]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",n.append(f)}n.append(`
`)}return n.toString()}}class ke extends We{constructor(e){super(e.getWidth(),e.getHeight());this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),o=this.getWidth();for(let a=0;a<o;a++)i[a]=255-(i[a]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let o=0;o<n;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,o){return new ke(this.delegate.crop(e,n,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ke(this.delegate.rotateCounterClockwise45())}}class mt extends We{constructor(e){super(e.width,e.height);this.canvas=e,this.tempCanvasElement=null,this.buffer=mt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return mt.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const o=new Uint8ClampedArray(n*i);for(let a=0,c=0,f=e.length;a<f;a+=4,c++){let d;if(e[a+3]===0)d=255;else{const w=e[a],A=e[a+1],_=e[a+2];d=306*w+601*A+117*_+512>>10}o[c]=d}return o}getRow(e,n){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,o){return super.crop(e,n,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),o=e*mt.DEGREE_TO_RADIANS,a=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*c),d=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*c);return n.width=f,n.height=d,i.translate(f/2,d/2),i.rotate(o),i.drawImage(this.canvas,a/-2,c/-2),this.buffer=mt.makeBufferFromCanvasImageData(n),this}invert(){return new ke(this)}}mt.DEGREE_TO_RADIANS=Math.PI/180;class On{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ct=(globalThis||Hi||self||window||void 0)&&(globalThis||Hi||self||window||void 0).__awaiter||function(m,e,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(w){try{g(i.next(w))}catch(A){c(A)}}function d(w){try{g(i.throw(w))}catch(A){c(A)}}function g(w){w.done?a(w.value):o(w.value).then(f,d)}g((i=i.apply(m,e||[])).next())})};class bt{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ct(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const a=i.deviceId||i.id,c=i.label||`Video device ${n.length+1}`,f=i.groupId,d={deviceId:a,label:c,kind:o,groupId:f};n.push(d)}return n})}getVideoInputDevices(){return ct(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new On(n.deviceId,n.label))})}findDeviceById(e){return ct(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return ct(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return ct(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(e,n){return ct(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return ct(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return ct(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return ct(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,n,i)})}decodeFromConstraints(e,n,i){return ct(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,n,i)})}decodeFromStream(e,n,i){return ct(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return ct(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ct(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new C(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new C(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new C("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new C("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new C("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new C("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new C("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new C("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new C("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new C("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,n);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ct(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return ct(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e=="undefined"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document!="undefined"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const o=(a,c)=>{if(this._stopAsyncDecode){c(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(e);a(f)}catch(f){const d=n&&f instanceof V,w=(f instanceof T||f instanceof W)&&i;if(d||w)return setTimeout(o,this._timeBetweenDecodingAttempts,a,c);c(f)}};return new Promise((a,c)=>o(a,c))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);n(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){n(null,o);const a=o instanceof T||o instanceof W,c=o instanceof V;(a||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}createBinaryBitmap(e){const n=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(n,e);const i=this.getCaptureCanvas(e),o=new mt(i),a=new we(o);return new O(a)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}drawImageOnCanvas(e,n){e.drawImage(n,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,o;return typeof e!="undefined"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class et{constructor(e,n,i=n==null?0:8*n.length,o,a,c=M.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=o,this.format=a,this.timestamp=c,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=o,this.format=a,this.resultMetadata=null,c==null?this.timestamp=M.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);M.arraycopy(n,0,i,0,n.length),M.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tr;(function(m){m[m.AZTEC=0]="AZTEC",m[m.CODABAR=1]="CODABAR",m[m.CODE_39=2]="CODE_39",m[m.CODE_93=3]="CODE_93",m[m.CODE_128=4]="CODE_128",m[m.DATA_MATRIX=5]="DATA_MATRIX",m[m.EAN_8=6]="EAN_8",m[m.EAN_13=7]="EAN_13",m[m.ITF=8]="ITF",m[m.MAXICODE=9]="MAXICODE",m[m.PDF_417=10]="PDF_417",m[m.QR_CODE=11]="QR_CODE",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tr||(tr={}));var L=tr,Ee;(function(m){m[m.OTHER=0]="OTHER",m[m.ORIENTATION=1]="ORIENTATION",m[m.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",m[m.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",m[m.ISSUE_NUMBER=4]="ISSUE_NUMBER",m[m.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",m[m.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",m[m.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",m[m.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",m[m.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",m[m.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ee||(Ee={}));var te=Ee;class Ae{constructor(e,n,i,o,a=-1,c=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=c,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ge{exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class De{constructor(e,n){if(n.length===0)throw new y;this.field=e;const i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),M.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let c=0,f=n.length;c!==f;c++){const d=n[c];i=Ge.addOrSubtract(i,d)}return i}i=n[0];const o=n.length,a=this.field;for(let c=1;c<o;c++)i=Ge.addOrSubtract(a.multiply(e,i),n[c]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const c=n;n=i,i=c}let o=new Int32Array(i.length);const a=i.length-n.length;M.arraycopy(i,0,o,0,a);for(let c=a;c<i.length;c++)o[c]=Ge.addOrSubtract(n[c-a],i[c]);return new De(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,o=e.coefficients,a=o.length,c=new Int32Array(i+a-1),f=this.field;for(let d=0;d<i;d++){const g=n[d];for(let w=0;w<a;w++)c[d+w]=Ge.addOrSubtract(c[d+w],f.multiply(g,o[w]))}return new De(f,c)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,o=new Int32Array(n),a=this.coefficients;for(let c=0;c<n;c++)o[c]=i.multiply(a[c],e);return new De(i,o)}multiplyByMonomial(e,n){if(e<0)throw new y;if(n===0)return this.field.getZero();const i=this.coefficients,o=i.length,a=new Int32Array(o+e),c=this.field;for(let f=0;f<o;f++)a[f]=c.multiply(i[f],n);return new De(c,a)}divide(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new y("Divide by 0");const n=this.field;let i=n.getZero(),o=this;const a=e.getCoefficient(e.getDegree()),c=n.inverse(a);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const f=o.getDegree()-e.getDegree(),d=n.multiply(o.getCoefficient(o.getDegree()),c),g=e.multiplyByMonomial(f,d),w=n.buildMonomial(f,d);i=i.addOrSubtract(w),o=o.addOrSubtract(g)}return[i,o]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Re extends E{}Re.kind="ArithmeticException";class he extends Ge{constructor(e,n,i){super();this.primitive=e,this.size=n,this.generatorBase=i;const o=new Int32Array(n);let a=1;for(let f=0;f<n;f++)o[f]=a,a*=2,a>=n&&(a^=e,a&=n-1);this.expTable=o;const c=new Int32Array(n);for(let f=0;f<n-1;f++)c[o[f]]=f;this.logTable=c,this.zero=new De(this,Int32Array.from([0])),this.one=new De(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new y;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new De(this,i)}inverse(e){if(e===0)throw new Re;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}he.AZTEC_DATA_12=new he(4201,4096,1),he.AZTEC_DATA_10=new he(1033,1024,1),he.AZTEC_DATA_6=new he(67,64,1),he.AZTEC_PARAM=new he(19,16,1),he.QR_CODE_FIELD_256=new he(285,256,0),he.DATA_MATRIX_FIELD_256=new he(301,256,1),he.AZTEC_DATA_8=he.DATA_MATRIX_FIELD_256,he.MAXICODE_FIELD_64=he.AZTEC_DATA_6;class S extends E{}S.kind="ReedSolomonException";class N extends E{}N.kind="IllegalStateException";class G{constructor(e){this.field=e}decode(e,n){const i=this.field,o=new De(i,e),a=new Int32Array(n);let c=!0;for(let I=0;I<n;I++){const v=o.evaluateAt(i.exp(I+i.getGeneratorBase()));a[a.length-1-I]=v,v!==0&&(c=!1)}if(c)return;const f=new De(i,a),d=this.runEuclideanAlgorithm(i.buildMonomial(n,1),f,n),g=d[0],w=d[1],A=this.findErrorLocations(g),_=this.findErrorMagnitudes(w,A);for(let I=0;I<A.length;I++){const v=e.length-1-i.log(A[I]);if(v<0)throw new S("Bad error location");e[v]=he.addOrSubtract(e[v],_[I])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const I=e;e=n,n=I}const o=this.field;let a=e,c=n,f=o.getZero(),d=o.getOne();for(;c.getDegree()>=(i/2|0);){let I=a,v=f;if(a=c,f=d,a.isZero())throw new S("r_{i-1} was zero");c=I;let R=o.getZero();const D=a.getCoefficient(a.getDegree()),H=o.inverse(D);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){const ie=c.getDegree()-a.getDegree(),oe=o.multiply(c.getCoefficient(c.getDegree()),H);R=R.addOrSubtract(o.buildMonomial(ie,oe)),c=c.addOrSubtract(a.multiplyByMonomial(ie,oe))}if(d=R.multiply(f).addOrSubtract(v),c.getDegree()>=a.getDegree())throw new N("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new S("sigmaTilde(0) was zero");const w=o.inverse(g),A=d.multiplyScalar(w),_=c.multiplyScalar(w);return[A,_]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let o=0;const a=this.field;for(let c=1;c<a.getSize()&&o<n;c++)e.evaluateAt(c)===0&&(i[o]=a.inverse(c),o++);if(o!==n)throw new S("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,o=new Int32Array(i),a=this.field;for(let c=0;c<i;c++){const f=a.inverse(n[c]);let d=1;for(let g=0;g<i;g++)if(c!==g){const w=a.multiply(n[g],f),A=(w&1)==0?w|1:w&~1;d=a.multiply(d,A)}o[c]=a.multiply(e.evaluateAt(f),a.inverse(d)),a.getGeneratorBase()!==0&&(o[c]=a.multiply(o[c],f))}return o}}var Z;(function(m){m[m.UPPER=0]="UPPER",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.DIGIT=3]="DIGIT",m[m.PUNCT=4]="PUNCT",m[m.BINARY=5]="BINARY"})(Z||(Z={}));class z{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),o=this.correctBits(i),a=z.convertBoolArrayToByteArray(o),c=z.getEncodedData(o),f=new Ae(a,c,null,null);return f.setNumBits(o.length),f}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=Z.UPPER,o=Z.UPPER,a="",c=0;for(;c<n;)if(o===Z.BINARY){if(n-c<5)break;let f=z.readCode(e,c,5);if(c+=5,f===0){if(n-c<11)break;f=z.readCode(e,c,11)+31,c+=11}for(let d=0;d<f;d++){if(n-c<8){c=n;break}const g=z.readCode(e,c,8);a+=ue.castAsNonUtf8Char(g),c+=8}o=i}else{let f=o===Z.DIGIT?4:5;if(n-c<f)break;let d=z.readCode(e,c,f);c+=f;let g=z.getCharacter(o,d);g.startsWith("CTRL_")?(i=o,o=z.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=o)):(a+=g,o=i)}return a}static getTable(e){switch(e){case"L":return Z.LOWER;case"P":return Z.PUNCT;case"M":return Z.MIXED;case"D":return Z.DIGIT;case"B":return Z.BINARY;case"U":default:return Z.UPPER}}static getCharacter(e,n){switch(e){case Z.UPPER:return z.UPPER_TABLE[n];case Z.LOWER:return z.LOWER_TABLE[n];case Z.MIXED:return z.MIXED_TABLE[n];case Z.PUNCT:return z.PUNCT_TABLE[n];case Z.DIGIT:return z.DIGIT_TABLE[n];default:throw new N("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=he.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=he.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=he.AZTEC_DATA_10):(i=12,n=he.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=e.length/i;if(a<o)throw new W;let c=e.length%i,f=new Int32Array(a);for(let _=0;_<a;_++,c+=i)f[_]=z.readCode(e,c,i);try{new G(n).decode(f,a-o)}catch(_){throw new W(_)}let d=(1<<i)-1,g=0;for(let _=0;_<o;_++){let I=f[_];if(I===0||I===d)throw new W;(I===1||I===d-1)&&g++}let w=new Array(o*i-g),A=0;for(let _=0;_<o;_++){let I=f[_];if(I===1||I===d-1)w.fill(I>1,A,A+i-1),A+=i-1;else for(let v=i-1;v>=0;--v)w[A++]=(I&1<<v)!=0}return w}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(n?11:14)+i*4,a=new Int32Array(o),c=new Array(this.totalBitsInLayer(i,n));if(n)for(let f=0;f<a.length;f++)a[f]=f;else{let f=o+1+2*F.truncDivision(F.truncDivision(o,2)-1,15),d=o/2,g=F.truncDivision(f,2);for(let w=0;w<d;w++){let A=w+F.truncDivision(w,15);a[d-w-1]=g-A-1,a[d+w]=g+A+1}}for(let f=0,d=0;f<i;f++){let g=(i-f)*4+(n?9:12),w=f*2,A=o-1-w;for(let _=0;_<g;_++){let I=_*2;for(let v=0;v<2;v++)c[d+I+v]=e.get(a[w+v],a[w+_]),c[d+2*g+I+v]=e.get(a[w+_],a[A-v]),c[d+4*g+I+v]=e.get(a[A-v],a[A-_]),c[d+6*g+I+v]=e.get(a[A-_],a[w+v])}d+=g*8}return c}static readCode(e,n,i){let o=0;for(let a=n;a<n+i;a++)o<<=1,e[a]&&(o|=1);return o}static readByte(e,n){let i=e.length-n;return i>=8?z.readCode(e,n,8):z.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=z.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}z.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],z.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],z.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],z.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],z.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ${constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,o){const a=e-i,c=n-o;return Math.sqrt(a*a+c*c)}static sum(e){let n=0;for(let i=0,o=e.length;i!==o;i++)n+=e[i];return n}}class fe{static floatToIntBits(e){return e}}fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof k){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*fe.floatToIntBits(this.x)+fe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let a,c,f;if(i>=n&&i>=o?(c=e[0],a=e[1],f=e[2]):o>=i&&o>=n?(c=e[1],a=e[0],f=e[2]):(c=e[2],a=e[0],f=e[1]),this.crossProductZ(a,c,f)<0){const d=a;a=f,f=d}e[0]=a,e[1]=c,e[2]=f}static distance(e,n){return $.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const o=n.x,a=n.y;return(i.x-o)*(e.y-a)-(i.y-a)*(e.x-o)}}class le{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ne extends le{constructor(e,n,i,o,a){super(e,n);this.compact=i,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class me{constructor(e,n,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=me.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const a=n/2|0;if(this.leftInit=i-a,this.rightInit=i+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,o=this.downInit,a=!1,c=!0,f=!1,d=!1,g=!1,w=!1,A=!1;const _=this.width,I=this.height;for(;c;){c=!1;let v=!0;for(;(v||!d)&&n<_;)v=this.containsBlackPoint(i,o,n,!1),v?(n++,c=!0,d=!0):d||n++;if(n>=_){a=!0;break}let R=!0;for(;(R||!g)&&o<I;)R=this.containsBlackPoint(e,n,o,!0),R?(o++,c=!0,g=!0):g||o++;if(o>=I){a=!0;break}let D=!0;for(;(D||!w)&&e>=0;)D=this.containsBlackPoint(i,o,e,!1),D?(e--,c=!0,w=!0):w||e--;if(e<0){a=!0;break}let H=!0;for(;(H||!A)&&i>=0;)H=this.containsBlackPoint(e,n,i,!0),H?(i--,c=!0,A=!0):A||i--;if(i<0){a=!0;break}c&&(f=!0)}if(!a&&f){const v=n-e;let R=null;for(let oe=1;R===null&&oe<v;oe++)R=this.getBlackPointOnSegment(e,o-oe,e+oe,o);if(R==null)throw new V;let D=null;for(let oe=1;D===null&&oe<v;oe++)D=this.getBlackPointOnSegment(e,i+oe,e+oe,i);if(D==null)throw new V;let H=null;for(let oe=1;H===null&&oe<v;oe++)H=this.getBlackPointOnSegment(n,i+oe,n-oe,i);if(H==null)throw new V;let ie=null;for(let oe=1;ie===null&&oe<v;oe++)ie=this.getBlackPointOnSegment(n,o-oe,n-oe,o);if(ie==null)throw new V;return this.centerEdges(ie,R,H,D)}else throw new V}getBlackPointOnSegment(e,n,i,o){const a=$.round($.distance(e,n,i,o)),c=(i-e)/a,f=(o-n)/a,d=this.image;for(let g=0;g<a;g++){const w=$.round(e+g*c),A=$.round(n+g*f);if(d.get(w,A))return new k(w,A)}return null}centerEdges(e,n,i,o){const a=e.getX(),c=e.getY(),f=n.getX(),d=n.getY(),g=i.getX(),w=i.getY(),A=o.getX(),_=o.getY(),I=me.CORR;return a<this.width/2?[new k(A-I,_+I),new k(f+I,d+I),new k(g-I,w-I),new k(a+I,c-I)]:[new k(A+I,_+I),new k(f+I,d-I),new k(g-I,w+I),new k(a-I,c-I)]}containsBlackPoint(e,n,i,o){const a=this.image;if(o){for(let c=e;c<=n;c++)if(a.get(c,i))return!0}else for(let c=e;c<=n;c++)if(a.get(i,c))return!0;return!1}}me.INIT_SIZE=10,me.CORR=1;class pe{static checkAndNudgePoints(e,n){const i=e.getWidth(),o=e.getHeight();let a=!0;for(let c=0;c<n.length&&a;c+=2){const f=Math.floor(n[c]),d=Math.floor(n[c+1]);if(f<-1||f>i||d<-1||d>o)throw new V;a=!1,f===-1?(n[c]=0,a=!0):f===i&&(n[c]=i-1,a=!0),d===-1?(n[c+1]=0,a=!0):d===o&&(n[c+1]=o-1,a=!0)}a=!0;for(let c=n.length-2;c>=0&&a;c-=2){const f=Math.floor(n[c]),d=Math.floor(n[c+1]);if(f<-1||f>i||d<-1||d>o)throw new V;a=!1,f===-1?(n[c]=0,a=!0):f===i&&(n[c]=i-1,a=!0),d===-1?(n[c+1]=0,a=!0):d===o&&(n[c+1]=o-1,a=!0)}}}class xe{constructor(e,n,i,o,a,c,f,d,g){this.a11=e,this.a21=n,this.a31=i,this.a12=o,this.a22=a,this.a32=c,this.a13=f,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(e,n,i,o,a,c,f,d,g,w,A,_,I,v,R,D){const H=xe.quadrilateralToSquare(e,n,i,o,a,c,f,d);return xe.squareToQuadrilateral(g,w,A,_,I,v,R,D).times(H)}transformPoints(e){const n=e.length,i=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,d=this.a23,g=this.a31,w=this.a32,A=this.a33;for(let _=0;_<n;_+=2){const I=e[_],v=e[_+1],R=a*I+d*v+A;e[_]=(i*I+c*v+g)/R,e[_+1]=(o*I+f*v+w)/R}}transformPointsWithValues(e,n){const i=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,d=this.a23,g=this.a31,w=this.a32,A=this.a33,_=e.length;for(let I=0;I<_;I++){const v=e[I],R=n[I],D=a*v+d*R+A;e[I]=(i*v+c*R+g)/D,n[I]=(o*v+f*R+w)/D}}static squareToQuadrilateral(e,n,i,o,a,c,f,d){const g=e-i+a-f,w=n-o+c-d;if(g===0&&w===0)return new xe(i-e,a-i,e,o-n,c-o,n,0,0,1);{const A=i-a,_=f-a,I=o-c,v=d-c,R=A*v-_*I,D=(g*v-_*w)/R,H=(A*w-g*I)/R;return new xe(i-e+D*i,f-e+H*f,e,o-n+D*o,d-n+H*d,n,D,H,1)}}static quadrilateralToSquare(e,n,i,o,a,c,f,d){return xe.squareToQuadrilateral(e,n,i,o,a,c,f,d).buildAdjoint()}buildAdjoint(){return new xe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new xe(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Oe extends pe{sampleGrid(e,n,i,o,a,c,f,d,g,w,A,_,I,v,R,D,H,ie,oe){const ee=xe.quadrilateralToQuadrilateral(o,a,c,f,d,g,w,A,_,I,v,R,D,H,ie,oe);return this.sampleGridWithTransform(e,n,i,ee)}sampleGridWithTransform(e,n,i,o){if(n<=0||i<=0)throw new V;const a=new be(n,i),c=new Float32Array(2*n);for(let f=0;f<i;f++){const d=c.length,g=f+.5;for(let w=0;w<d;w+=2)c[w]=w/2+.5,c[w+1]=g;o.transformPoints(c),pe.checkAndNudgePoints(e,c);try{for(let w=0;w<d;w+=2)e.get(Math.floor(c[w]),Math.floor(c[w+1]))&&a.set(w/2,f)}catch{throw new V}}return a}}class Ne{static setGridSampler(e){Ne.gridSampler=e}static getInstance(){return Ne.gridSampler}}Ne.gridSampler=new Oe;class Be{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new k(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ze{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),a=this.getMatrixCornerPoints(i);return new ne(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new V;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let o=0;for(let c=0;c<4;c++){let f=i[(this.shift+c)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&31<<5)+(f>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(e,n){let i=0;e.forEach((o,a,c)=>{let f=(o>>n-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(F.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new V}getCorrectedParameterData(e,n){let i,o;n?(i=7,o=2):(i=10,o=4);let a=i-o,c=new Int32Array(i);for(let d=i-1;d>=0;--d)c[d]=e&15,e>>=4;try{new G(he.AZTEC_PARAM).decode(c,a)}catch{throw new V}let f=0;for(let d=0;d<o;d++)f=(f<<4)+c[d];return f}getBullsEyeCorners(e){let n=e,i=e,o=e,a=e,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(n,c,1,-1),_=this.getFirstDifferent(i,c,1,1),I=this.getFirstDifferent(o,c,-1,1),v=this.getFirstDifferent(a,c,-1,-1);if(this.nbCenterLayers>2){let R=this.distancePoint(v,A)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(R<.75||R>1.25||!this.isWhiteOrBlackRectangle(A,_,I,v))break}n=A,i=_,o=I,a=v,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let f=new k(n.getX()+.5,n.getY()-.5),d=new k(i.getX()+.5,i.getY()+.5),g=new k(o.getX()-.5,o.getY()+.5),w=new k(a.getX()-.5,a.getY()-.5);return this.expandSquare([f,d,g,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,o;try{let f=new me(this.image).detect();e=f[0],n=f[1],i=f[2],o=f[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Be(d+7,g-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Be(d+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Be(d-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Be(d-7,g-7),!1,-1,-1).toResultPoint()}let a=$.round((e.getX()+o.getX()+n.getX()+i.getX())/4),c=$.round((e.getY()+o.getY()+n.getY()+i.getY())/4);try{let f=new me(this.image,15,a,c).detect();e=f[0],n=f[1],i=f[2],o=f[3]}catch{e=this.getFirstDifferent(new Be(a+7,c-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Be(a+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Be(a-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Be(a-7,c-7),!1,-1,-1).toResultPoint()}return a=$.round((e.getX()+o.getX()+n.getX()+i.getX())/4),c=$.round((e.getY()+o.getY()+n.getY()+i.getY())/4),new Be(a,c)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,o,a){let c=Ne.getInstance(),f=this.getDimension(),d=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return c.sampleGrid(e,f,f,d,d,g,d,g,g,d,g,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(e,n,i){let o=0,a=this.distanceResultPoint(e,n),c=a/i,f=e.getX(),d=e.getY(),g=c*(n.getX()-e.getX())/a,w=c*(n.getY()-e.getY())/a;for(let A=0;A<i;A++)this.image.get($.round(f+A*g),$.round(d+A*w))&&(o|=1<<i-A-1);return o}isWhiteOrBlackRectangle(e,n,i,o){let a=3;e=new Be(e.getX()-a,e.getY()+a),n=new Be(n.getX()-a,n.getY()-a),i=new Be(i.getX()+a,i.getY()-a),o=new Be(o.getX()+a,o.getY()+a);let c=this.getColor(o,e);if(c===0)return!1;let f=this.getColor(e,n);return f!==c||(f=this.getColor(n,i),f!==c)?!1:(f=this.getColor(i,o),f===c)}getColor(e,n){let i=this.distancePoint(e,n),o=(n.getX()-e.getX())/i,a=(n.getY()-e.getY())/i,c=0,f=e.getX(),d=e.getY(),g=this.image.get(e.getX(),e.getY()),w=Math.ceil(i);for(let _=0;_<w;_++)f+=o,d+=a,this.image.get($.round(f),$.round(d))!==g&&c++;let A=c/i;return A>.1&&A<.9?0:A<=.1===g?1:-1}getFirstDifferent(e,n,i,o){let a=e.getX()+i,c=e.getY()+o;for(;this.isValid(a,c)&&this.image.get(a,c)===n;)a+=i,c+=o;for(a-=i,c-=o;this.isValid(a,c)&&this.image.get(a,c)===n;)a+=i;for(a-=i;this.isValid(a,c)&&this.image.get(a,c)===n;)c+=o;return c-=o,new Be(a,c)}expandSquare(e,n,i){let o=i/(2*n),a=e[0].getX()-e[2].getX(),c=e[0].getY()-e[2].getY(),f=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,g=new k(f+o*a,d+o*c),w=new k(f-o*a,d-o*c);a=e[1].getX()-e[3].getX(),c=e[1].getY()-e[3].getY(),f=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let A=new k(f+o*a,d+o*c),_=new k(f-o*a,d-o*c);return[g,A,w,_]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=$.round(e.getX()),i=$.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return $.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return $.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class $e{decode(e,n=null){let i=null,o=new Ze(e.getBlackMatrix()),a=null,c=null;try{let w=o.detectMirror(!1);a=w.getPoints(),this.reportFoundResultPoints(n,a),c=new z().decode(w)}catch(w){i=w}if(c==null)try{let w=o.detectMirror(!0);a=w.getPoints(),this.reportFoundResultPoints(n,a),c=new z().decode(w)}catch(w){throw i!=null?i:w}let f=new et(c.getText(),c.getRawBytes(),c.getNumBits(),a,L.AZTEC,M.currentTimeMillis()),d=c.getByteSegments();d!=null&&f.putMetadata(te.BYTE_SEGMENTS,d);let g=c.getECLevel();return g!=null&&f.putMetadata(te.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(ae.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((o,a,c)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class zt extends bt{constructor(e=500){super(new $e,e)}}class nt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(ae.TRY_HARDER)===!0&&e.isRotateSupported()){const a=e.rotateCounterClockwise(),c=this.doDecode(a,n),f=c.getResultMetadata();let d=270;f!==null&&f.get(te.ORIENTATION)===!0&&(d=d+f.get(te.ORIENTATION)%360),c.putMetadata(te.ORIENTATION,d);const g=c.getResultPoints();if(g!==null){const w=a.getHeight();for(let A=0;A<g.length;A++)g[A]=new k(w-g[A].getY()-1,g[A].getX())}return c}else throw new V}}reset(){}doDecode(e,n){const i=e.getWidth(),o=e.getHeight();let a=new j(i);const c=n&&n.get(ae.TRY_HARDER)===!0,f=Math.max(1,o>>(c?8:5));let d;c?d=o:d=15;const g=Math.trunc(o/2);for(let w=0;w<d;w++){const A=Math.trunc((w+1)/2),_=(w&1)==0,I=g+f*(_?A:-A);if(I<0||I>=o)break;try{a=e.getBlackRow(I,a)}catch{continue}for(let v=0;v<2;v++){if(v===1&&(a.reverse(),n&&n.get(ae.NEED_RESULT_POINT_CALLBACK)===!0)){const R=new Map;n.forEach((D,H)=>R.set(H,D)),R.delete(ae.NEED_RESULT_POINT_CALLBACK),n=R}try{const R=this.decodeRow(I,a,n);if(v===1){R.putMetadata(te.ORIENTATION,180);const D=R.getResultPoints();D!==null&&(D[0]=new k(i-D[0].getX()-1,D[0].getY()),D[1]=new k(i-D[1].getX()-1,D[1].getY()))}return R}catch{}}}throw new V}static recordPattern(e,n,i){const o=i.length;for(let g=0;g<o;g++)i[g]=0;const a=e.getSize();if(n>=a)throw new V;let c=!e.get(n),f=0,d=n;for(;d<a;){if(e.get(d)!==c)i[f]++;else{if(++f===o)break;i[f]=1,c=!c}d++}if(!(f===o||f===o-1&&d===a))throw new V}static recordPatternInReverse(e,n,i){let o=i.length,a=e.get(n);for(;n>0&&o>=0;)e.get(--n)!==a&&(o--,a=!a);if(o>=0)throw new V;nt.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const o=e.length;let a=0,c=0;for(let g=0;g<o;g++)a+=e[g],c+=n[g];if(a<c)return Number.POSITIVE_INFINITY;const f=a/c;i*=f;let d=0;for(let g=0;g<o;g++){const w=e[g],A=n[g]*f,_=w>A?w-A:A-w;if(_>i)return Number.POSITIVE_INFINITY;d+=_}return d/a}}class ce extends nt{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),c=i,f=!1;const d=6;for(let g=i;g<n;g++)if(e.get(g)!==f)a[o]++;else{if(o===d-1){let w=ce.MAX_AVG_VARIANCE,A=-1;for(let _=ce.CODE_START_A;_<=ce.CODE_START_C;_++){const I=nt.patternMatchVariance(a,ce.CODE_PATTERNS[_],ce.MAX_INDIVIDUAL_VARIANCE);I<w&&(w=I,A=_)}if(A>=0&&e.isRange(Math.max(0,c-(g-c)/2),c,!1))return Int32Array.from([c,g,A]);c+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,f=!f}throw new V}static decodeCode(e,n,i){nt.recordPattern(e,i,n);let o=ce.MAX_AVG_VARIANCE,a=-1;for(let c=0;c<ce.CODE_PATTERNS.length;c++){const f=ce.CODE_PATTERNS[c],d=this.patternMatchVariance(n,f,ce.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,a=c)}if(a>=0)return a;throw new V}decodeRow(e,n,i){const o=i&&i.get(ae.ASSUME_GS1)===!0,a=ce.findStartPattern(n),c=a[2];let f=0;const d=new Uint8Array(20);d[f++]=c;let g;switch(c){case ce.CODE_START_A:g=ce.CODE_CODE_A;break;case ce.CODE_START_B:g=ce.CODE_CODE_B;break;case ce.CODE_START_C:g=ce.CODE_CODE_C;break;default:throw new W}let w=!1,A=!1,_="",I=a[0],v=a[1];const R=Int32Array.from([0,0,0,0,0,0]);let D=0,H=0,ie=c,oe=0,ee=!0,He=!1,Me=!1;for(;!w;){const Fr=A;switch(A=!1,D=H,H=ce.decodeCode(n,R,v),d[f++]=H,H!==ce.CODE_STOP&&(ee=!0),H!==ce.CODE_STOP&&(oe++,ie+=oe*H),I=v,v+=R.reduce((ef,tf)=>ef+tf,0),H){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new W}switch(g){case ce.CODE_CODE_A:if(H<64)Me===He?_+=String.fromCharCode(" ".charCodeAt(0)+H):_+=String.fromCharCode(" ".charCodeAt(0)+H+128),Me=!1;else if(H<96)Me===He?_+=String.fromCharCode(H-64):_+=String.fromCharCode(H+64),Me=!1;else switch(H!==ce.CODE_STOP&&(ee=!1),H){case ce.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+=String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!He&&Me?(He=!0,Me=!1):He&&Me?(He=!1,Me=!1):Me=!0;break;case ce.CODE_SHIFT:A=!0,g=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:g=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:g=ce.CODE_CODE_C;break;case ce.CODE_STOP:w=!0;break}break;case ce.CODE_CODE_B:if(H<96)Me===He?_+=String.fromCharCode(" ".charCodeAt(0)+H):_+=String.fromCharCode(" ".charCodeAt(0)+H+128),Me=!1;else switch(H!==ce.CODE_STOP&&(ee=!1),H){case ce.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+=String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!He&&Me?(He=!0,Me=!1):He&&Me?(He=!1,Me=!1):Me=!0;break;case ce.CODE_SHIFT:A=!0,g=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:g=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:g=ce.CODE_CODE_C;break;case ce.CODE_STOP:w=!0;break}break;case ce.CODE_CODE_C:if(H<100)H<10&&(_+="0"),_+=H;else switch(H!==ce.CODE_STOP&&(ee=!1),H){case ce.CODE_FNC_1:o&&(_.length===0?_+="]C1":_+=String.fromCharCode(29));break;case ce.CODE_CODE_A:g=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:g=ce.CODE_CODE_B;break;case ce.CODE_STOP:w=!0;break}break}Fr&&(g=g===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const Gt=v-I;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-I)/2),!1))throw new V;if(ie-=oe*D,ie%103!==D)throw new T;const dn=_.length;if(dn===0)throw new V;dn>0&&ee&&(g===ce.CODE_CODE_C?_=_.substring(0,dn-2):_=_.substring(0,dn-1));const Xt=(a[1]+a[0])/2,it=I+Gt/2,Rt=d.length,Yt=new Uint8Array(Rt);for(let Fr=0;Fr<Rt;Fr++)Yt[Fr]=d[Fr];const Lr=[new k(Xt,e),new k(it,e)];return new et(_,Yt,0,Lr,L.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class ut extends nt{constructor(e=!1,n=!1){super();this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=ut.findAsteriskPattern(n,o),c=n.getNextSet(a[1]),f=n.getSize(),d,g;do{ut.recordPattern(n,c,o);let R=ut.toNarrowWidePattern(o);if(R<0)throw new V;d=ut.patternToChar(R),this.decodeRowResult+=d,g=c;for(let D of o)c+=D;c=n.getNextSet(c)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let R of o)w+=R;let A=c-g-w;if(c!==f&&A*2<w)throw new V;if(this.usingCheckDigit){let R=this.decodeRowResult.length-1,D=0;for(let H=0;H<R;H++)D+=ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(R)!==ut.ALPHABET_STRING.charAt(D%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new V;let _;this.extendedMode?_=ut.decodeExtended(this.decodeRowResult):_=this.decodeRowResult;let I=(a[1]+a[0])/2,v=g+w/2;return new et(_,null,0,[new k(I,e),new k(v,e)],L.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),o=e.getNextSet(0),a=0,c=o,f=!1,d=n.length;for(let g=o;g<i;g++)if(e.get(g)!==f)n[a]++;else{if(a===d-1){if(this.toNarrowWidePattern(n)===ut.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((g-c)/2)),c,!1))return[c,g];c+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,f=!f}throw new V}static toNarrowWidePattern(e){let n=e.length,i=0,o;do{let a=2147483647;for(let d of e)d<a&&d>i&&(a=d);i=a,o=0;let c=0,f=0;for(let d=0;d<n;d++){let g=e[d];g>i&&(f|=1<<n-1-d,o++,c+=g)}if(o===3){for(let d=0;d<n&&o>0;d++){let g=e[d];if(g>i&&(o--,g*2>=c))return-1}return f}}while(o>3);return-1}static patternToChar(e){for(let n=0;n<ut.CHARACTER_ENCODINGS.length;n++)if(ut.CHARACTER_ENCODINGS[n]===e)return ut.ALPHABET_STRING.charAt(n);if(e===ut.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(e){let n=e.length,i="";for(let o=0;o<n;o++){let a=e.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let c=e.charAt(o+1),f="\0";switch(a){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new W;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new W;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="\x7F";else throw new W;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new W;break}i+=f,o++}else i+=a}return i}}ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ut.ASTERISK_ENCODING=148;class qe extends nt{constructor(){super(...arguments);this.narrowLineWidth=-1}decodeRow(e,n,i){let o=this.decodeStart(n),a=this.decodeEnd(n),c=new se;qe.decodeMiddle(n,o[1],a[0],c);let f=c.toString(),d=null;i!=null&&(d=i.get(ae.ALLOWED_LENGTHS)),d==null&&(d=qe.DEFAULT_ALLOWED_LENGTHS);let g=f.length,w=!1,A=0;for(let v of d){if(g===v){w=!0;break}v>A&&(A=v)}if(!w&&g>A&&(w=!0),!w)throw new W;const _=[new k(o[1],e),new k(a[0],e)];return new et(f,null,0,_,L.ITF,new Date().getTime())}static decodeMiddle(e,n,i,o){let a=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(a.fill(0),c.fill(0),f.fill(0);n<i;){nt.recordPattern(e,n,a);for(let g=0;g<5;g++){let w=2*g;c[g]=a[w],f[g]=a[w+1]}let d=qe.decodeDigit(c);o.append(d.toString()),d=this.decodeDigit(f),o.append(d.toString()),a.forEach(function(g){n+=g})}}decodeStart(e){let n=qe.skipWhiteSpace(e),i=qe.findGuardPattern(e,n,qe.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let o=n-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new V}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new V;return i}decodeEnd(e){e.reverse();try{let n=qe.skipWhiteSpace(e),i;try{i=qe.findGuardPattern(e,n,qe.END_PATTERN_REVERSED[0])}catch(a){a instanceof V&&(i=qe.findGuardPattern(e,n,qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let o=i.length,a=new Int32Array(o),c=e.getSize(),f=!1,d=0,g=n;a.fill(0);for(let w=n;w<c;w++)if(e.get(w)!==f)a[d]++;else{if(d===o-1){if(nt.patternMatchVariance(a,i,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return[g,w];g+=a[0]+a[1],M.arraycopy(a,2,a,0,d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,f=!f}throw new V}static decodeDigit(e){let n=qe.MAX_AVG_VARIANCE,i=-1,o=qe.PATTERNS.length;for(let a=0;a<o;a++){let c=qe.PATTERNS[a],f=nt.patternMatchVariance(e,c,qe.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,i=a):f===n&&(i=-1)}if(i>=0)return i%10;throw new V}}qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],qe.MAX_AVG_VARIANCE=.38,qe.MAX_INDIVIDUAL_VARIANCE=.5,qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],qe.START_PATTERN=Int32Array.from([1,1,1,1]),qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ue extends nt{constructor(){super(...arguments);this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,o=0,a=Int32Array.from([0,0,0]);for(;!n;){a=Int32Array.from([0,0,0]),i=Ue.findGuardPattern(e,o,!1,this.START_END_PATTERN,a);let c=i[0];o=i[1];let f=c-(o-c);f>=0&&(n=e.isRange(f,c,!1))}return i}static checkChecksum(e){return Ue.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Ue.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let o=n-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new W;i+=a}i*=3;for(let o=n-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new W;i+=a}return(1e3-i)%10}static decodeEnd(e,n){return Ue.findGuardPattern(e,n,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,o){return this.findGuardPattern(e,n,i,o,new Int32Array(o.length))}static findGuardPattern(e,n,i,o,a){let c=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let f=0,d=n,g=o.length,w=i;for(let A=n;A<c;A++)if(e.get(A)!==w)a[f]++;else{if(f===g-1){if(nt.patternMatchVariance(a,o,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return Int32Array.from([d,A]);d+=a[0]+a[1];let _=a.slice(2,a.length-1);for(let I=0;I<f-1;I++)a[I]=_[I];a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,w=!w}throw new V}static decodeDigit(e,n,i,o){this.recordPattern(e,i,n);let a=this.MAX_AVG_VARIANCE,c=-1,f=o.length;for(let d=0;d<f;d++){let g=o[d],w=nt.patternMatchVariance(n,g,Ue.MAX_INDIVIDUAL_VARIANCE);w<a&&(a=w,c=d)}if(c>=0)return c;throw new V}}Ue.MAX_AVG_VARIANCE=.48,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.START_END_PATTERN=Int32Array.from([1,1,1]),Ue.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ue.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ue.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Dt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(n,i,o),c=o.toString(),f=Dt.parseExtensionString(c),d=[new k((i[0]+i[1])/2,e),new k(a,e)],g=new et(c,null,0,d,L.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=n[1],f=0;for(let g=0;g<5&&c<a;g++){let w=Ue.decodeDigit(e,o,c,Ue.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let A of o)c+=A;w>=10&&(f|=1<<4-g),g!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==5)throw new V;let d=this.determineCheckDigit(f);if(Dt.extensionChecksum(i.toString())!==d)throw new V;return c}static extensionChecksum(e){let n=e.length,i=0;for(let o=n-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let o=n-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new V}static parseExtensionString(e){if(e.length!==5)return null;let n=Dt.parseExtension5String(e);return n==null?null:new Map([[te.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="\xA3";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),a=i%100,c=a<10?"0"+a:a.toString();return n+o+"."+c}}class Or{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(n,i,o),c=o.toString(),f=Or.parseExtensionString(c),d=[new k((i[0]+i[1])/2,e),new k(a,e)],g=new et(c,null,0,d,L.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=n[1],f=0;for(let d=0;d<2&&c<a;d++){let g=Ue.decodeDigit(e,o,c,Ue.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let w of o)c+=w;g>=10&&(f|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(i.length!==2)throw new V;if(parseInt(i.toString())%4!==f)throw new V;return c}static parseExtensionString(e){return e.length!==2?null:new Map([[te.ISSUE_NUMBER,parseInt(e)]])}}class Ll{static decodeRow(e,n,i){let o=Ue.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Dt().decodeRow(e,n,o)}catch{return new Or().decodeRow(e,n,o)}}}Ll.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class je extends Ue{constructor(){super();this.decodeRowStringBuffer="",je.L_AND_G_PATTERNS=je.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=je.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let o=0;o<n.length;o++)i[o]=n[n.length-o-1];je.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let o=je.findStartGuardPattern(n),a=i==null?null:i.get(ae.NEED_RESULT_POINT_CALLBACK);if(a!=null){const ee=new k((o[0]+o[1])/2,e);a.foundPossibleResultPoint(ee)}let c=this.decodeMiddle(n,o,this.decodeRowStringBuffer),f=c.rowOffset,d=c.resultString;if(a!=null){const ee=new k(f,e);a.foundPossibleResultPoint(ee)}let g=je.decodeEnd(n,f);if(a!=null){const ee=new k((g[0]+g[1])/2,e);a.foundPossibleResultPoint(ee)}let w=g[1],A=w+(w-g[0]);if(A>=n.getSize()||!n.isRange(w,A,!1))throw new V;let _=d.toString();if(_.length<8)throw new W;if(!je.checkChecksum(_))throw new T;let I=(o[1]+o[0])/2,v=(g[1]+g[0])/2,R=this.getBarcodeFormat(),D=[new k(I,e),new k(v,e)],H=new et(_,null,0,D,R,new Date().getTime()),ie=0;try{let ee=Ll.decodeRow(e,n,g[1]);H.putMetadata(te.UPC_EAN_EXTENSION,ee.getText()),H.putAllMetadata(ee.getResultMetadata()),H.addResultPoints(ee.getResultPoints()),ie=ee.getText().length}catch{}let oe=i==null?null:i.get(ae.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let ee=!1;for(let He in oe)if(ie.toString()===He){ee=!0;break}if(!ee)throw new V}return R===L.EAN_13||R===L.UPC_A,H}static checkChecksum(e){return je.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return je.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let o=n-1;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new W;i+=a}i*=3;for(let o=n-2;o>=0;o-=2){let a=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new W;i+=a}return(1e3-i)%10}static decodeEnd(e,n){return je.findGuardPattern(e,n,!1,je.START_END_PATTERN,new Int32Array(je.START_END_PATTERN.length).fill(0))}}class nr extends je{constructor(){super();this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=n[1],f=0;for(let g=0;g<6&&c<a;g++){let w=je.decodeDigit(e,o,c,je.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let A of o)c+=A;w>=10&&(f|=1<<5-g)}i=nr.determineFirstDigit(i,f),c=je.findGuardPattern(e,c,!0,je.MIDDLE_PATTERN,new Int32Array(je.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&c<a;g++){let w=je.decodeDigit(e,o,c,je.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w);for(let A of o)c+=A}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return L.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode("0".charCodeAt(0)+i)+e,e;throw new V}}nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fl extends je{constructor(){super();this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c=n[1];for(let d=0;d<4&&c<a;d++){let g=je.decodeDigit(e,o,c,je.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g);for(let w of o)c+=w}c=je.findGuardPattern(e,c,!0,je.MIDDLE_PATTERN,new Int32Array(je.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&c<a;d++){let g=je.decodeDigit(e,o,c,je.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g);for(let w of o)c+=w}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return L.EAN_8}}class bu extends je{constructor(){super(...arguments);this.ean13Reader=new nr}getBarcodeFormat(){return L.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new et(n.substring(1),null,null,e.getResultPoints(),L.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new V}reset(){this.ean13Reader.reset()}}class hn extends je{constructor(){super();this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const o=this.decodeMiddleCounters.map(d=>d);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=e.getSize();let c=n[1],f=0;for(let d=0;d<6&&c<a;d++){const g=hn.decodeDigit(e,o,c,hn.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let w of o)c+=w;g>=10&&(f|=1<<5-d)}return hn.determineNumSysAndCheckDigit(new se(i),f),c}decodeEnd(e,n){return hn.findGuardPatternWithoutCounters(e,n,!0,hn.MIDDLE_END_PATTERN)}checkChecksum(e){return je.checkChecksum(hn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){e.insert(0,"0"+i),e.append("0"+o);return}throw V.getNotFoundInstance()}getBarcodeFormat(){return L.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(a=>a.charCodeAt(0)),i=new se;i.append(e.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}hn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class ds extends nt{constructor(e){super();let n=e==null?null:e.get(ae.POSSIBLE_FORMATS),i=[];n!=null&&(n.indexOf(L.EAN_13)>-1?i.push(new nr):n.indexOf(L.UPC_A)>-1&&i.push(new bu),n.indexOf(L.EAN_8)>-1&&i.push(new Fl),n.indexOf(L.UPC_E)>-1&&i.push(new hn)),i.length===0&&(i.push(new nr),i.push(new Fl),i.push(new hn)),this.readers=i}decodeRow(e,n,i){for(let o of this.readers)try{const a=o.decodeRow(e,n,i),c=a.getBarcodeFormat()===L.EAN_13&&a.getText().charAt(0)==="0",f=i==null?null:i.get(ae.POSSIBLE_FORMATS),d=f==null||f.includes(L.UPC_A);if(c&&d){const g=a.getRawBytes(),w=new et(a.getText().substring(1),g,g.length,a.getResultPoints(),L.UPC_A);return w.putAllMetadata(a.getResultMetadata()),w}return a}catch{}throw new V}reset(){for(let e of this.readers)e.reset()}}class Bt extends nt{constructor(){super();this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(nt.patternMatchVariance(e,n[i],Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return i;throw new V}static count(e){return $.sum(new Int32Array(e))}static increment(e,n){let i=0,o=n[0];for(let a=1;a<e.length;a++)n[a]>o&&(o=n[a],i=a);e[i]++}static decrement(e,n){let i=0,o=n[0];for(let a=1;a<e.length;a++)n[a]<o&&(o=n[a],i=a);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],o=n/i;if(o>=Bt.MIN_FINDER_PATTERN_RATIO&&o<=Bt.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of e)f>c&&(c=f),f<a&&(a=f);return c<10*a}return!1}}Bt.MAX_AVG_VARIANCE=.2,Bt.MAX_INDIVIDUAL_VARIANCE=.45,Bt.MIN_FINDER_PATTERN_RATIO=9.5/12,Bt.MAX_FINDER_PATTERN_RATIO=12.5/14;class vr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof vr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class io{constructor(e,n,i,o,a){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new k(i,a)),this.resultPoints.push(new k(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof io))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class xn{constructor(){}static getRSSvalue(e,n,i){let o=0;for(let d of e)o+=d;let a=0,c=0,f=e.length;for(let d=0;d<f-1;d++){let g;for(g=1,c|=1<<d;g<e[d];g++,c&=~(1<<d)){let w=xn.combins(o-g-1,f-d-2);if(i&&c===0&&o-g-(f-d-1)>=f-d-1&&(w-=xn.combins(o-g-(f-d),f-d-2)),f-d-1>1){let A=0;for(let _=o-g-(f-d-2);_>n;_--)A+=xn.combins(o-g-_-1,f-d-3);w-=A*(f-1-d)}else o-g>n&&w--;a+=w}o-=g}return a}static combins(e,n){let i,o;e-n>n?(o=n,i=e-n):(o=e-n,i=n);let a=1,c=1;for(let f=e;f>i;f--)a*=f,c<=o&&(a/=c,c++);for(;c<=o;)a/=c,c++;return a}}class Iu{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,o=new j(i),a=0,f=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)(f&1<<d)!=0&&o.set(a),a++;for(let d=1;d<e.length;++d){let g=e[d],w=g.getLeftChar().getValue();for(let A=11;A>=0;--A)(w&1<<A)!=0&&o.set(a),a++;if(g.getRightChar()!=null){let A=g.getRightChar().getValue();for(let _=11;_>=0;--_)(A&1<<_)!=0&&o.set(a),a++}}return o}}class rr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class gs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ut extends gs{constructor(e,n){super(e);this.value=n}getValue(){return this.value}isFNC1(){return this.value===Ut.FNC1}}Ut.FNC1="$";class ir extends gs{constructor(e,n,i){super(e);i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class en extends gs{constructor(e,n,i){super(e);if(n<0||n>10||i<0||i>10)throw new W;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===en.FNC1}isSecondDigitFNC1(){return this.secondDigit===en.FNC1}isAnyFNC1(){return this.firstDigit===en.FNC1||this.secondDigit===en.FNC1}}en.FNC1=10;class de{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new V;let n=e.substring(0,2);for(let a of de.TWO_DIGIT_DATA_LENGTH)if(a[0]===n)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(2,a[2],e):de.processFixedAI(2,a[1],e);if(e.length<3)throw new V;let i=e.substring(0,3);for(let a of de.THREE_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(3,a[2],e):de.processFixedAI(3,a[1],e);for(let a of de.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(4,a[2],e):de.processFixedAI(4,a[1],e);if(e.length<4)throw new V;let o=e.substring(0,4);for(let a of de.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(4,a[2],e):de.processFixedAI(4,a[1],e);throw new V}static processFixedAI(e,n,i){if(i.length<e)throw new V;let o=i.substring(0,e);if(i.length<e+n)throw new V;let a=i.substring(e,e+n),c=i.substring(e+n),f="("+o+")"+a,d=de.parseFieldsInGeneralPurpose(c);return d==null?f:f+d}static processVariableAI(e,n,i){let o=i.substring(0,e),a;i.length<e+n?a=i.length:a=e+n;let c=i.substring(e,a),f=i.substring(a),d="("+o+")"+c,g=de.parseFieldsInGeneralPurpose(f);return g==null?d:d+g}}de.VARIABLE_LENGTH=[],de.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",de.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",de.VARIABLE_LENGTH,20],["22",de.VARIABLE_LENGTH,29],["30",de.VARIABLE_LENGTH,8],["37",de.VARIABLE_LENGTH,8],["90",de.VARIABLE_LENGTH,30],["91",de.VARIABLE_LENGTH,30],["92",de.VARIABLE_LENGTH,30],["93",de.VARIABLE_LENGTH,30],["94",de.VARIABLE_LENGTH,30],["95",de.VARIABLE_LENGTH,30],["96",de.VARIABLE_LENGTH,30],["97",de.VARIABLE_LENGTH,3],["98",de.VARIABLE_LENGTH,30],["99",de.VARIABLE_LENGTH,30]],de.THREE_DIGIT_DATA_LENGTH=[["240",de.VARIABLE_LENGTH,30],["241",de.VARIABLE_LENGTH,30],["242",de.VARIABLE_LENGTH,6],["250",de.VARIABLE_LENGTH,30],["251",de.VARIABLE_LENGTH,30],["253",de.VARIABLE_LENGTH,17],["254",de.VARIABLE_LENGTH,20],["400",de.VARIABLE_LENGTH,30],["401",de.VARIABLE_LENGTH,30],["402",17],["403",de.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",de.VARIABLE_LENGTH,20],["421",de.VARIABLE_LENGTH,15],["422",3],["423",de.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],de.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",de.VARIABLE_LENGTH,15],["391",de.VARIABLE_LENGTH,18],["392",de.VARIABLE_LENGTH,15],["393",de.VARIABLE_LENGTH,18],["703",de.VARIABLE_LENGTH,30]],de.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",de.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",de.VARIABLE_LENGTH,20],["8003",de.VARIABLE_LENGTH,30],["8004",de.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",de.VARIABLE_LENGTH,30],["8008",de.VARIABLE_LENGTH,12],["8018",18],["8020",de.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",de.VARIABLE_LENGTH,70],["8200",de.VARIABLE_LENGTH,70]];class Rr{constructor(e){this.buffer=new se,this.information=e}decodeAllCodes(e,n){let i=n,o=null;do{let a=this.decodeGeneralPurposeField(i,o),c=de.parseFieldsInGeneralPurpose(a.getNewString());if(c!=null&&e.append(c),a.isRemaining()?o=""+a.getRemainingValue():o=null,i===a.getNewPosition())break;i=a.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(e,4);return a===0?new en(this.information.getSize(),en.FNC1,en.FNC1):new en(this.information.getSize(),a-1,en.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new en(e+7,i,o)}extractNumericValueFromBitArray(e,n){return Rr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let o=0;for(let a=0;a<i;++a)e.get(n+a)&&(o|=1<<i-a-1);return o}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new ir(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new ir(this.current.getPosition(),this.buffer.toString()):n=new ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new rr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Ut(e+5,Ut.FNC1);if(n>=5&&n<15)return new Ut(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Ut(e+7,""+(i+1));if(i>=90&&i<116)return new Ut(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new W}return new Ut(e+8,a)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Ut(e+5,Ut.FNC1);if(n>=5&&n<15)return new Ut(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Ut(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new N("Decoding invalid alphanumeric value: "+i)}return new Ut(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class kl{constructor(e){this.information=e,this.generalDecoder=new Rr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ht extends kl{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100==0&&e.append("0"),a/10==0&&e.append("0"),e.append(a)}Ht.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let o=0;o<13;o++){let a=e.charAt(o+n).charCodeAt(0)-"0".charCodeAt(0);i+=(o&1)==0?3*a:a}i=10-i%10,i===10&&(i=0),e.append(i)}}Ht.GTIN_SIZE=40;class Nr extends Ht{constructor(e){super(e)}parseInformation(){let e=new se;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Nr.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Nr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Nr.HEADER_SIZE+44)}}Nr.HEADER_SIZE=1+1+2;class oo extends kl{constructor(e){super(e)}parseInformation(){let e=new se;return this.getGeneralDecoder().decodeAllCodes(e,oo.HEADER_SIZE)}}oo.HEADER_SIZE=2+1+2;class so extends Ht{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,o);let a=this.checkWeight(o),c=1e5;for(let f=0;f<5;++f)a/c==0&&e.append("0"),c/=10;e.append(a)}}class pn extends so{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=pn.HEADER_SIZE+so.GTIN_SIZE+pn.WEIGHT_SIZE)throw new V;let e=new se;return this.encodeCompressedGtin(e,pn.HEADER_SIZE),this.encodeCompressedWeight(e,pn.HEADER_SIZE+so.GTIN_SIZE,pn.WEIGHT_SIZE),e.toString()}}pn.HEADER_SIZE=4+1,pn.WEIGHT_SIZE=15;class Tu extends pn{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Su extends pn{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class wn extends Ht{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+Ht.GTIN_SIZE)throw new V;let e=new se;this.encodeCompressedGtin(e,wn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Ht.GTIN_SIZE,wn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+Ht.GTIN_SIZE+wn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}wn.HEADER_SIZE=5+1+2,wn.LAST_DIGIT_SIZE=2;class Ft extends Ht{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ft.HEADER_SIZE+Ht.GTIN_SIZE)throw new V;let e=new se;this.encodeCompressedGtin(e,Ft.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Ht.GTIN_SIZE,Ft.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Ht.GTIN_SIZE+Ft.LAST_DIGIT_SIZE,Ft.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Ft.HEADER_SIZE+Ht.GTIN_SIZE+Ft.LAST_DIGIT_SIZE+Ft.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}Ft.HEADER_SIZE=5+1+2,Ft.LAST_DIGIT_SIZE=2,Ft.FIRST_THREE_DIGITS_SIZE=10;class dt extends so{constructor(e,n,i){super(e);this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE+dt.DATE_SIZE)throw new V;let e=new se;return this.encodeCompressedGtin(e,dt.HEADER_SIZE),this.encodeCompressedWeight(e,dt.HEADER_SIZE+dt.GTIN_SIZE,dt.WEIGHT_SIZE),this.encodeCompressedDate(e,dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,dt.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let a=i%12+1;i/=12;let c=i;c/10==0&&e.append("0"),e.append(c),a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}dt.HEADER_SIZE=7+1,dt.WEIGHT_SIZE=20,dt.DATE_SIZE=16;function Ou(m){try{if(m.get(1))return new Nr(m);if(!m.get(2))return new oo(m);switch(Rr.extractNumericValueFromBitArray(m,1,4)){case 4:return new Tu(m);case 5:return new Su(m)}switch(Rr.extractNumericValueFromBitArray(m,1,5)){case 12:return new wn(m);case 13:return new Ft(m)}switch(Rr.extractNumericValueFromBitArray(m,1,7)){case 56:return new dt(m,"310","11");case 57:return new dt(m,"320","11");case 58:return new dt(m,"310","13");case 59:return new dt(m,"320","13");case 60:return new dt(m,"310","15");case 61:return new dt(m,"320","15");case 62:return new dt(m,"310","17");case 63:return new dt(m,"320","17")}}catch(e){throw console.log(e),new N("unknown decoder: "+m)}}class Bn{constructor(e,n,i,o){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof Bn?Bn.equalsOrNull(e.leftchar,n.leftchar)&&Bn.equalsOrNull(e.rightchar,n.rightchar)&&Bn.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:Bn.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class xs{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof xs?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((o,a)=>{n.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class Q extends Bt{constructor(e){super(...arguments);this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(e,n))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(a){if(a instanceof V){if(!this.pairs.length)throw new V;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new V}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let c of e)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(e);a.push(o);try{return this.checkRows(a,i+1)}catch(c){this.verbose&&console.log(c)}}throw new V}static isValidSequence(e){for(let n of Q.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=n[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,o=!1,a=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>e){a=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}a||o||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new xs(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let a of e)if(Bn.equals(o,a))break}}static isPartialRow(e,n){for(let i of n){let o=!0;for(let a of e){let c=!1;for(let f of i.getPairs())if(a.equals(f)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Iu.buildBitArray(e),o=Ou(n).parseInformation(),a=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),f=[a[0],a[1],c[0],c[1]];return new et(o,null,null,f,L.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),a=2;for(let f=1;f<this.pairs.size();++f){let d=this.pairs.get(f);o+=d.getLeftChar().getChecksumPortion(),a++;let g=d.getRightChar();g!=null&&(o+=g.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let o=n.length%2==0;this.startFromEven&&(o=!o);let a,c=!0,f=-1;do this.findNextPair(e,n,f),a=this.parseFoundFinderPattern(e,i,o),a==null?f=Q.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);let d=this.decodeDataCharacter(e,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new V;let g;try{g=this.decodeDataCharacter(e,a,o,!1)}catch(w){g=null,this.verbose&&console.log(w)}return new Bn(d,g,a,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=e.getSize(),c;i>=0?c=i:this.isEmptyPair(n)?c=0:c=n[n.length-1].getFinderPattern().getStartEnd()[1];let f=n.length%2!=0;this.startFromEven&&(f=!f);let d=!1;for(;c<a&&(d=!e.get(c),!!d);)c++;let g=0,w=c;for(let A=c;A<a;A++)if(e.get(A)!=d)o[g]++;else{if(g==3){if(f&&Q.reverseCounters(o),Q.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=A;return}f&&Q.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,d=!d}throw new V}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let o=e[i];e[i]=e[n-i-1],e[n-i-1]=o}}parseFoundFinderPattern(e,n,i){let o,a,c;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,o=this.startEnd[0]-g,a=g,c=this.startEnd[1]}else a=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let f=this.getDecodeFinderCounters();M.arraycopy(f,0,f,1,f.length-1),f[0]=o;let d;try{d=this.parseFinderValue(f,Q.FINDER_PATTERNS)}catch{return null}return new io(d,[a,c],a,c,n)}decodeDataCharacter(e,n,i,o){let a=this.getDataCharacterCounters();for(let it=0;it<a.length;it++)a[it]=0;if(o)Q.recordPatternInReverse(e,n.getStartEnd()[0],a);else{Q.recordPattern(e,n.getStartEnd()[1],a);for(let it=0,Rt=a.length-1;it<Rt;it++,Rt--){let Yt=a[it];a[it]=a[Rt],a[Rt]=Yt}}let c=17,f=$.sum(new Int32Array(a))/c,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-d)/d>.3)throw new V;let g=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let it=0;it<a.length;it++){let Rt=1*a[it]/f,Yt=Rt+.5;if(Yt<1){if(Rt<.3)throw new V;Yt=1}else if(Yt>8){if(Rt>8.7)throw new V;Yt=8}let Lr=it/2;(it&1)==0?(g[Lr]=Yt,A[Lr]=Rt-Yt):(w[Lr]=Yt,_[Lr]=Rt-Yt)}this.adjustOddEvenCounts(c);let I=4*n.getValue()+(i?0:2)+(o?0:1)-1,v=0,R=0;for(let it=g.length-1;it>=0;it--){if(Q.isNotA1left(n,i,o)){let Rt=Q.WEIGHTS[I][2*it];R+=g[it]*Rt}v+=g[it]}let D=0;for(let it=w.length-1;it>=0;it--)if(Q.isNotA1left(n,i,o)){let Rt=Q.WEIGHTS[I][2*it+1];D+=w[it]*Rt}let H=R+D;if((v&1)!=0||v>13||v<4)throw new V;let ie=(13-v)/2,oe=Q.SYMBOL_WIDEST[ie],ee=9-oe,He=xn.getRSSvalue(g,oe,!0),Me=xn.getRSSvalue(w,ee,!1),Gt=Q.EVEN_TOTAL_SUBSET[ie],dn=Q.GSUM[ie],Xt=He*Gt+Me+dn;return new vr(Xt,H)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=$.sum(new Int32Array(this.getOddCounts())),i=$.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);let c=!1,f=!1;i>13?f=!0:i<4&&(c=!0);let d=n+i-e,g=(n&1)==1,w=(i&1)==0;if(d==1)if(g){if(w)throw new V;a=!0}else{if(!w)throw new V;f=!0}else if(d==-1)if(g){if(w)throw new V;o=!0}else{if(!w)throw new V;c=!0}else if(d==0){if(g){if(!w)throw new V;n<i?(o=!0,f=!0):(a=!0,c=!0)}else if(w)throw new V}else throw new V;if(o){if(a)throw new V;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new V;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class vu extends vr{constructor(e,n,i){super(e,n);this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class xt extends Bt{constructor(){super(...arguments);this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const o=this.decodePair(n,!1,e,i);xt.addOrTally(this.possibleLeftPairs,o),n.reverse();let a=this.decodePair(n,!0,e,i);xt.addOrTally(this.possibleRightPairs,a),n.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&xt.checkChecksum(c,f))return xt.constructResult(c,f)}throw new V}static addOrTally(e,n){if(n==null)return;let i=!1;for(let o of e)if(o.getValue()===n.getValue()){o.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),o=new String(i).toString(),a=new se;for(let g=13-o.length;g>0;g--)a.append("0");a.append(o);let c=0;for(let g=0;g<13;g++){let w=a.charAt(g).charCodeAt(0)-"0".charCodeAt(0);c+=(g&1)==0?3*w:w}c=10-c%10,c===10&&(c=0),a.append(c.toString());let f=e.getFinderPattern().getResultPoints(),d=n.getFinderPattern().getResultPoints();return new et(a.toString(),null,0,[f[0],f[1],d[0],d[1]],L.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,n,i,o){try{let a=this.findFinderPattern(e,n),c=this.parseFoundFinderPattern(e,i,n,a),f=o==null?null:o.get(ae.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(a[0]+a[1])/2;n&&(w=e.getSize()-1-w),f.foundPossibleResultPoint(new k(w,i))}let d=this.decodeDataCharacter(e,c,!0),g=this.decodeDataCharacter(e,c,!1);return new vu(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(e,n,i){let o=this.getDataCharacterCounters();for(let D=0;D<o.length;D++)o[D]=0;if(i)nt.recordPatternInReverse(e,n.getStartEnd()[0],o);else{nt.recordPattern(e,n.getStartEnd()[1]+1,o);for(let D=0,H=o.length-1;D<H;D++,H--){let ie=o[D];o[D]=o[H],o[H]=ie}}let a=i?16:15,c=$.sum(new Int32Array(o))/a,f=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let D=0;D<o.length;D++){let H=o[D]/c,ie=Math.floor(H+.5);ie<1?ie=1:ie>8&&(ie=8);let oe=Math.floor(D/2);(D&1)==0?(f[oe]=ie,g[oe]=H-ie):(d[oe]=ie,w[oe]=H-ie)}this.adjustOddEvenCounts(i,a);let A=0,_=0;for(let D=f.length-1;D>=0;D--)_*=9,_+=f[D],A+=f[D];let I=0,v=0;for(let D=d.length-1;D>=0;D--)I*=9,I+=d[D],v+=d[D];let R=_+3*I;if(i){if((A&1)!=0||A>12||A<4)throw new V;let D=(12-A)/2,H=xt.OUTSIDE_ODD_WIDEST[D],ie=9-H,oe=xn.getRSSvalue(f,H,!1),ee=xn.getRSSvalue(d,ie,!0),He=xt.OUTSIDE_EVEN_TOTAL_SUBSET[D],Me=xt.OUTSIDE_GSUM[D];return new vr(oe*He+ee+Me,R)}else{if((v&1)!=0||v>10||v<4)throw new V;let D=(10-v)/2,H=xt.INSIDE_ODD_WIDEST[D],ie=9-H,oe=xn.getRSSvalue(f,H,!0),ee=xn.getRSSvalue(d,ie,!1),He=xt.INSIDE_ODD_TOTAL_SUBSET[D],Me=xt.INSIDE_GSUM[D];return new vr(ee*He+oe+Me,R)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a=!1,c=0;for(;c<o&&(a=!e.get(c),n!==a);)c++;let f=0,d=c;for(let g=c;g<o;g++)if(e.get(g)!==a)i[f]++;else{if(f===3){if(Bt.isFinderPattern(i))return[d,g];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,a=!a}throw new V}parseFoundFinderPattern(e,n,i,o){let a=e.get(o[0]),c=o[0]-1;for(;c>=0&&a!==e.get(c);)c--;c++;const f=o[0]-c,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);M.arraycopy(d,0,g,1,d.length-1),g[0]=f;const w=this.parseFinderValue(g,xt.FINDER_PATTERNS);let A=c,_=o[1];return i&&(A=e.getSize()-1-A,_=e.getSize()-1-_),new io(w,[c,o[1]],A,_,n)}adjustOddEvenCounts(e,n){let i=$.sum(new Int32Array(this.getOddCounts())),o=$.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1,f=!1,d=!1;e?(i>12?c=!0:i<4&&(a=!0),o>12?d=!0:o<4&&(f=!0)):(i>11?c=!0:i<5&&(a=!0),o>10?d=!0:o<4&&(f=!0));let g=i+o-n,w=(i&1)==(e?1:0),A=(o&1)==1;if(g===1)if(w){if(A)throw new V;c=!0}else{if(!A)throw new V;d=!0}else if(g===-1)if(w){if(A)throw new V;a=!0}else{if(!A)throw new V;f=!0}else if(g===0){if(w){if(!A)throw new V;i<o?(a=!0,d=!0):(c=!0,f=!0)}else if(A)throw new V}else throw new V;if(a){if(c)throw new V;Bt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Bt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new V;Bt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Bt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],xt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],xt.OUTSIDE_GSUM=[0,161,961,2015,2715],xt.INSIDE_GSUM=[0,336,1036,1516],xt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],xt.INSIDE_ODD_WIDEST=[2,4,6,8],xt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Mr extends nt{constructor(e,n){super();this.readers=[],this.verbose=n===!0;const i=e?e.get(ae.POSSIBLE_FORMATS):null,o=e&&e.get(ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i&&((i.includes(L.EAN_13)||i.includes(L.UPC_A)||i.includes(L.EAN_8)||i.includes(L.UPC_E))&&this.readers.push(new ds(e)),i.includes(L.CODE_39)&&this.readers.push(new ut(o)),i.includes(L.CODE_128)&&this.readers.push(new ce),i.includes(L.ITF)&&this.readers.push(new qe),i.includes(L.RSS_14)&&this.readers.push(new xt),i.includes(L.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))),this.readers.length===0&&(this.readers.push(new ds(e)),this.readers.push(new ut),this.readers.push(new ds(e)),this.readers.push(new ce),this.readers.push(new qe),this.readers.push(new xt),this.readers.push(new Q(this.verbose)))}decodeRow(e,n,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,n,i)}catch{}throw new V}reset(){this.readers.forEach(e=>e.reset())}}class Ru extends bt{constructor(e=500,n){super(new Mr(n),e,n)}}class Qe{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ye{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ve{constructor(e,n,i,o,a,c){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=c;let f=0;const d=c.getECCodewords(),g=c.getECBlocks();for(let w of g)f+=w.getCount()*(w.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!=0||(n&1)!=0)throw new W;for(let i of Ve.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new W}toString(){return""+this.versionNumber}static buildVersions(){return[new Ve(1,10,10,8,8,new Qe(5,new Ye(1,3))),new Ve(2,12,12,10,10,new Qe(7,new Ye(1,5))),new Ve(3,14,14,12,12,new Qe(10,new Ye(1,8))),new Ve(4,16,16,14,14,new Qe(12,new Ye(1,12))),new Ve(5,18,18,16,16,new Qe(14,new Ye(1,18))),new Ve(6,20,20,18,18,new Qe(18,new Ye(1,22))),new Ve(7,22,22,20,20,new Qe(20,new Ye(1,30))),new Ve(8,24,24,22,22,new Qe(24,new Ye(1,36))),new Ve(9,26,26,24,24,new Qe(28,new Ye(1,44))),new Ve(10,32,32,14,14,new Qe(36,new Ye(1,62))),new Ve(11,36,36,16,16,new Qe(42,new Ye(1,86))),new Ve(12,40,40,18,18,new Qe(48,new Ye(1,114))),new Ve(13,44,44,20,20,new Qe(56,new Ye(1,144))),new Ve(14,48,48,22,22,new Qe(68,new Ye(1,174))),new Ve(15,52,52,24,24,new Qe(42,new Ye(2,102))),new Ve(16,64,64,14,14,new Qe(56,new Ye(2,140))),new Ve(17,72,72,16,16,new Qe(36,new Ye(4,92))),new Ve(18,80,80,18,18,new Qe(48,new Ye(4,114))),new Ve(19,88,88,20,20,new Qe(56,new Ye(4,144))),new Ve(20,96,96,22,22,new Qe(68,new Ye(4,174))),new Ve(21,104,104,24,24,new Qe(56,new Ye(6,136))),new Ve(22,120,120,18,18,new Qe(68,new Ye(6,175))),new Ve(23,132,132,20,20,new Qe(62,new Ye(8,163))),new Ve(24,144,144,22,22,new Qe(62,new Ye(8,156),new Ye(2,155))),new Ve(25,8,18,6,16,new Qe(7,new Ye(1,5))),new Ve(26,8,32,6,14,new Qe(11,new Ye(1,10))),new Ve(27,12,26,10,24,new Qe(14,new Ye(1,16))),new Ve(28,12,36,10,16,new Qe(18,new Ye(1,22))),new Ve(29,16,36,14,16,new Qe(24,new Ye(1,32))),new Ve(30,16,48,14,22,new Qe(28,new Ye(1,49)))]}}Ve.VERSIONS=Ve.buildVersions();class ps{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!=0)throw new W;this.version=ps.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return Ve.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,o=0;const a=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,d=!1,g=!1,w=!1;do if(i===a&&o===0&&!f)e[n++]=this.readCorner1(a,c)&255,i-=2,o+=2,f=!0;else if(i===a-2&&o===0&&(c&3)!=0&&!d)e[n++]=this.readCorner2(a,c)&255,i-=2,o+=2,d=!0;else if(i===a+4&&o===2&&(c&7)==0&&!g)e[n++]=this.readCorner3(a,c)&255,i-=2,o+=2,g=!0;else if(i===a-2&&o===0&&(c&7)==4&&!w)e[n++]=this.readCorner4(a,c)&255,i-=2,o+=2,w=!0;else{do i<a&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[n++]=this.readUtah(i,o,a,c)&255),i-=2,o+=2;while(i>=0&&o<c);i+=1,o+=3;do i>=0&&o<c&&!this.readMappingMatrix.get(o,i)&&(e[n++]=this.readUtah(i,o,a,c)&255),i+=2,o-=2;while(i<a&&o>=0);i+=3,o+=1}while(i<a||o<c);if(n!==this.version.getTotalCodewords())throw new W;return e}readModule(e,n,i,o){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,o){let a=0;return this.readModule(e-2,n-2,i,o)&&(a|=1),a<<=1,this.readModule(e-2,n-1,i,o)&&(a|=1),a<<=1,this.readModule(e-1,n-2,i,o)&&(a|=1),a<<=1,this.readModule(e-1,n-1,i,o)&&(a|=1),a<<=1,this.readModule(e-1,n,i,o)&&(a|=1),a<<=1,this.readModule(e,n-2,i,o)&&(a|=1),a<<=1,this.readModule(e,n-1,i,o)&&(a|=1),a<<=1,this.readModule(e,n,i,o)&&(a|=1),a}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new y("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),c=n/o|0,f=i/a|0,d=c*o,g=f*a,w=new be(g,d);for(let A=0;A<c;++A){const _=A*o;for(let I=0;I<f;++I){const v=I*a;for(let R=0;R<o;++R){const D=A*(o+2)+1+R,H=_+R;for(let ie=0;ie<a;++ie){const oe=I*(a+2)+1+ie;if(e.get(oe,D)){const ee=v+ie;w.set(ee,H)}}}}}return w}}class ws{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let o=0;const a=i.getECBlocks();for(let R of a)o+=R.getCount();const c=new Array(o);let f=0;for(let R of a)for(let D=0;D<R.getCount();D++){const H=R.getDataCodewords(),ie=i.getECCodewords()+H;c[f++]=new ws(H,new Uint8Array(ie))}const g=c[0].codewords.length-i.getECCodewords(),w=g-1;let A=0;for(let R=0;R<w;R++)for(let D=0;D<f;D++)c[D].codewords[R]=e[A++];const _=n.getVersionNumber()===24,I=_?8:f;for(let R=0;R<I;R++)c[R].codewords[g-1]=e[A++];const v=c[0].codewords.length;for(let R=g;R<v;R++)for(let D=0;D<f;D++){const H=_?(D+8)%f:D,ie=_&&H>7?R-1:R;c[H].codewords[ie]=e[A++]}if(A!==e.length)throw new y;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Es{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new y(""+e);let n=0,i=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(i>0){const c=8-i,f=e<c?e:c,d=c-f,g=255>>8-f<<d;n=(a[o]&g)>>d,e-=f,i+=f,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)n=n<<8|a[o]&255,o++,e-=8;if(e>0){const c=8-e,f=255>>c<<c;n=n<<e|(a[o]&f)>>c,i+=e}}return this.bitOffset=i,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ct;(function(m){m[m.PAD_ENCODE=0]="PAD_ENCODE",m[m.ASCII_ENCODE=1]="ASCII_ENCODE",m[m.C40_ENCODE=2]="C40_ENCODE",m[m.TEXT_ENCODE=3]="TEXT_ENCODE",m[m.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",m[m.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",m[m.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ct||(Ct={}));class Pn{static decode(e){const n=new Es(e),i=new se,o=new se,a=new Array;let c=Ct.ASCII_ENCODE;do if(c===Ct.ASCII_ENCODE)c=this.decodeAsciiSegment(n,i,o);else{switch(c){case Ct.C40_ENCODE:this.decodeC40Segment(n,i);break;case Ct.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case Ct.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case Ct.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case Ct.BASE256_ENCODE:this.decodeBase256Segment(n,i,a);break;default:throw new W}c=Ct.ASCII_ENCODE}while(c!==Ct.PAD_ENCODE&&n.available()>0);return o.length()>0&&i.append(o.toString()),new Ae(e,i.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(e,n,i){let o=!1;do{let a=e.readBits(8);if(a===0)throw new W;if(a<=128)return o&&(a+=128),n.append(String.fromCharCode(a-1)),Ct.ASCII_ENCODE;if(a===129)return Ct.PAD_ENCODE;if(a<=229){const c=a-130;c<10&&n.append("0"),n.append(""+c)}else switch(a){case 230:return Ct.C40_ENCODE;case 231:return Ct.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return Ct.ANSIX12_ENCODE;case 239:return Ct.TEXT_ENCODE;case 240:return Ct.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new W;break}}while(e.available()>0);return Ct.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const o=[];let a=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(a){case 0:if(d<3)a=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else throw new W;break;case 1:i?(n.append(String.fromCharCode(d+128)),i=!1):n.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else switch(d){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new W}a=0;break;case 3:i?(n.append(String.fromCharCode(d+224)),i=!1):n.append(String.fromCharCode(d+96)),a=0;break;default:throw new W}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,o=[],a=0;do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(a){case 0:if(d<3)a=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else throw new W;break;case 1:i?(n.append(String.fromCharCode(d+128)),i=!1):n.append(String.fromCharCode(d)),a=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else switch(d){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new W}a=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g),a=0}else throw new W;break;default:throw new W}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let a=0;a<3;a++){const c=i[a];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new W;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let o=(e<<8)+n-1,a=Math.floor(o/1600);i[0]=a,o-=a*1600,a=Math.floor(o/40),i[1]=a,i[2]=o-a*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(o&32)==0&&(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let o=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),o++);let c;if(a===0?c=e.available()/8|0:a<250?c=a:c=250*(a-249)+this.unrandomize255State(e.readBits(8),o++),c<0)throw new W;const f=new Uint8Array(c);for(let d=0;d<c;d++){if(e.available()<8)throw new W;f[d]=this.unrandomize255State(e.readBits(8),o++)}i.push(f);try{n.append(Te.decode(f,ue.ISO88591))}catch(d){throw new N("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,n){const i=149*n%255+1,o=e-i;return o>=0?o:o+256}}Pn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pn.TEXT_SHIFT2_SET_CHARS=Pn.C40_SHIFT2_SET_CHARS,Pn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Nu{constructor(){this.rsDecoder=new G(he.DATA_MATRIX_FIELD_256)}decode(e){const n=new ps(e),i=n.getVersion(),o=n.readCodewords(),a=ws.getDataBlocks(o,i);let c=0;for(let g of a)c+=g.getNumDataCodewords();const f=new Uint8Array(c),d=a.length;for(let g=0;g<d;g++){const w=a[g],A=w.getCodewords(),_=w.getNumDataCodewords();this.correctErrors(A,_);for(let I=0;I<_;I++)f[I*d+g]=A[I]}return Pn.decode(f)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new T}for(let o=0;o<n;o++)e[o]=i[o]}}class At{constructor(e){this.image=e,this.rectangleDetector=new me(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new V;n=this.shiftToModuleCenter(n);const i=n[0],o=n[1],a=n[2],c=n[3];let f=this.transitionsBetween(i,c)+1,d=this.transitionsBetween(a,c)+1;(f&1)==1&&(f+=1),(d&1)==1&&(d+=1),4*f<7*d&&4*d<7*f&&(f=d=Math.max(f,d));let g=At.sampleGrid(this.image,i,o,a,c,f,d);return new le(g,[i,o,a,c])}static shiftPoint(e,n,i){let o=(n.getX()-e.getX())/(i+1),a=(n.getY()-e.getY())/(i+1);return new k(e.getX()+o,e.getY()+a)}static moveAway(e,n,i){let o=e.getX(),a=e.getY();return o<n?o-=1:o+=1,a<i?a-=1:a+=1,new k(o,a)}detectSolid1(e){let n=e[0],i=e[1],o=e[3],a=e[2],c=this.transitionsBetween(n,i),f=this.transitionsBetween(i,o),d=this.transitionsBetween(o,a),g=this.transitionsBetween(a,n),w=c,A=[a,n,i,o];return w>f&&(w=f,A[0]=n,A[1]=i,A[2]=o,A[3]=a),w>d&&(w=d,A[0]=i,A[1]=o,A[2]=a,A[3]=n),w>g&&(A[0]=o,A[1]=a,A[2]=n,A[3]=i),A}detectSolid2(e){let n=e[0],i=e[1],o=e[2],a=e[3],c=this.transitionsBetween(n,a),f=At.shiftPoint(i,o,(c+1)*4),d=At.shiftPoint(o,i,(c+1)*4),g=this.transitionsBetween(f,n),w=this.transitionsBetween(d,a);return g<w?(e[0]=n,e[1]=i,e[2]=o,e[3]=a):(e[0]=i,e[1]=o,e[2]=a,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],o=e[2],a=e[3],c=this.transitionsBetween(n,a),f=this.transitionsBetween(i,a),d=At.shiftPoint(n,i,(f+1)*4),g=At.shiftPoint(o,i,(c+1)*4);c=this.transitionsBetween(d,a),f=this.transitionsBetween(g,a);let w=new k(a.getX()+(o.getX()-i.getX())/(c+1),a.getY()+(o.getY()-i.getY())/(c+1)),A=new k(a.getX()+(n.getX()-i.getX())/(f+1),a.getY()+(n.getY()-i.getY())/(f+1));if(!this.isValid(w))return this.isValid(A)?A:null;if(!this.isValid(A))return w;let _=this.transitionsBetween(d,w)+this.transitionsBetween(g,w),I=this.transitionsBetween(d,A)+this.transitionsBetween(g,A);return _>I?w:A}shiftToModuleCenter(e){let n=e[0],i=e[1],o=e[2],a=e[3],c=this.transitionsBetween(n,a)+1,f=this.transitionsBetween(o,a)+1,d=At.shiftPoint(n,i,f*4),g=At.shiftPoint(o,i,c*4);c=this.transitionsBetween(d,a)+1,f=this.transitionsBetween(g,a)+1,(c&1)==1&&(c+=1),(f&1)==1&&(f+=1);let w=(n.getX()+i.getX()+o.getX()+a.getX())/4,A=(n.getY()+i.getY()+o.getY()+a.getY())/4;n=At.moveAway(n,w,A),i=At.moveAway(i,w,A),o=At.moveAway(o,w,A),a=At.moveAway(a,w,A);let _,I;return d=At.shiftPoint(n,i,f*4),d=At.shiftPoint(d,a,c*4),_=At.shiftPoint(i,n,f*4),_=At.shiftPoint(_,o,c*4),g=At.shiftPoint(o,a,f*4),g=At.shiftPoint(g,i,c*4),I=At.shiftPoint(a,o,f*4),I=At.shiftPoint(I,n,c*4),[d,_,g,I]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,o,a,c,f){return Ne.getInstance().sampleGrid(e,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.trunc(n.getX()),c=Math.trunc(n.getY()),f=Math.abs(c-o)>Math.abs(a-i);if(f){let R=i;i=o,o=R,R=a,a=c,c=R}let d=Math.abs(a-i),g=Math.abs(c-o),w=-d/2,A=o<c?1:-1,_=i<a?1:-1,I=0,v=this.image.get(f?o:i,f?i:o);for(let R=i,D=o;R!==a;R+=_){let H=this.image.get(f?D:R,f?R:D);if(H!==v&&(I++,v=H),w+=g,w>0){if(D===c)break;D+=A,w-=d}}return I}}class Ln{constructor(){this.decoder=new Nu}decode(e,n=null){let i,o;if(n!=null&&n.has(ae.PURE_BARCODE)){const g=Ln.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(g),o=Ln.NO_POINTS}else{const g=new At(e.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),o=g.getPoints()}const a=i.getRawBytes(),c=new et(i.getText(),a,8*a.length,o,L.DATA_MATRIX,M.currentTimeMillis()),f=i.getByteSegments();f!=null&&c.putMetadata(te.BYTE_SEGMENTS,f);const d=i.getECLevel();return d!=null&&c.putMetadata(te.ERROR_CORRECTION_LEVEL,d),c}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new V;const o=this.moduleSize(n,e);let a=n[1];const c=i[1];let f=n[0];const g=(i[0]-f+1)/o,w=(c-a+1)/o;if(g<=0||w<=0)throw new V;const A=o/2;a+=A,f+=A;const _=new be(g,w);for(let I=0;I<w;I++){const v=a+I*o;for(let R=0;R<g;R++)e.get(f+R*o,v)&&_.set(R,I)}return _}static moduleSize(e,n){const i=n.getWidth();let o=e[0];const a=e[1];for(;o<i&&n.get(o,a);)o++;if(o===i)throw new V;const c=o-e[0];if(c===0)throw new V;return c}}Ln.NO_POINTS=[];class Mu extends bt{constructor(e=500){super(new Ln,e)}}var Dr;(function(m){m[m.L=0]="L",m[m.M=1]="M",m[m.Q=2]="Q",m[m.H=3]="H"})(Dr||(Dr={}));class at{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,at.FOR_BITS.set(i,this),at.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return at.L;case"M":return at.M;case"Q":return at.Q;case"H":return at.H;default:throw new C(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof at))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=at.FOR_BITS.size)throw new y;return at.FOR_BITS.get(e)}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.L=new at(Dr.L,"L",1),at.M=new at(Dr.M,"M",0),at.Q=new at(Dr.Q,"Q",3),at.H=new at(Dr.H,"H",2);class Pt{constructor(e){this.errorCorrectionLevel=at.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return F.bitCount(e^n)}static decodeFormatInformation(e,n){const i=Pt.doDecodeFormatInformation(e,n);return i!==null?i:Pt.doDecodeFormatInformation(e^Pt.FORMAT_INFO_MASK_QR,n^Pt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,o=0;for(const a of Pt.FORMAT_INFO_DECODE_LOOKUP){const c=a[0];if(c===e||c===n)return new Pt(a[1]);let f=Pt.numBitsDiffering(e,c);f<i&&(o=a[1],i=f),e!==n&&(f=Pt.numBitsDiffering(n,c),f<i&&(o=a[1],i=f))}return i<=3?new Pt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Pt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Pt.FORMAT_INFO_MASK_QR=21522,Pt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class P{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class b{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let o=0;const a=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const f of c)o+=f.getCount()*(f.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new W;try{return this.getVersionForNumber((e-17)/4)}catch{throw new W}}static getVersionForNumber(e){if(e<1||e>40)throw new y;return Ce.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<Ce.VERSION_DECODE_INFO.length;o++){const a=Ce.VERSION_DECODE_INFO[o];if(a===e)return Ce.getVersionForNumber(o+7);const c=Pt.numBitsDiffering(e,a);c<n&&(i=o+7,n=c)}return n<=3?Ce.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new be(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const a=this.alignmentPatternCenters[o]-2;for(let c=0;c<i;c++)o===0&&(c===0||c===i-1)||o===i-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,a,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ce.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ce.VERSIONS=[new Ce(1,new Int32Array(0),new P(7,new b(1,19)),new P(10,new b(1,16)),new P(13,new b(1,13)),new P(17,new b(1,9))),new Ce(2,Int32Array.from([6,18]),new P(10,new b(1,34)),new P(16,new b(1,28)),new P(22,new b(1,22)),new P(28,new b(1,16))),new Ce(3,Int32Array.from([6,22]),new P(15,new b(1,55)),new P(26,new b(1,44)),new P(18,new b(2,17)),new P(22,new b(2,13))),new Ce(4,Int32Array.from([6,26]),new P(20,new b(1,80)),new P(18,new b(2,32)),new P(26,new b(2,24)),new P(16,new b(4,9))),new Ce(5,Int32Array.from([6,30]),new P(26,new b(1,108)),new P(24,new b(2,43)),new P(18,new b(2,15),new b(2,16)),new P(22,new b(2,11),new b(2,12))),new Ce(6,Int32Array.from([6,34]),new P(18,new b(2,68)),new P(16,new b(4,27)),new P(24,new b(4,19)),new P(28,new b(4,15))),new Ce(7,Int32Array.from([6,22,38]),new P(20,new b(2,78)),new P(18,new b(4,31)),new P(18,new b(2,14),new b(4,15)),new P(26,new b(4,13),new b(1,14))),new Ce(8,Int32Array.from([6,24,42]),new P(24,new b(2,97)),new P(22,new b(2,38),new b(2,39)),new P(22,new b(4,18),new b(2,19)),new P(26,new b(4,14),new b(2,15))),new Ce(9,Int32Array.from([6,26,46]),new P(30,new b(2,116)),new P(22,new b(3,36),new b(2,37)),new P(20,new b(4,16),new b(4,17)),new P(24,new b(4,12),new b(4,13))),new Ce(10,Int32Array.from([6,28,50]),new P(18,new b(2,68),new b(2,69)),new P(26,new b(4,43),new b(1,44)),new P(24,new b(6,19),new b(2,20)),new P(28,new b(6,15),new b(2,16))),new Ce(11,Int32Array.from([6,30,54]),new P(20,new b(4,81)),new P(30,new b(1,50),new b(4,51)),new P(28,new b(4,22),new b(4,23)),new P(24,new b(3,12),new b(8,13))),new Ce(12,Int32Array.from([6,32,58]),new P(24,new b(2,92),new b(2,93)),new P(22,new b(6,36),new b(2,37)),new P(26,new b(4,20),new b(6,21)),new P(28,new b(7,14),new b(4,15))),new Ce(13,Int32Array.from([6,34,62]),new P(26,new b(4,107)),new P(22,new b(8,37),new b(1,38)),new P(24,new b(8,20),new b(4,21)),new P(22,new b(12,11),new b(4,12))),new Ce(14,Int32Array.from([6,26,46,66]),new P(30,new b(3,115),new b(1,116)),new P(24,new b(4,40),new b(5,41)),new P(20,new b(11,16),new b(5,17)),new P(24,new b(11,12),new b(5,13))),new Ce(15,Int32Array.from([6,26,48,70]),new P(22,new b(5,87),new b(1,88)),new P(24,new b(5,41),new b(5,42)),new P(30,new b(5,24),new b(7,25)),new P(24,new b(11,12),new b(7,13))),new Ce(16,Int32Array.from([6,26,50,74]),new P(24,new b(5,98),new b(1,99)),new P(28,new b(7,45),new b(3,46)),new P(24,new b(15,19),new b(2,20)),new P(30,new b(3,15),new b(13,16))),new Ce(17,Int32Array.from([6,30,54,78]),new P(28,new b(1,107),new b(5,108)),new P(28,new b(10,46),new b(1,47)),new P(28,new b(1,22),new b(15,23)),new P(28,new b(2,14),new b(17,15))),new Ce(18,Int32Array.from([6,30,56,82]),new P(30,new b(5,120),new b(1,121)),new P(26,new b(9,43),new b(4,44)),new P(28,new b(17,22),new b(1,23)),new P(28,new b(2,14),new b(19,15))),new Ce(19,Int32Array.from([6,30,58,86]),new P(28,new b(3,113),new b(4,114)),new P(26,new b(3,44),new b(11,45)),new P(26,new b(17,21),new b(4,22)),new P(26,new b(9,13),new b(16,14))),new Ce(20,Int32Array.from([6,34,62,90]),new P(28,new b(3,107),new b(5,108)),new P(26,new b(3,41),new b(13,42)),new P(30,new b(15,24),new b(5,25)),new P(28,new b(15,15),new b(10,16))),new Ce(21,Int32Array.from([6,28,50,72,94]),new P(28,new b(4,116),new b(4,117)),new P(26,new b(17,42)),new P(28,new b(17,22),new b(6,23)),new P(30,new b(19,16),new b(6,17))),new Ce(22,Int32Array.from([6,26,50,74,98]),new P(28,new b(2,111),new b(7,112)),new P(28,new b(17,46)),new P(30,new b(7,24),new b(16,25)),new P(24,new b(34,13))),new Ce(23,Int32Array.from([6,30,54,78,102]),new P(30,new b(4,121),new b(5,122)),new P(28,new b(4,47),new b(14,48)),new P(30,new b(11,24),new b(14,25)),new P(30,new b(16,15),new b(14,16))),new Ce(24,Int32Array.from([6,28,54,80,106]),new P(30,new b(6,117),new b(4,118)),new P(28,new b(6,45),new b(14,46)),new P(30,new b(11,24),new b(16,25)),new P(30,new b(30,16),new b(2,17))),new Ce(25,Int32Array.from([6,32,58,84,110]),new P(26,new b(8,106),new b(4,107)),new P(28,new b(8,47),new b(13,48)),new P(30,new b(7,24),new b(22,25)),new P(30,new b(22,15),new b(13,16))),new Ce(26,Int32Array.from([6,30,58,86,114]),new P(28,new b(10,114),new b(2,115)),new P(28,new b(19,46),new b(4,47)),new P(28,new b(28,22),new b(6,23)),new P(30,new b(33,16),new b(4,17))),new Ce(27,Int32Array.from([6,34,62,90,118]),new P(30,new b(8,122),new b(4,123)),new P(28,new b(22,45),new b(3,46)),new P(30,new b(8,23),new b(26,24)),new P(30,new b(12,15),new b(28,16))),new Ce(28,Int32Array.from([6,26,50,74,98,122]),new P(30,new b(3,117),new b(10,118)),new P(28,new b(3,45),new b(23,46)),new P(30,new b(4,24),new b(31,25)),new P(30,new b(11,15),new b(31,16))),new Ce(29,Int32Array.from([6,30,54,78,102,126]),new P(30,new b(7,116),new b(7,117)),new P(28,new b(21,45),new b(7,46)),new P(30,new b(1,23),new b(37,24)),new P(30,new b(19,15),new b(26,16))),new Ce(30,Int32Array.from([6,26,52,78,104,130]),new P(30,new b(5,115),new b(10,116)),new P(28,new b(19,47),new b(10,48)),new P(30,new b(15,24),new b(25,25)),new P(30,new b(23,15),new b(25,16))),new Ce(31,Int32Array.from([6,30,56,82,108,134]),new P(30,new b(13,115),new b(3,116)),new P(28,new b(2,46),new b(29,47)),new P(30,new b(42,24),new b(1,25)),new P(30,new b(23,15),new b(28,16))),new Ce(32,Int32Array.from([6,34,60,86,112,138]),new P(30,new b(17,115)),new P(28,new b(10,46),new b(23,47)),new P(30,new b(10,24),new b(35,25)),new P(30,new b(19,15),new b(35,16))),new Ce(33,Int32Array.from([6,30,58,86,114,142]),new P(30,new b(17,115),new b(1,116)),new P(28,new b(14,46),new b(21,47)),new P(30,new b(29,24),new b(19,25)),new P(30,new b(11,15),new b(46,16))),new Ce(34,Int32Array.from([6,34,62,90,118,146]),new P(30,new b(13,115),new b(6,116)),new P(28,new b(14,46),new b(23,47)),new P(30,new b(44,24),new b(7,25)),new P(30,new b(59,16),new b(1,17))),new Ce(35,Int32Array.from([6,30,54,78,102,126,150]),new P(30,new b(12,121),new b(7,122)),new P(28,new b(12,47),new b(26,48)),new P(30,new b(39,24),new b(14,25)),new P(30,new b(22,15),new b(41,16))),new Ce(36,Int32Array.from([6,24,50,76,102,128,154]),new P(30,new b(6,121),new b(14,122)),new P(28,new b(6,47),new b(34,48)),new P(30,new b(46,24),new b(10,25)),new P(30,new b(2,15),new b(64,16))),new Ce(37,Int32Array.from([6,28,54,80,106,132,158]),new P(30,new b(17,122),new b(4,123)),new P(28,new b(29,46),new b(14,47)),new P(30,new b(49,24),new b(10,25)),new P(30,new b(24,15),new b(46,16))),new Ce(38,Int32Array.from([6,32,58,84,110,136,162]),new P(30,new b(4,122),new b(18,123)),new P(28,new b(13,46),new b(32,47)),new P(30,new b(48,24),new b(14,25)),new P(30,new b(42,15),new b(32,16))),new Ce(39,Int32Array.from([6,26,54,82,110,138,166]),new P(30,new b(20,117),new b(4,118)),new P(28,new b(40,47),new b(7,48)),new P(30,new b(43,24),new b(22,25)),new P(30,new b(10,15),new b(67,16))),new Ce(40,Int32Array.from([6,30,58,86,114,142,170]),new P(30,new b(19,118),new b(6,119)),new P(28,new b(18,47),new b(31,48)),new P(30,new b(34,24),new b(34,25)),new P(30,new b(20,15),new b(61,16)))];var It;(function(m){m[m.DATA_MASK_000=0]="DATA_MASK_000",m[m.DATA_MASK_001=1]="DATA_MASK_001",m[m.DATA_MASK_010=2]="DATA_MASK_010",m[m.DATA_MASK_011=3]="DATA_MASK_011",m[m.DATA_MASK_100=4]="DATA_MASK_100",m[m.DATA_MASK_101=5]="DATA_MASK_101",m[m.DATA_MASK_110=6]="DATA_MASK_110",m[m.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class tn{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let o=0;o<n;o++)this.isMasked(i,o)&&e.flip(o,i)}}tn.values=new Map([[It.DATA_MASK_000,new tn(It.DATA_MASK_000,(m,e)=>(m+e&1)==0)],[It.DATA_MASK_001,new tn(It.DATA_MASK_001,(m,e)=>(m&1)==0)],[It.DATA_MASK_010,new tn(It.DATA_MASK_010,(m,e)=>e%3==0)],[It.DATA_MASK_011,new tn(It.DATA_MASK_011,(m,e)=>(m+e)%3==0)],[It.DATA_MASK_100,new tn(It.DATA_MASK_100,(m,e)=>(Math.floor(m/2)+Math.floor(e/3)&1)==0)],[It.DATA_MASK_101,new tn(It.DATA_MASK_101,(m,e)=>m*e%6==0)],[It.DATA_MASK_110,new tn(It.DATA_MASK_110,(m,e)=>m*e%6<3)],[It.DATA_MASK_111,new tn(It.DATA_MASK_111,(m,e)=>(m+e+m*e%3&1)==0)]]);class Du{constructor(e){const n=e.getHeight();if(n<21||(n&3)!=1)throw new W;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let a=0;a<6;a++)e=this.copyBit(a,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let a=5;a>=0;a--)e=this.copyBit(8,a,e);const n=this.bitMatrix.getHeight();let i=0;const o=n-7;for(let a=n-1;a>=o;a--)i=this.copyBit(8,a,i);for(let a=n-8;a<n;a++)i=this.copyBit(a,8,i);if(this.parsedFormatInfo=Pt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new W}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ce.getVersionForNumber(n);let i=0;const o=e-11;for(let c=5;c>=0;c--)for(let f=e-9;f>=o;f--)i=this.copyBit(f,c,i);let a=Ce.decodeVersionInformation(i);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;i=0;for(let c=5;c>=0;c--)for(let f=e-9;f>=o;f--)i=this.copyBit(c,f,i);if(a=Ce.decodeVersionInformation(i),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new W}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=tn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const a=n.buildFunctionPattern();let c=!0;const f=new Uint8Array(n.getTotalCodewords());let d=0,g=0,w=0;for(let A=o-1;A>0;A-=2){A===6&&A--;for(let _=0;_<o;_++){const I=c?o-1-_:_;for(let v=0;v<2;v++)a.get(A-v,I)||(w++,g<<=1,this.bitMatrix.get(A-v,I)&&(g|=1),w===8&&(f[d++]=g,w=0,g=0))}c=!c}if(d!==n.getTotalCodewords())throw new W;return f}remask(){if(this.parsedFormatInfo===null)return;const e=tn.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let o=n+1,a=e.getHeight();o<a;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))}}class ms{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new y;const o=n.getECBlocksForLevel(i);let a=0;const c=o.getECBlocks();for(const v of c)a+=v.getCount();const f=new Array(a);let d=0;for(const v of c)for(let R=0;R<v.getCount();R++){const D=v.getDataCodewords(),H=o.getECCodewordsPerBlock()+D;f[d++]=new ms(D,new Uint8Array(H))}const g=f[0].codewords.length;let w=f.length-1;for(;w>=0&&f[w].codewords.length!==g;)w--;w++;const A=g-o.getECCodewordsPerBlock();let _=0;for(let v=0;v<A;v++)for(let R=0;R<d;R++)f[R].codewords[v]=e[_++];for(let v=w;v<d;v++)f[v].codewords[A]=e[_++];const I=f[0].codewords.length;for(let v=A;v<I;v++)for(let R=0;R<d;R++){const D=R<w?v:v+1;f[R].codewords[D]=e[_++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var nn;(function(m){m[m.TERMINATOR=0]="TERMINATOR",m[m.NUMERIC=1]="NUMERIC",m[m.ALPHANUMERIC=2]="ALPHANUMERIC",m[m.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",m[m.BYTE=4]="BYTE",m[m.ECI=5]="ECI",m[m.KANJI=6]="KANJI",m[m.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",m[m.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",m[m.HANZI=9]="HANZI"})(nn||(nn={}));class _e{constructor(e,n,i,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=o,_e.FOR_BITS.set(o,this),_e.FOR_VALUE.set(e,this)}static forBits(e){const n=_e.FOR_BITS.get(e);if(n===void 0)throw new y;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof _e))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}_e.FOR_BITS=new Map,_e.FOR_VALUE=new Map,_e.TERMINATOR=new _e(nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_e.NUMERIC=new _e(nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_e.ALPHANUMERIC=new _e(nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_e.STRUCTURED_APPEND=new _e(nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_e.BYTE=new _e(nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_e.ECI=new _e(nn.ECI,"ECI",Int32Array.from([0,0,0]),7),_e.KANJI=new _e(nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_e.FNC1_FIRST_POSITION=new _e(nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_e.FNC1_SECOND_POSITION=new _e(nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_e.HANZI=new _e(nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gt{static decode(e,n,i,o){const a=new Es(e);let c=new se;const f=new Array;let d=-1,g=-1;try{let w=null,A=!1,_;do{if(a.available()<4)_=_e.TERMINATOR;else{const I=a.readBits(4);_=_e.forBits(I)}switch(_){case _e.TERMINATOR:break;case _e.FNC1_FIRST_POSITION:case _e.FNC1_SECOND_POSITION:A=!0;break;case _e.STRUCTURED_APPEND:if(a.available()<16)throw new W;d=a.readBits(8),g=a.readBits(8);break;case _e.ECI:const I=gt.parseECIValue(a);if(w=Y.getCharacterSetECIByValue(I),w===null)throw new W;break;case _e.HANZI:const v=a.readBits(4),R=a.readBits(_.getCharacterCountBits(n));v===gt.GB2312_SUBSET&&gt.decodeHanziSegment(a,c,R);break;default:const D=a.readBits(_.getCharacterCountBits(n));switch(_){case _e.NUMERIC:gt.decodeNumericSegment(a,c,D);break;case _e.ALPHANUMERIC:gt.decodeAlphanumericSegment(a,c,D,A);break;case _e.BYTE:gt.decodeByteSegment(a,c,D,w,f,o);break;case _e.KANJI:gt.decodeKanjiSegment(a,c,D);break;default:throw new W}break}}while(_!==_e.TERMINATOR)}catch{throw new W}return new Ae(e,c.toString(),f.length===0?null:f,i===null?null:i.toString(),d,g)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new W;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const c=e.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,o[a]=f>>8&255,o[a+1]=f&255,a+=2,i--}try{n.append(Te.decode(o,ue.GB2312))}catch(c){throw new W(c)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new W;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const c=e.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,o[a]=f>>8,o[a+1]=f,a+=2,i--}try{n.append(Te.decode(o,ue.SHIFT_JIS))}catch(c){throw new W(c)}}static decodeByteSegment(e,n,i,o,a,c){if(8*i>e.available())throw new W;const f=new Uint8Array(i);for(let g=0;g<i;g++)f[g]=e.readBits(8);let d;o===null?d=ue.guessEncoding(f,c):d=o.getName();try{n.append(Te.decode(f,d))}catch(g){throw new W(g)}a.push(f)}static toAlphaNumericChar(e){if(e>=gt.ALPHANUMERIC_CHARS.length)throw new W;return gt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,o){const a=n.length();for(;i>1;){if(e.available()<11)throw new W;const c=e.readBits(11);n.append(gt.toAlphaNumericChar(Math.floor(c/45))),n.append(gt.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(e.available()<6)throw new W;n.append(gt.toAlphaNumericChar(e.readBits(6)))}if(o)for(let c=a;c<n.length();c++)n.charAt(c)==="%"&&(c<n.length()-1&&n.charAt(c+1)==="%"?n.deleteCharAt(c+1):n.setCharAt(c,String.fromCharCode(29)))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new W;const o=e.readBits(10);if(o>=1e3)throw new W;n.append(gt.toAlphaNumericChar(Math.floor(o/100))),n.append(gt.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(gt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new W;const o=e.readBits(7);if(o>=100)throw new W;n.append(gt.toAlphaNumericChar(Math.floor(o/10))),n.append(gt.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new W;const o=e.readBits(4);if(o>=10)throw new W;n.append(gt.toAlphaNumericChar(o))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)==0)return n&127;if((n&192)==128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)==192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new W}}gt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gt.GB2312_SUBSET=1;class Ul{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Bu{constructor(){this.rsDecoder=new G(he.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(be.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new Du(e);let o=null;try{return this.decodeBitMatrixParser(i,n)}catch(a){o=a}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const a=this.decodeBitMatrixParser(i,n);return a.setOther(new Ul(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(e,n){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),c=ms.getDataBlocks(a,i,o);let f=0;for(const w of c)f+=w.getNumDataCodewords();const d=new Uint8Array(f);let g=0;for(const w of c){const A=w.getCodewords(),_=w.getNumDataCodewords();this.correctErrors(A,_);for(let I=0;I<_;I++)d[g++]=A[I]}return gt.decode(d,i,o,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new T}for(let o=0;o<n;o++)e[o]=i[o]}}class As extends k{constructor(e,n,i){super(e,n);this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const o=(this.getX()+n)/2,a=(this.getY()+e)/2,c=(this.estimatedModuleSize+i)/2;return new As(o,a,c)}}class ao{constructor(e,n,i,o,a,c,f){this.image=e,this.startX=n,this.startY=i,this.width=o,this.height=a,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,o=e+i,a=this.startY+n/2,c=new Int32Array(3),f=this.image;for(let d=0;d<n;d++){const g=a+((d&1)==0?Math.floor((d+1)/2):-Math.floor((d+1)/2));c[0]=0,c[1]=0,c[2]=0;let w=e;for(;w<o&&!f.get(w,g);)w++;let A=0;for(;w<o;){if(f.get(w,g))if(A===1)c[1]++;else if(A===2){if(this.foundPatternCross(c)){const _=this.handlePossibleCenter(c,g,w);if(_!==null)return _}c[0]=c[2],c[1]=1,c[2]=0,A=1}else c[++A]++;else A===1&&A++,c[A]++;w++}if(this.foundPatternCross(c)){const _=this.handlePossibleCenter(c,g,o);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let o=0;o<3;o++)if(Math.abs(n-e[o])>=i)return!1;return!0}crossCheckVertical(e,n,i,o){const a=this.image,c=a.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let d=e;for(;d>=0&&a.get(n,d)&&f[1]<=i;)f[1]++,d--;if(d<0||f[1]>i)return NaN;for(;d>=0&&!a.get(n,d)&&f[0]<=i;)f[0]++,d--;if(f[0]>i)return NaN;for(d=e+1;d<c&&a.get(n,d)&&f[1]<=i;)f[1]++,d++;if(d===c||f[1]>i)return NaN;for(;d<c&&!a.get(n,d)&&f[2]<=i;)f[2]++,d++;if(f[2]>i)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(f)?ao.centerFromEnd(f,d):NaN}handlePossibleCenter(e,n,i){const o=e[0]+e[1]+e[2],a=ao.centerFromEnd(e,i),c=this.crossCheckVertical(n,a,2*e[1],o);if(!isNaN(c)){const f=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,c,a))return g.combineEstimate(c,a,f);const d=new As(a,c,f);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Cs extends k{constructor(e,n,i,o){super(e,n);this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const o=this.count+1,a=(this.count*this.getX()+n)/o,c=(this.count*this.getY()+e)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new Cs(a,c,f,o)}}class Pu{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Tt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(ae.TRY_HARDER)!==void 0,i=e!=null&&e.get(ae.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),c=o.getWidth();let f=Math.floor(3*a/(4*Tt.MAX_MODULES));(f<Tt.MIN_SKIP||n)&&(f=Tt.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let A=f-1;A<a&&!d;A+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let _=0;for(let I=0;I<c;I++)if(o.get(I,A))(_&1)==1&&_++,g[_]++;else if((_&1)==0)if(_===4)if(Tt.foundPatternCross(g)){if(this.handlePossibleCenter(g,A,I,i)===!0)if(f=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const R=this.findRowSkip();R>g[2]&&(A+=R-g[2]-f,I=c-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,_=3;continue}_=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,_=3;else g[++_]++;else g[_]++;Tt.foundPatternCross(g)&&this.handlePossibleCenter(g,A,c,i)===!0&&(f=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return k.orderBestPatterns(w),new Pu(w)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let a=0;a<5;a++){const c=e[a];if(c===0)return!1;n+=c}if(n<7)return!1;const i=n/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,o){const a=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;e>=c&&n>=c&&f.get(n-c,e-c);)a[2]++,c++;if(e<c||n<c)return!1;for(;e>=c&&n>=c&&!f.get(n-c,e-c)&&a[1]<=i;)a[1]++,c++;if(e<c||n<c||a[1]>i)return!1;for(;e>=c&&n>=c&&f.get(n-c,e-c)&&a[0]<=i;)a[0]++,c++;if(a[0]>i)return!1;const d=f.getHeight(),g=f.getWidth();for(c=1;e+c<d&&n+c<g&&f.get(n+c,e+c);)a[2]++,c++;if(e+c>=d||n+c>=g)return!1;for(;e+c<d&&n+c<g&&!f.get(n+c,e+c)&&a[3]<i;)a[3]++,c++;if(e+c>=d||n+c>=g||a[3]>=i)return!1;for(;e+c<d&&n+c<g&&f.get(n+c,e+c)&&a[4]<i;)a[4]++,c++;if(a[4]>=i)return!1;const w=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(w-o)<2*o&&Tt.foundPatternCross(a)}crossCheckVertical(e,n,i,o){const a=this.image,c=a.getHeight(),f=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(n,d);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(n,d)&&f[1]<=i;)f[1]++,d--;if(d<0||f[1]>i)return NaN;for(;d>=0&&a.get(n,d)&&f[0]<=i;)f[0]++,d--;if(f[0]>i)return NaN;for(d=e+1;d<c&&a.get(n,d);)f[2]++,d++;if(d===c)return NaN;for(;d<c&&!a.get(n,d)&&f[3]<i;)f[3]++,d++;if(d===c||f[3]>=i)return NaN;for(;d<c&&a.get(n,d)&&f[4]<i;)f[4]++,d++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=2*o?NaN:Tt.foundPatternCross(f)?Tt.centerFromEnd(f,d):NaN}crossCheckHorizontal(e,n,i,o){const a=this.image,c=a.getWidth(),f=this.getCrossCheckStateCount();let d=e;for(;d>=0&&a.get(d,n);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!a.get(d,n)&&f[1]<=i;)f[1]++,d--;if(d<0||f[1]>i)return NaN;for(;d>=0&&a.get(d,n)&&f[0]<=i;)f[0]++,d--;if(f[0]>i)return NaN;for(d=e+1;d<c&&a.get(d,n);)f[2]++,d++;if(d===c)return NaN;for(;d<c&&!a.get(d,n)&&f[3]<i;)f[3]++,d++;if(d===c||f[3]>=i)return NaN;for(;d<c&&a.get(d,n)&&f[4]<i;)f[4]++,d++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=o?NaN:Tt.foundPatternCross(f)?Tt.centerFromEnd(f,d):NaN}handlePossibleCenter(e,n,i,o){const a=e[0]+e[1]+e[2]+e[3]+e[4];let c=Tt.centerFromEnd(e,i),f=this.crossCheckVertical(n,Math.floor(c),e[2],a);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),e[2],a),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),e[2],a)))){const d=a/7;let g=!1;const w=this.possibleCenters;for(let A=0,_=w.length;A<_;A++){const I=w[A];if(I.aboutEquals(d,f,c)){w[A]=I.combineEstimate(f,c,d),g=!0;break}}if(!g){const A=new Cs(c,f,d);w.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=Tt.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Tt.CENTER_QUORUM&&(e++,n+=c.getEstimatedModuleSize());if(e<3)return!1;const o=n/i;let a=0;for(const c of this.possibleCenters)a+=Math.abs(c.getEstimatedModuleSize()-o);return a<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new V;const n=this.possibleCenters;let i;if(e>3){let o=0,a=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();o+=g,a+=g*g}i=o/e;let c=Math.sqrt(a/e-i*i);n.sort((d,g)=>{const w=Math.abs(g.getEstimatedModuleSize()-i),A=Math.abs(d.getEstimatedModuleSize()-i);return w<A?-1:w>A?1:0});const f=Math.max(.2*i,c);for(let d=0;d<n.length&&n.length>3;d++){const g=n[d];Math.abs(g.getEstimatedModuleSize()-i)>f&&(n.splice(d,1),d--)}}if(n.length>3){let o=0;for(const a of n)o+=a.getEstimatedModuleSize();i=o/n.length,n.sort((a,c)=>{if(c.getCount()===a.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-i),d=Math.abs(a.getEstimatedModuleSize()-i);return f<d?1:f>d?-1:0}else return c.getCount()-a.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Tt.CENTER_QUORUM=2,Tt.MIN_SKIP=3,Tt.MAX_MODULES=57;class xi{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(ae.NEED_RESULT_POINT_CALLBACK);const i=new Tt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),a=this.calculateModuleSize(n,i,o);if(a<1)throw new V("No pattern found in proccess finder.");const c=xi.computeDimension(n,i,o,a),f=Ce.getProvisionalVersionForDimension(c),d=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const I=i.getX()-n.getX()+o.getX(),v=i.getY()-n.getY()+o.getY(),R=1-3/d,D=Math.floor(n.getX()+R*(I-n.getX())),H=Math.floor(n.getY()+R*(v-n.getY()));for(let ie=4;ie<=16;ie<<=1)try{g=this.findAlignmentInRegion(a,D,H,ie);break}catch(oe){if(!(oe instanceof V))throw oe}}const w=xi.createTransform(n,i,o,g,c),A=xi.sampleGrid(this.image,w,c);let _;return g===null?_=[o,n,i]:_=[o,n,i,g],new le(A,_)}static createTransform(e,n,i,o,a){const c=a-3.5;let f,d,g,w;return o!==null?(f=o.getX(),d=o.getY(),g=c-3,w=g):(f=n.getX()-e.getX()+i.getX(),d=n.getY()-e.getY()+i.getY(),g=c,w=c),xe.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,g,w,3.5,c,e.getX(),e.getY(),n.getX(),n.getY(),f,d,i.getX(),i.getY())}static sampleGrid(e,n,i){return Ne.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,o){const a=$.round(k.distance(e,n)/o),c=$.round(k.distance(e,i)/o);let f=Math.floor((a+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new V("Dimensions could be not found.")}return f}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,o){let a=this.sizeOfBlackWhiteBlackRun(e,n,i,o),c=1,f=e-(i-e);f<0?(c=e/(e-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-e)/(f-e),f=this.image.getWidth()-1);let d=Math.floor(n-(o-n)*c);return c=1,d<0?(c=n/(n-d),d=0):d>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),f=Math.floor(e+(f-e)*c),a+=this.sizeOfBlackWhiteBlackRun(e,n,f,d),a-1}sizeOfBlackWhiteBlackRun(e,n,i,o){const a=Math.abs(o-n)>Math.abs(i-e);if(a){let I=e;e=n,n=I,I=i,i=o,o=I}const c=Math.abs(i-e),f=Math.abs(o-n);let d=-c/2;const g=e<i?1:-1,w=n<o?1:-1;let A=0;const _=i+g;for(let I=e,v=n;I!==_;I+=g){const R=a?v:I,D=a?I:v;if(A===1===this.image.get(R,D)){if(A===2)return $.distance(I,v,e,n);A++}if(d+=f,d>0){if(v===o)break;v+=w,d-=c}}return A===2?$.distance(i+g,o,e,n):NaN}findAlignmentInRegion(e,n,i,o){const a=Math.floor(o*e),c=Math.max(0,n-a),f=Math.min(this.image.getWidth()-1,n+a);if(f-c<e*3)throw new V("Alignment top exceeds estimated module size.");const d=Math.max(0,i-a),g=Math.min(this.image.getHeight()-1,i+a);if(g-d<e*3)throw new V("Alignment bottom exceeds estimated module size.");return new ao(this.image,c,d,f-c,g-d,e,this.resultPointCallback).find()}}class Fn{constructor(){this.decoder=new Bu}getDecoder(){return this.decoder}decode(e,n){let i,o;if(n!=null&&n.get(ae.PURE_BARCODE)!==void 0){const d=Fn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(d,n),o=Fn.NO_POINTS}else{const d=new xi(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(d.getBits(),n),o=d.getPoints()}i.getOther()instanceof Ul&&i.getOther().applyMirroredCorrection(o);const a=new et(i.getText(),i.getRawBytes(),void 0,o,L.QR_CODE,void 0),c=i.getByteSegments();c!==null&&a.putMetadata(te.BYTE_SEGMENTS,c);const f=i.getECLevel();return f!==null&&a.putMetadata(te.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(a.putMetadata(te.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),a.putMetadata(te.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new V;const o=this.moduleSize(n,e);let a=n[1],c=i[1],f=n[0],d=i[0];if(f>=d||a>=c)throw new V;if(c-a!=d-f&&(d=f+(c-a),d>=e.getWidth()))throw new V;const g=Math.round((d-f+1)/o),w=Math.round((c-a+1)/o);if(g<=0||w<=0)throw new V;if(w!==g)throw new V;const A=Math.floor(o/2);a+=A,f+=A;const _=f+Math.floor((g-1)*o)-d;if(_>0){if(_>A)throw new V;f-=_}const I=a+Math.floor((w-1)*o)-c;if(I>0){if(I>A)throw new V;a-=I}const v=new be(g,w);for(let R=0;R<w;R++){const D=a+Math.floor(R*o);for(let H=0;H<g;H++)e.get(f+Math.floor(H*o),D)&&v.set(H,R)}return v}static moduleSize(e,n){const i=n.getHeight(),o=n.getWidth();let a=e[0],c=e[1],f=!0,d=0;for(;a<o&&c<i;){if(f!==n.get(a,c)){if(++d==5)break;f=!f}a++,c++}if(a===o||c===i)throw new V;return(a-e[0])/7}}Fn.NO_POINTS=new Array;class Se{PDF417Common(){}static getBitCountSum(e){return $.sum(e)}static toIntArray(e){if(e==null||!e.length)return Se.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const o of e)n[i++]=o;return n}static getCodeword(e){const n=X.binarySearch(Se.SYMBOL_TABLE,e&262143);return n<0?-1:(Se.CODEWORD_TABLE[n]-1)%Se.NUMBER_OF_CODEWORDS}}Se.NUMBER_OF_CODEWORDS=929,Se.MAX_CODEWORDS_IN_BARCODE=Se.NUMBER_OF_CODEWORDS-1,Se.MIN_ROWS_IN_BARCODE=3,Se.MAX_ROWS_IN_BARCODE=90,Se.MODULES_IN_CODEWORD=17,Se.MODULES_IN_STOP_PATTERN=18,Se.BARS_IN_MODULE=8,Se.EMPTY_INT_ARRAY=new Int32Array([]),Se.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Se.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Lu{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Pe{static detectMultiple(e,n,i){let o=e.getBlackMatrix(),a=Pe.detect(i,o);return a.length||(o=o.clone(),o.rotate180(),a=Pe.detect(i,o)),new Lu(o,a)}static detect(e,n){const i=new Array;let o=0,a=0,c=!1;for(;o<n.getHeight();){const f=Pe.findVertices(n,o,a);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,a=0;for(const d of i)d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())));o+=Pe.ROW_STEP;continue}if(c=!0,i.push(f),!e)break;f[2]!=null?(a=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(a=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(e,n,i){const o=e.getHeight(),a=e.getWidth(),c=new Array(8);return Pe.copyToResult(c,Pe.findRowsWithPattern(e,o,a,n,i,Pe.START_PATTERN),Pe.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),Pe.copyToResult(c,Pe.findRowsWithPattern(e,o,a,n,i,Pe.STOP_PATTERN),Pe.INDEXES_STOP_PATTERN),c}static copyToResult(e,n,i){for(let o=0;o<i.length;o++)e[i[o]]=n[o]}static findRowsWithPattern(e,n,i,o,a,c){const f=new Array(4);let d=!1;const g=new Int32Array(c.length);for(;o<n;o+=Pe.ROW_STEP){let A=Pe.findGuardPattern(e,a,o,i,!1,c,g);if(A!=null){for(;o>0;){const _=Pe.findGuardPattern(e,a,--o,i,!1,c,g);if(_!=null)A=_;else{o++;break}}f[0]=new k(A[0],o),f[1]=new k(A[1],o),d=!0;break}}let w=o+1;if(d){let A=0,_=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<n;w++){const I=Pe.findGuardPattern(e,_[0],w,i,!1,c,g);if(I!=null&&Math.abs(_[0]-I[0])<Pe.MAX_PATTERN_DRIFT&&Math.abs(_[1]-I[1])<Pe.MAX_PATTERN_DRIFT)_=I,A=0;else{if(A>Pe.SKIPPED_ROW_COUNT_MAX)break;A++}}w-=A+1,f[2]=new k(_[0],w),f[3]=new k(_[1],w)}return w-o<Pe.BARCODE_MIN_HEIGHT&&X.fill(f,null),f}static findGuardPattern(e,n,i,o,a,c,f){X.fillWithin(f,0,f.length,0);let d=n,g=0;for(;e.get(d,i)&&d>0&&g++<Pe.MAX_PIXEL_DRIFT;)d--;let w=d,A=0,_=c.length;for(let I=a;w<o;w++)if(e.get(w,i)!==I)f[A]++;else{if(A===_-1){if(Pe.patternMatchVariance(f,c,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return new Int32Array([d,w]);d+=f[0]+f[1],M.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,I=!I}return A===_-1&&Pe.patternMatchVariance(f,c,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE?new Int32Array([d,w-1]):null}static patternMatchVariance(e,n,i){let o=e.length,a=0,c=0;for(let g=0;g<o;g++)a+=e[g],c+=n[g];if(a<c)return 1/0;let f=a/c;i*=f;let d=0;for(let g=0;g<o;g++){let w=e[g],A=n[g]*f,_=w>A?w-A:A-w;if(_>i)return 1/0;d+=_}return d/a}}Pe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Pe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Pe.MAX_AVG_VARIANCE=.42,Pe.MAX_INDIVIDUAL_VARIANCE=.8,Pe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Pe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Pe.MAX_PIXEL_DRIFT=3,Pe.MAX_PATTERN_DRIFT=5,Pe.SKIPPED_ROW_COUNT_MAX=25,Pe.ROW_STEP=5,Pe.BARCODE_MIN_HEIGHT=10;class Ot{constructor(e,n){if(n.length===0)throw new y;this.field=e;let i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),M.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let n=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)n=this.field.add(this.field.multiply(e,n),this.coefficients[o]);return n}add(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let c=n;n=i,i=c}let o=new Int32Array(i.length),a=i.length-n.length;M.arraycopy(i,0,o,0,a);for(let c=a;c<i.length;c++)o[c]=this.field.add(n[c-a],i[c]);return new Ot(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ot?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ot(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,o=e.coefficients,a=o.length,c=new Int32Array(i+a-1);for(let f=0;f<i;f++){let d=n[f];for(let g=0;g<a;g++)c[f+g]=this.field.add(c[f+g],this.field.multiply(d,o[g]))}return new Ot(this.field,c)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Ot(this.field,n)}multiplyScalar(e){if(e===0)return new Ot(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new Ot(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new y;if(n===0)return new Ot(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new Ot(this.field,o)}toString(){let e=new se;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Fu{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}inverse(e){if(e===0)throw new Re;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class _s extends Fu{constructor(e,n){super();this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*n%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ot(this,new Int32Array([0])),this.one=new Ot(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new y;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new Ot(this,i)}}_s.PDF417_GF=new _s(Se.NUMBER_OF_CODEWORDS,3);class Hl{constructor(){this.field=_s.PDF417_GF}decode(e,n,i){let o=new Ot(this.field,e),a=new Int32Array(n),c=!1;for(let v=n;v>0;v--){let R=o.evaluateAt(this.field.exp(v));a[n-v]=R,R!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(i!=null)for(const v of i){let R=this.field.exp(e.length-1-v),D=new Ot(this.field,new Int32Array([this.field.subtract(0,R),1]));f=f.multiply(D)}let d=new Ot(this.field,a),g=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),d,n),w=g[0],A=g[1],_=this.findErrorLocations(w),I=this.findErrorMagnitudes(A,w,_);for(let v=0;v<_.length;v++){let R=e.length-1-this.field.log(_[v]);if(R<0)throw T.getChecksumInstance();e[R]=this.field.subtract(e[R],I[v])}return _.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let _=e;e=n,n=_}let o=e,a=n,c=this.field.getZero(),f=this.field.getOne();for(;a.getDegree()>=Math.round(i/2);){let _=o,I=c;if(o=a,c=f,o.isZero())throw T.getChecksumInstance();a=_;let v=this.field.getZero(),R=o.getCoefficient(o.getDegree()),D=this.field.inverse(R);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let H=a.getDegree()-o.getDegree(),ie=this.field.multiply(a.getCoefficient(a.getDegree()),D);v=v.add(this.field.buildMonomial(H,ie)),a=a.subtract(o.multiplyByMonomial(H,ie))}f=v.multiply(c).subtract(I).negative()}let d=f.getCoefficient(0);if(d===0)throw T.getChecksumInstance();let g=this.field.inverse(d),w=f.multiply(g),A=a.multiply(g);return[w,A]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),o=0;for(let a=1;a<this.field.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(i[o]=this.field.inverse(a),o++);if(o!==n)throw T.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let o=n.getDegree(),a=new Int32Array(o);for(let g=1;g<=o;g++)a[o-g]=this.field.multiply(g,n.getCoefficient(g));let c=new Ot(this.field,a),f=i.length,d=new Int32Array(f);for(let g=0;g<f;g++){let w=this.field.inverse(i[g]),A=this.field.subtract(0,e.evaluateAt(w)),_=this.field.inverse(c.evaluateAt(w));d[g]=this.field.multiply(A,_)}return d}}class or{constructor(e,n,i,o,a){e instanceof or?this.constructor_2(e):this.constructor_1(e,n,i,o,a)}constructor_1(e,n,i,o,a){const c=n==null||i==null,f=o==null||a==null;if(c&&f)throw new V;c?(n=new k(0,o.getY()),i=new k(0,a.getY())):f&&(o=new k(e.getWidth()-1,n.getY()),a=new k(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new or(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let o=this.topLeft,a=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(e>0){let d=i?this.topLeft:this.topRight,g=Math.trunc(d.getY()-e);g<0&&(g=0);let w=new k(d.getX(),g);i?o=w:c=w}if(n>0){let d=i?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+n);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let w=new k(d.getX(),g);i?a=w:f=w}return new or(this.image,o,a,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ku{constructor(e,n,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class pi{constructor(){this.buffer=""}static form(e,n){let i=-1;function o(c,f,d,g,w,A){if(c==="%%")return"%";if(n[++i]===void 0)return;c=g?parseInt(g.substr(1)):void 0;let _=w?parseInt(w.substr(1)):void 0,I;switch(A){case"s":I=n[i];break;case"c":I=n[i][0];break;case"f":I=parseFloat(n[i]).toFixed(c);break;case"p":I=parseFloat(n[i]).toPrecision(c);break;case"e":I=parseFloat(n[i]).toExponential(c);break;case"x":I=parseInt(n[i]).toString(_||16);break;case"d":I=parseFloat(parseInt(n[i],_||10).toPrecision(c)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(_);let v=parseInt(d),R=d&&d[0]+""=="0"?"0":" ";for(;I.length<v;)I=f!==void 0?I+R:R+I;return I}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)}format(e,...n){this.buffer+=pi.form(e,n)}toString(){return this.buffer}}class wi{constructor(e){this.boundingBox=new or(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<wi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new pi;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}wi.MAX_NEARBY_DISTANCE=5;class Ei{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,o]of this.values.entries()){const a={getKey:()=>i,getValue:()=>o};a.getValue()>e?(e=a.getValue(),n=[],n.push(a.getKey())):a.getValue()===e&&n.push(a.getKey())}return Se.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class Vl extends wi{constructor(e,n){super(e);this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=-1,g=1,w=0;for(let A=c;A<f;A++){if(n[A]==null)continue;let _=n[A],I=_.getRowNumber()-d;if(I===0)w++;else if(I===1)g=Math.max(g,w),w=1,d=_.getRowNumber();else if(I<0||_.getRowNumber()>=e.getRowCount()||I>A)n[A]=null;else{let v;g>2?v=(g-2)*I:v=I;let R=v>=A;for(let D=1;D<=v&&!R;D++)R=n[A-D]!=null;R?n[A]=null:(d=_.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),d=-1;for(let g=a;g<c;g++){if(f[g]==null)continue;let w=f[g];w.setRowNumberAsRowIndicatorColumn();let A=w.getRowNumber()-d;A===0||(A===1?d=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?f[g]=null:d=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Ei,i=new Ei,o=new Ei,a=new Ei;for(let f of e){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let d=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(d*3+1);break;case 1:a.setValue(d/3),o.setValue(d%3);break;case 2:n.setValue(d+1);break}}if(n.getValue().length===0||i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Se.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Se.MAX_ROWS_IN_BARCODE)return null;let c=new ku(n.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,c),c}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let a=o.getValue()%30,c=o.getRowNumber();if(c>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:a+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class mi{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Se.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[i];a!=null&&(a.setRowNumber(e[i].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),a=0;for(let c=this.barcodeColumnCount+1;c>0&&a<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[i];f!=null&&(a=mi.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),a=0;for(let c=1;c<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[i];f!=null&&(a=mi.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){let o=i[n],a=this.detectionResultColumns[e-1].getCodewords(),c=a;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());let f=new Array(14);f[2]=a[n],f[3]=c[n],n>0&&(f[0]=i[n-1],f[4]=a[n-1],f[5]=c[n-1]),n>1&&(f[8]=i[n-2],f[10]=a[n-2],f[11]=c[n-2]),n<i.length-1&&(f[1]=i[n+1],f[6]=a[n+1],f[7]=c[n+1]),n<i.length-2&&(f[9]=i[n+2],f[12]=a[n+2],f[13]=c[n+2]);for(let d of f)if(mi.adjustRowNumber(o,d))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new pi;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[i];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()}}class Ai{constructor(e,n,i,o){this.rowNumber=Ai.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ai.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ai.BARCODE_ROW_UNKNOWN=-1;class Vt{static initialize(){for(let e=0;e<Se.SYMBOL_TABLE.length;e++){let n=Se.SYMBOL_TABLE[e],i=n&1;for(let o=0;o<Se.BARS_IN_MODULE;o++){let a=0;for(;(n&1)===i;)a+=1,n>>=1;i=n&1,Vt.RATIOS_TABLE[e]||(Vt.RATIOS_TABLE[e]=new Array(Se.BARS_IN_MODULE)),Vt.RATIOS_TABLE[e][Se.BARS_IN_MODULE-o-1]=Math.fround(a/Se.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Vt.getDecodedCodewordValue(Vt.sampleBitCounts(e));return n!==-1?n:Vt.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=$.sum(e),i=new Int32Array(Se.BARS_IN_MODULE),o=0,a=0;for(let c=0;c<Se.MODULES_IN_CODEWORD;c++){let f=n/(2*Se.MODULES_IN_CODEWORD)+c*n/Se.MODULES_IN_CODEWORD;a+e[o]<=f&&(a+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let n=Vt.getBitValue(e);return Se.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)n=n<<1|(i%2==0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=$.sum(e),i=new Array(Se.BARS_IN_MODULE);if(n>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(e[c]/n);let o=fe.MAX_VALUE,a=-1;this.bSymbolTableReady||Vt.initialize();for(let c=0;c<Vt.RATIOS_TABLE.length;c++){let f=0,d=Vt.RATIOS_TABLE[c];for(let g=0;g<Se.BARS_IN_MODULE;g++){let w=Math.fround(d[g]-i[g]);if(f+=Math.fround(w*w),f>=o)break}f<o&&(o=f,a=Se.SYMBOL_TABLE[c])}return a}}Vt.bSymbolTableReady=!1,Vt.RATIOS_TABLE=new Array(Se.SYMBOL_TABLE.length).map(m=>new Array(Se.BARS_IN_MODULE));class Gl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Xl{static parseLong(e,n=void 0){return parseInt(e,n)}}class Wl extends E{}Wl.kind="NullPointerException";class Uu{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new Wl;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new q;if(i===0)return;for(let o=0;o<i;o++)this.write(e[n+o])}flush(){}close(){}}class Hu extends E{}class Vu extends Uu{constructor(e=32){super();if(this.count=0,e<0)throw new y("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new Hu;i=F.MAX_VALUE}this.buf=X.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new q;this.ensureCapacity(this.count+i),M.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return X.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var tt;(function(m){m[m.ALPHA=0]="ALPHA",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.PUNCT=3]="PUNCT",m[m.ALPHA_SHIFT=4]="ALPHA_SHIFT",m[m.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tt||(tt={}));function jl(){if(typeof window!="undefined")return window.BigInt||null;if(typeof Hi!="undefined")return Hi.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let lo;function kn(m){if(typeof lo=="undefined"&&(lo=jl()),lo===null)throw new Error("BigInt is not supported!");return lo(m)}function Gu(){let m=[];m[0]=kn(1);let e=kn(900);m[1]=e;for(let n=2;n<16;n++)m[n]=m[n-1]*e;return m}class U{static decode(e,n){let i=new se(""),o=Y.ISO8859_1;i.enableDecoding(o);let a=1,c=e[a++],f=new Gl;for(;a<e[0];){switch(c){case U.TEXT_COMPACTION_MODE_LATCH:a=U.textCompaction(e,a,i);break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:a=U.byteCompaction(c,e,o,a,i);break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a++]);break;case U.NUMERIC_COMPACTION_MODE_LATCH:a=U.numericCompaction(e,a,i);break;case U.ECI_CHARSET:Y.getCharacterSetECIByValue(e[a++]);break;case U.ECI_GENERAL_PURPOSE:a+=2;break;case U.ECI_USER_DEFINED:a++;break;case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=U.decodeMacroBlock(e,a,f);break;case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:throw new W;default:a--,a=U.textCompaction(e,a,i);break}if(a<e.length)c=e[a++];else throw W.getFormatInstance()}if(i.length()===0)throw W.getFormatInstance();let d=new Ae(null,i.toString(),null,n);return d.setOther(f),d}static decodeMacroBlock(e,n,i){if(n+U.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw W.getFormatInstance();let o=new Int32Array(U.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<U.NUMBER_OF_SEQUENCE_CODEWORDS;f++,n++)o[f]=e[n];i.setSegmentIndex(F.parseInt(U.decodeBase900toBase10(o,U.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new se;n=U.textCompaction(e,n,a),i.setFileId(a.toString());let c=-1;for(e[n]===U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=n+1);n<e[0];)switch(e[n]){case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new se;n=U.textCompaction(e,n+1,f),i.setFileName(f.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new se;n=U.textCompaction(e,n+1,d),i.setSender(d.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new se;n=U.textCompaction(e,n+1,g),i.setAddressee(g.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new se;n=U.numericCompaction(e,n+1,w),i.setSegmentCount(F.parseInt(w.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new se;n=U.numericCompaction(e,n+1,A),i.setTimestamp(Xl.parseLong(A.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _=new se;n=U.numericCompaction(e,n+1,_),i.setChecksum(F.parseInt(_.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new se;n=U.numericCompaction(e,n+1,I),i.setFileSize(Xl.parseLong(I.toString()));break;default:throw W.getFormatInstance()}break;case U.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw W.getFormatInstance()}if(c!==-1){let f=n-c;i.isLastSegment()&&f--,i.setOptionalData(X.copyOfRange(e,c,c+f))}return n}static textCompaction(e,n,i){let o=new Int32Array((e[0]-n)*2),a=new Int32Array((e[0]-n)*2),c=0,f=!1;for(;n<e[0]&&!f;){let d=e[n++];if(d<U.TEXT_COMPACTION_MODE_LATCH)o[c]=d/30,o[c+1]=d%30,c+=2;else switch(d){case U.TEXT_COMPACTION_MODE_LATCH:o[c++]=U.TEXT_COMPACTION_MODE_LATCH;break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:n--,f=!0;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[n++],a[c]=d,c++;break}}return U.decodeTextCompaction(o,a,c,i),n}static decodeTextCompaction(e,n,i,o){let a=tt.ALPHA,c=tt.ALPHA,f=0;for(;f<i;){let d=e[f],g="";switch(a){case tt.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case U.LL:a=tt.LOWER;break;case U.ML:a=tt.MIXED;break;case U.PS:c=a,a=tt.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:a=tt.ALPHA;break}break;case tt.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case U.AS:c=a,a=tt.ALPHA_SHIFT;break;case U.ML:a=tt.MIXED;break;case U.PS:c=a,a=tt.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:a=tt.ALPHA;break}break;case tt.MIXED:if(d<U.PL)g=U.MIXED_CHARS[d];else switch(d){case U.PL:a=tt.PUNCT;break;case 26:g=" ";break;case U.LL:a=tt.LOWER;break;case U.AL:a=tt.ALPHA;break;case U.PS:c=a,a=tt.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:a=tt.ALPHA;break}break;case tt.PUNCT:if(d<U.PAL)g=U.PUNCT_CHARS[d];else switch(d){case U.PAL:a=tt.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:a=tt.ALPHA;break}break;case tt.ALPHA_SHIFT:if(a=c,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case U.TEXT_COMPACTION_MODE_LATCH:a=tt.ALPHA;break}break;case tt.PUNCT_SHIFT:if(a=c,d<U.PAL)g=U.PUNCT_CHARS[d];else switch(d){case U.PAL:a=tt.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case U.TEXT_COMPACTION_MODE_LATCH:a=tt.ALPHA;break}break}g!==""&&o.append(g),f++}}static byteCompaction(e,n,i,o,a){let c=new Vu,f=0,d=0,g=!1;switch(e){case U.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),A=n[o++];for(;o<n[0]&&!g;)switch(w[f++]=A,d=900*d+A,A=n[o++],A){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(f%5==0&&f>0){for(let _=0;_<6;++_)c.write(Number(kn(d)>>kn(8*(5-_))));d=0,f=0}break}o===n[0]&&A<U.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=A);for(let _=0;_<f;_++)c.write(w[_]);break;case U.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!g;){let _=n[o++];if(_<U.TEXT_COMPACTION_MODE_LATCH)f++,d=900*d+_;else switch(_){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(f%5==0&&f>0){for(let I=0;I<6;++I)c.write(Number(kn(d)>>kn(8*(5-I))));d=0,f=0}}break}return a.append(Te.decode(c.toByteArray(),i)),o}static numericCompaction(e,n,i){let o=0,a=!1,c=new Int32Array(U.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!a;){let f=e[n++];if(n===e[0]&&(a=!0),f<U.TEXT_COMPACTION_MODE_LATCH)c[o]=f,o++;else switch(f){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(o%U.MAX_NUMERIC_CODEWORDS==0||f===U.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(i.append(U.decodeBase900toBase10(c,o)),o=0)}return n}static decodeBase900toBase10(e,n){let i=kn(0);for(let a=0;a<n;a++)i+=U.EXP900[n-a-1]*kn(e[a]);let o=i.toString();if(o.charAt(0)!=="1")throw new W;return o.substring(1)}}U.TEXT_COMPACTION_MODE_LATCH=900,U.BYTE_COMPACTION_MODE_LATCH=901,U.NUMERIC_COMPACTION_MODE_LATCH=902,U.BYTE_COMPACTION_MODE_LATCH_6=924,U.ECI_USER_DEFINED=925,U.ECI_GENERAL_PURPOSE=926,U.ECI_CHARSET=927,U.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,U.MACRO_PDF417_TERMINATOR=922,U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,U.MAX_NUMERIC_CODEWORDS=15,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,U.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,U.PL=25,U.LL=27,U.AS=27,U.ML=28,U.AL=28,U.PS=29,U.PAL=29,U.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,U.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",U.EXP900=jl()?Gu():[],U.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Fe{constructor(){}static decode(e,n,i,o,a,c,f){let d=new or(e,n,i,o,a),g=null,w=null,A;for(let v=!0;;v=!1){if(n!=null&&(g=Fe.getRowIndicatorColumn(e,d,n,!0,c,f)),o!=null&&(w=Fe.getRowIndicatorColumn(e,d,o,!1,c,f)),A=Fe.merge(g,w),A==null)throw V.getNotFoundInstance();let R=A.getBoundingBox();if(v&&R!=null&&(R.getMinY()<d.getMinY()||R.getMaxY()>d.getMaxY()))d=R;else break}A.setBoundingBox(d);let _=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,g),A.setDetectionResultColumn(_,w);let I=g!=null;for(let v=1;v<=_;v++){let R=I?v:_-v;if(A.getDetectionResultColumn(R)!==void 0)continue;let D;R===0||R===_?D=new Vl(d,R===0):D=new wi(d),A.setDetectionResultColumn(R,D);let H=-1,ie=H;for(let oe=d.getMinY();oe<=d.getMaxY();oe++){if(H=Fe.getStartColumn(A,R,oe,I),H<0||H>d.getMaxX()){if(ie===-1)continue;H=ie}let ee=Fe.detectCodeword(e,d.getMinX(),d.getMaxX(),I,H,oe,c,f);ee!=null&&(D.setCodeword(oe,ee),ie=H,c=Math.min(c,ee.getWidth()),f=Math.max(f,ee.getWidth()))}}return Fe.createDecoderResult(A)}static merge(e,n){if(e==null&&n==null)return null;let i=Fe.getBarcodeMetadata(e,n);if(i==null)return null;let o=or.merge(Fe.adjustBoundingBox(e),Fe.adjustBoundingBox(n));return new mi(i,o)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=Fe.getMax(n),o=0;for(let f of n)if(o+=i-f,f>0)break;let a=e.getCodewords();for(let f=0;o>0&&a[f]==null;f++)o--;let c=0;for(let f=n.length-1;f>=0&&(c+=i-n[f],!(n[f]>0));f--);for(let f=a.length-1;c>0&&a[f]==null;f--)c--;return e.getBoundingBox().addMissingRows(o,c,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,o,a,c){let f=new Vl(n,o);for(let d=0;d<2;d++){let g=d===0?1:-1,w=Math.trunc(Math.trunc(i.getX()));for(let A=Math.trunc(Math.trunc(i.getY()));A<=n.getMaxY()&&A>=n.getMinY();A+=g){let _=Fe.detectCodeword(e,0,e.getWidth(),o,w,A,a,c);_!=null&&(f.setCodeword(A,_),o?w=_.getStartX():w=_.getEndX())}}return f}static adjustCodewordCount(e,n){let i=n[0][1],o=i.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Fe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(a<1||a>Se.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();i.setValue(a)}else o[0]!==a&&i.setValue(a)}static createDecoderResult(e){let n=Fe.createBarcodeMatrix(e);Fe.adjustCodewordCount(e,n);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],c=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let g=0;g<e.getBarcodeColumnCount();g++){let w=n[d][g+1].getValue(),A=d*e.getBarcodeColumnCount()+g;w.length===0?i.push(A):w.length===1?o[A]=w[0]:(c.push(A),a.push(w))}let f=new Array(a.length);for(let d=0;d<f.length;d++)f[d]=a[d];return Fe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Se.toIntArray(i),Se.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(e,n,i,o,a){let c=new Int32Array(o.length),f=100;for(;f-- >0;){for(let d=0;d<c.length;d++)n[o[d]]=a[d][c[d]];try{return Fe.decodeCodewords(n,e,i)}catch(d){if(!(d instanceof T))throw d}if(c.length===0)throw T.getChecksumInstance();for(let d=0;d<c.length;d++)if(c[d]<a[d].length-1){c[d]++;break}else if(c[d]=0,d===c.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let a=0;a<n[o].length;a++)n[o][a]=new Ei;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=0){if(c>=n.length)continue;n[c][i].setValue(a.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,o){let a=o?1:-1,c=null;if(Fe.isValidBarcodeColumn(e,n-a)&&(c=e.getDetectionResultColumn(n-a).getCodeword(i)),c!=null)return o?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(n).getCodewordNearby(i),c!=null)return o?c.getStartX():c.getEndX();if(Fe.isValidBarcodeColumn(e,n-a)&&(c=e.getDetectionResultColumn(n-a).getCodewordNearby(i)),c!=null)return o?c.getEndX():c.getStartX();let f=0;for(;Fe.isValidBarcodeColumn(e,n-a);){n-=a;for(let d of e.getDetectionResultColumn(n).getCodewords())if(d!=null)return(o?d.getEndX():d.getStartX())+a*f*(d.getEndX()-d.getStartX());f++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,o,a,c,f,d){a=Fe.adjustCodewordStartColumn(e,n,i,o,a,c);let g=Fe.getModuleBitCount(e,n,i,o,a,c);if(g==null)return null;let w,A=$.sum(g);if(o)w=a+A;else{for(let v=0;v<g.length/2;v++){let R=g[v];g[v]=g[g.length-1-v],g[g.length-1-v]=R}w=a,a=w-A}if(!Fe.checkCodewordSkew(A,f,d))return null;let _=Vt.getDecodedValue(g),I=Se.getCodeword(_);return I===-1?null:new Ai(a,w,Fe.getCodewordBucketNumber(_),I)}static getModuleBitCount(e,n,i,o,a,c){let f=a,d=new Int32Array(8),g=0,w=o?1:-1,A=o;for(;(o?f<i:f>=n)&&g<d.length;)e.get(f,c)===A?(d[g]++,f+=w):(g++,A=!A);return g===d.length||f===(o?i:n)&&g===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,o,a,c){let f=a,d=o?-1:1;for(let g=0;g<2;g++){for(;(o?f>=n:f<i)&&o===e.get(f,c);){if(Math.abs(a-f)>Fe.CODEWORD_SKEW_SIZE)return a;f+=d}d=-d,o=!o}return f}static checkCodewordSkew(e,n,i){return n-Fe.CODEWORD_SKEW_SIZE<=e&&e<=i+Fe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw W.getFormatInstance();let o=1<<n+1,a=Fe.correctErrors(e,i,o);Fe.verifyCodewordCount(e,o);let c=U.decode(e,""+n);return c.setErrorsCorrected(a),c.setErasures(i.length),c}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+Fe.MAX_ERRORS||i<0||i>Fe.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return Fe.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw W.getFormatInstance();let i=e[0];if(i>e.length)throw W.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw W.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,o=n.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)n[o]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Fe.getCodewordBucketNumber(Fe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new pi;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let a=e[i][o];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()}}Fe.CODEWORD_SKEW_SIZE=2,Fe.MAX_ERRORS=3,Fe.MAX_EC_CODEWORDS=512,Fe.errorCorrection=new Hl;class vt{decode(e,n=null){let i=vt.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw V.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return vt.decode(e,n,!0)}catch(i){throw i instanceof W||i instanceof T?V.getNotFoundInstance():i}}static decode(e,n,i){const o=new Array,a=Pe.detectMultiple(e,n,i);for(const c of a.getPoints()){const f=Fe.decode(a.getBits(),c[4],c[5],c[6],c[7],vt.getMinCodewordWidth(c),vt.getMaxCodewordWidth(c)),d=new et(f.getText(),f.getRawBytes(),void 0,c,L.PDF_417);d.putMetadata(te.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&d.putMetadata(te.PDF417_EXTRA_METADATA,g),o.push(d)}return o.map(c=>c)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?F.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(vt.getMaxWidth(e[0],e[4]),vt.getMaxWidth(e[6],e[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.max(vt.getMaxWidth(e[1],e[5]),vt.getMaxWidth(e[7],e[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(vt.getMinWidth(e[0],e[4]),vt.getMinWidth(e[6],e[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.min(vt.getMinWidth(e[1],e[5]),vt.getMinWidth(e[7],e[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}reset(){}}class co extends E{}co.kind="ReaderException";class zl{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=e!=null&&e.get(ae.TRY_HARDER)!==void 0,i=e==null?null:e.get(ae.POSSIBLE_FORMATS),o=new Array;if(i!=null){const a=i.some(c=>c===L.UPC_A||c===L.UPC_E||c===L.EAN_13||c===L.EAN_8||c===L.CODABAR||c===L.CODE_39||c===L.CODE_93||c===L.CODE_128||c===L.ITF||c===L.RSS_14||c===L.RSS_EXPANDED);a&&!n&&o.push(new Mr(e,this.verbose)),i.includes(L.QR_CODE)&&o.push(new Fn),i.includes(L.DATA_MATRIX)&&o.push(new Ln),i.includes(L.AZTEC)&&o.push(new $e),i.includes(L.PDF_417)&&o.push(new vt),a&&n&&o.push(new Mr(e,this.verbose))}o.length===0&&(n||o.push(new Mr(e,this.verbose)),o.push(new Fn),o.push(new Ln),o.push(new $e),o.push(new vt),n&&o.push(new Mr(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new co("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof co)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class Xu extends bt{constructor(e=null,n=500){const i=new zl;i.setHints(e);super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Wu extends bt{constructor(e=500){super(new vt,e)}}class ju extends bt{constructor(e=500){super(new Fn,e)}}var ys;(function(m){m[m.ERROR_CORRECTION=0]="ERROR_CORRECTION",m[m.CHARACTER_SET=1]="CHARACTER_SET",m[m.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",m[m.MIN_SIZE=3]="MIN_SIZE",m[m.MAX_SIZE=4]="MAX_SIZE",m[m.MARGIN=5]="MARGIN",m[m.PDF417_COMPACT=6]="PDF417_COMPACT",m[m.PDF417_COMPACTION=7]="PDF417_COMPACTION",m[m.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",m[m.AZTEC_LAYERS=9]="AZTEC_LAYERS",m[m.QR_VERSION=10]="QR_VERSION"})(ys||(ys={}));var _t=ys;class bs{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new De(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const o=this.field;for(let a=n.length;a<=e;a++){const c=i.multiply(new De(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));n.push(c),i=c}}return n[e]}encode(e,n){if(n===0)throw new y("No error correction bytes");const i=e.length-n;if(i<=0)throw new y("No data bytes provided");const o=this.buildGenerator(n),a=new Int32Array(i);M.arraycopy(e,0,a,0,i);let c=new De(this.field,a);c=c.multiplyByMonomial(n,1);const d=c.divide(o)[1].getCoefficients(),g=n-d.length;for(let w=0;w<g;w++)e[i+w]=0;M.arraycopy(d,0,e,i+g,d.length)}}class pt{constructor(){}static applyMaskPenaltyRule1(e){return pt.applyMaskPenaltyRule1Internal(e,!0)+pt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let c=0;c<a-1;c++){const f=i[c];for(let d=0;d<o-1;d++){const g=f[d];g===f[d+1]&&g===i[c+1][d]&&g===i[c+1][d+1]&&n++}}return pt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let c=0;c<a;c++)for(let f=0;f<o;f++){const d=i[c];f+6<o&&d[f]===1&&d[f+1]===0&&d[f+2]===1&&d[f+3]===1&&d[f+4]===1&&d[f+5]===0&&d[f+6]===1&&(pt.isWhiteHorizontal(d,f-4,f)||pt.isWhiteHorizontal(d,f+7,f+11))&&n++,c+6<a&&i[c][f]===1&&i[c+1][f]===0&&i[c+2][f]===1&&i[c+3][f]===1&&i[c+4][f]===1&&i[c+5][f]===0&&i[c+6][f]===1&&(pt.isWhiteVertical(i,f,c-4,c)||pt.isWhiteVertical(i,f,c+7,c+11))&&n++}return n*pt.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let o=n;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,n,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let a=i;a<o;a++)if(e[a][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),o=e.getWidth(),a=e.getHeight();for(let d=0;d<a;d++){const g=i[d];for(let w=0;w<o;w++)g[w]===1&&n++}const c=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-c)*10/c)*pt.N4}static getDataMaskBit(e,n,i){let o,a;switch(e){case 0:o=i+n&1;break;case 1:o=i&1;break;case 2:o=n%3;break;case 3:o=(i+n)%3;break;case 4:o=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:a=i*n,o=(a&1)+a%3;break;case 6:a=i*n,o=(a&1)+a%3&1;break;case 7:a=i*n,o=a%3+(i+n&1)&1;break;default:throw new y("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const o=n?e.getHeight():e.getWidth(),a=n?e.getWidth():e.getHeight(),c=e.getArray();for(let f=0;f<o;f++){let d=0,g=-1;for(let w=0;w<a;w++){const A=n?c[f][w]:c[w][f];A===g?d++:(d>=5&&(i+=pt.N1+(d-5)),d=1,g=A)}d>=5&&(i+=pt.N1+(d-5))}return i}}pt.N1=3,pt.N2=3,pt.N3=40,pt.N4=10;class uo{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let o=0;o!==n;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)X.fill(n,e)}equals(e){if(!(e instanceof uo))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i],c=n.bytes[i];for(let f=0,d=this.width;f<d;++f)if(a[f]!==c[f])return!1}return!0}toString(){const e=new se;for(let n=0,i=this.height;n<i;++n){const o=this.bytes[n];for(let a=0,c=this.width;a<c;++a)switch(o[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class sr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new se;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<sr.NUM_MASK_PATTERNS}}sr.NUM_MASK_PATTERNS=8;class rt extends E{}rt.kind="WriterException";class Ie{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,o,a){Ie.clearMatrix(a),Ie.embedBasicPatterns(i,a),Ie.embedTypeInfo(n,o,a),Ie.maybeEmbedVersionInfo(i,a),Ie.embedDataBits(e,o,a)}static embedBasicPatterns(e,n){Ie.embedPositionDetectionPatternsAndSeparators(n),Ie.embedDarkDotAtLeftBottomCorner(n),Ie.maybeEmbedPositionAdjustmentPatterns(e,n),Ie.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const o=new j;Ie.makeTypeInfoBits(e,n,o);for(let a=0,c=o.getSize();a<c;++a){const f=o.get(o.getSize()-1-a),d=Ie.TYPE_INFO_COORDINATES[a],g=d[0],w=d[1];if(i.setBoolean(g,w,f),a<8){const A=i.getWidth()-a-1,_=8;i.setBoolean(A,_,f)}else{const A=8,_=i.getHeight()-7+(a-8);i.setBoolean(A,_,f)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new j;Ie.makeVersionInfoBits(e,i);let o=6*3-1;for(let a=0;a<6;++a)for(let c=0;c<3;++c){const f=i.get(o);o--,n.setBoolean(a,n.getHeight()-11+c,f),n.setBoolean(n.getHeight()-11+c,a,f)}}static embedDataBits(e,n,i){let o=0,a=-1,c=i.getWidth()-1,f=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<i.getHeight();){for(let d=0;d<2;++d){const g=c-d;if(!Ie.isEmpty(i.get(g,f)))continue;let w;o<e.getSize()?(w=e.get(o),++o):w=!1,n!==255&&pt.getDataMaskBit(n,g,f)&&(w=!w),i.setBoolean(g,f,w)}f+=a}a=-a,f+=a,c-=2}if(o!==e.getSize())throw new rt("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-F.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new y("0 polynomial");const i=Ie.findMSBSet(n);for(e<<=i-1;Ie.findMSBSet(e)>=i;)e^=n<<Ie.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!sr.isValidMaskPattern(n))throw new rt("Invalid mask pattern");const o=e.getBits()<<3|n;i.appendBits(o,5);const a=Ie.calculateBCHCode(o,Ie.TYPE_INFO_POLY);i.appendBits(a,10);const c=new j;if(c.appendBits(Ie.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new rt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=Ie.calculateBCHCode(e.getVersionNumber(),Ie.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new rt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;Ie.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),Ie.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new rt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let o=0;o<8;++o){if(!Ie.isEmpty(i.get(e+o,n)))throw new rt;i.setNumber(e+o,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let o=0;o<7;++o){if(!Ie.isEmpty(i.get(e,n+o)))throw new rt;i.setNumber(e,n+o,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let o=0;o<5;++o){const a=Ie.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)i.setNumber(e+c,n+o,a[c])}}static embedPositionDetectionPattern(e,n,i){for(let o=0;o<7;++o){const a=Ie.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)i.setNumber(e+c,n+o,a[c])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ie.POSITION_DETECTION_PATTERN[0].length;Ie.embedPositionDetectionPattern(0,0,e),Ie.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ie.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;Ie.embedHorizontalSeparationPattern(0,i-1,e),Ie.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),Ie.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;Ie.embedVerticalSeparationPattern(o,0,e),Ie.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),Ie.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=Ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let a=0,c=o.length;a!==c;a++){const f=o[a];if(f>=0)for(let d=0;d!==c;d++){const g=o[d];g>=0&&Ie.isEmpty(n.get(g,f))&&Ie.embedPositionAdjustmentPattern(g-2,f-2,n)}}}}Ie.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ie.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ie.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ie.VERSION_INFO_POLY=7973,Ie.TYPE_INFO_POLY=1335,Ie.TYPE_INFO_MASK_PATTERN=21522;class zu{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ft{constructor(){}static calculateMaskPenalty(e){return pt.applyMaskPenaltyRule1(e)+pt.applyMaskPenaltyRule2(e)+pt.applyMaskPenaltyRule3(e)+pt.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let o=ft.DEFAULT_BYTE_MODE_ENCODING;const a=i!==null&&i.get(_t.CHARACTER_SET)!==void 0;a&&(o=i.get(_t.CHARACTER_SET).toString());const c=this.chooseMode(e,o),f=new j;if(c===_e.BYTE&&(a||ft.DEFAULT_BYTE_MODE_ENCODING!==o)){const oe=Y.getCharacterSetECIByName(o);oe!==void 0&&this.appendECI(oe,f)}this.appendModeInfo(c,f);const d=new j;this.appendBytes(e,c,d,o);let g;if(i!==null&&i.get(_t.QR_VERSION)!==void 0){const oe=Number.parseInt(i.get(_t.QR_VERSION).toString(),10);g=Ce.getVersionForNumber(oe);const ee=this.calculateBitsNeeded(c,f,d,g);if(!this.willFit(ee,g,n))throw new rt("Data too big for requested version")}else g=this.recommendVersion(n,c,f,d);const w=new j;w.appendBitArray(f);const A=c===_e.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(A,g,c,w),w.appendBitArray(d);const _=g.getECBlocksForLevel(n),I=g.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(I,w);const v=this.interleaveWithECBytes(w,g.getTotalCodewords(),I,_.getNumBlocks()),R=new sr;R.setECLevel(n),R.setMode(c),R.setVersion(g);const D=g.getDimensionForVersion(),H=new uo(D,D),ie=this.chooseMaskPattern(v,n,g,H);return R.setMaskPattern(ie),Ie.buildMatrix(v,n,g,ie,H),R.setMatrix(H),R}static recommendVersion(e,n,i,o){const a=this.calculateBitsNeeded(n,i,o,Ce.getVersionForNumber(1)),c=this.chooseVersion(a,e),f=this.calculateBitsNeeded(n,i,o,c);return this.chooseVersion(f,e)}static calculateBitsNeeded(e,n,i,o){return n.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<ft.ALPHANUMERIC_TABLE.length?ft.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(Y.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return _e.KANJI;let i=!1,o=!1;for(let a=0,c=e.length;a<c;++a){const f=e.charAt(a);if(ft.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return _e.BYTE}return o?_e.ALPHANUMERIC:i?_e.NUMERIC:_e.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Te.encode(e,Y.SJIS)}catch{return!1}const i=n.length;if(i%2!=0)return!1;for(let o=0;o<i;o+=2){const a=n[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(e,n,i,o){let a=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<sr.NUM_MASK_PATTERNS;f++){Ie.buildMatrix(e,n,i,f,o);let d=this.calculateMaskPenalty(o);d<a&&(a=d,c=f)}return c}static chooseVersion(e,n){for(let i=1;i<=40;i++){const o=Ce.getVersionForNumber(i);if(ft.willFit(e,o,n))return o}throw new rt("Data too big")}static willFit(e,n,i){const o=n.getTotalCodewords(),c=n.getECBlocksForLevel(i).getTotalECCodewords(),f=o-c,d=(e+7)/8;return f>=d}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new rt("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let c=0;c<4&&n.getSize()<i;++c)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let c=o;c<8;c++)n.appendBit(!1);const a=e-n.getSizeInBytes();for(let c=0;c<a;++c)n.appendBits((c&1)==0?236:17,8);if(n.getSize()!==i)throw new rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,o,a,c){if(o>=i)throw new rt("Block ID too large");const f=e%i,d=i-f,g=Math.floor(e/i),w=g+1,A=Math.floor(n/i),_=A+1,I=g-A,v=w-_;if(I!==v)throw new rt("EC bytes mismatch");if(i!==d+f)throw new rt("RS blocks mismatch");if(e!==(A+I)*d+(_+v)*f)throw new rt("Total bytes mismatch");o<d?(a[0]=A,c[0]=I):(a[0]=_,c[0]=v)}static interleaveWithECBytes(e,n,i,o){if(e.getSizeInBytes()!==i)throw new rt("Number of bits and data bytes does not match");let a=0,c=0,f=0;const d=new Array;for(let w=0;w<o;++w){const A=new Int32Array(1),_=new Int32Array(1);ft.getNumDataBytesAndNumECBytesForBlockID(n,i,o,w,A,_);const I=A[0],v=new Uint8Array(I);e.toBytes(8*a,v,0,I);const R=ft.generateECBytes(v,_[0]);d.push(new zu(v,R)),c=Math.max(c,I),f=Math.max(f,R.length),a+=A[0]}if(i!==a)throw new rt("Data bytes does not match offset");const g=new j;for(let w=0;w<c;++w)for(const A of d){const _=A.getDataBytes();w<_.length&&g.appendBits(_[w],8)}for(let w=0;w<f;++w)for(const A of d){const _=A.getErrorCorrectionBytes();w<_.length&&g.appendBits(_[w],8)}if(n!==g.getSizeInBytes())throw new rt("Interleaving error: "+n+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,n){const i=e.length,o=new Int32Array(i+n);for(let c=0;c<i;c++)o[c]=e[c]&255;new bs(he.QR_CODE_FIELD_256).encode(o,n);const a=new Uint8Array(n);for(let c=0;c<n;c++)a[c]=o[i+c];return a}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,o){const a=i.getCharacterCountBits(n);if(e>=1<<a)throw new rt(e+" is bigger than "+((1<<a)-1));o.appendBits(e,a)}static appendBytes(e,n,i,o){switch(n){case _e.NUMERIC:ft.appendNumericBytes(e,i);break;case _e.ALPHANUMERIC:ft.appendAlphanumericBytes(e,i);break;case _e.BYTE:ft.append8BitBytes(e,i,o);break;case _e.KANJI:ft.appendKanjiBytes(e,i);break;default:throw new rt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=ft.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let o=0;for(;o<i;){const a=ft.getDigit(e.charAt(o));if(o+2<i){const c=ft.getDigit(e.charAt(o+1)),f=ft.getDigit(e.charAt(o+2));n.appendBits(a*100+c*10+f,10),o+=3}else if(o+1<i){const c=ft.getDigit(e.charAt(o+1));n.appendBits(a*10+c,7),o+=2}else n.appendBits(a,4),o++}}static appendAlphanumericBytes(e,n){const i=e.length;let o=0;for(;o<i;){const a=ft.getAlphanumericCode(e.charCodeAt(o));if(a===-1)throw new rt;if(o+1<i){const c=ft.getAlphanumericCode(e.charCodeAt(o+1));if(c===-1)throw new rt;n.appendBits(a*45+c,11),o+=2}else n.appendBits(a,6),o++}}static append8BitBytes(e,n,i){let o;try{o=Te.encode(e,i)}catch(a){throw new rt(a)}for(let a=0,c=o.length;a!==c;a++){const f=o[a];n.appendBits(f,8)}}static appendKanjiBytes(e,n){let i;try{i=Te.encode(e,Y.SJIS)}catch(a){throw new rt(a)}const o=i.length;for(let a=0;a<o;a+=2){const c=i[a]&255,f=i[a+1]&255,d=c<<8&4294967295|f;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new rt("Invalid byte sequence");const w=(g>>8)*192+(g&255);n.appendBits(w,13)}}static appendECI(e,n){n.appendBits(_e.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}ft.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ft.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class ar{write(e,n,i,o=null){if(e.length===0)throw new y("Found empty contents");if(n<0||i<0)throw new y("Requested dimensions are too small: "+n+"x"+i);let a=at.L,c=ar.QUIET_ZONE_SIZE;o!==null&&(o.get(_t.ERROR_CORRECTION)!==void 0&&(a=at.fromString(o.get(_t.ERROR_CORRECTION).toString())),o.get(_t.MARGIN)!==void 0&&(c=Number.parseInt(o.get(_t.MARGIN).toString(),10)));const f=ft.encode(e,a,o);return this.renderResult(f,n,i,c)}writeToDom(e,n,i,o,a=null){typeof e=="string"&&(e=document.querySelector(e));const c=this.write(n,i,o,a);e&&e.appendChild(c)}renderResult(e,n,i,o){const a=e.getMatrix();if(a===null)throw new N;const c=a.getWidth(),f=a.getHeight(),d=c+o*2,g=f+o*2,w=Math.max(n,d),A=Math.max(i,g),_=Math.min(Math.floor(w/d),Math.floor(A/g)),I=Math.floor((w-c*_)/2),v=Math.floor((A-f*_)/2),R=this.createSVGElement(w,A);for(let D=0,H=v;D<f;D++,H+=_)for(let ie=0,oe=I;ie<c;ie++,oe+=_)if(a.get(ie,D)===1){const ee=this.createSvgRectElement(oe,H,_,_);R.appendChild(ee)}return R}createSVGElement(e,n){const i=document.createElementNS(ar.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,o){const a=document.createElementNS(ar.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}ar.QUIET_ZONE_SIZE=4,ar.SVG_NS="http://www.w3.org/2000/svg";class Br{encode(e,n,i,o,a){if(e.length===0)throw new y("Found empty contents");if(n!==L.QR_CODE)throw new y("Can only encode QR_CODE, but got "+n);if(i<0||o<0)throw new y(`Requested dimensions are too small: ${i}x${o}`);let c=at.L,f=Br.QUIET_ZONE_SIZE;a!==null&&(a.get(_t.ERROR_CORRECTION)!==void 0&&(c=at.fromString(a.get(_t.ERROR_CORRECTION).toString())),a.get(_t.MARGIN)!==void 0&&(f=Number.parseInt(a.get(_t.MARGIN).toString(),10)));const d=ft.encode(e,c,a);return Br.renderResult(d,i,o,f)}static renderResult(e,n,i,o){const a=e.getMatrix();if(a===null)throw new N;const c=a.getWidth(),f=a.getHeight(),d=c+o*2,g=f+o*2,w=Math.max(n,d),A=Math.max(i,g),_=Math.min(Math.floor(w/d),Math.floor(A/g)),I=Math.floor((w-c*_)/2),v=Math.floor((A-f*_)/2),R=new be(w,A);for(let D=0,H=v;D<f;D++,H+=_)for(let ie=0,oe=I;ie<c;ie++,oe+=_)a.get(ie,D)===1&&R.setRegion(oe,H,_,_);return R}}Br.QUIET_ZONE_SIZE=4;class Yu{encode(e,n,i,o,a){let c;switch(n){case L.QR_CODE:c=new Br;break;default:throw new y("No encoder available for format "+n)}return c.encode(e,n,i,o,a)}}class En extends We{constructor(e,n,i,o,a,c,f,d){super(c,f);if(this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=a,o+c>n||a+f>i)throw new y("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(c,f)}getRow(e,n){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,o,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return M.arraycopy(this.yuvData,a,o,0,i),o;for(let c=0;c<n;c++){const f=c*e;M.arraycopy(this.yuvData,a,o,f,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,i,o){return new En(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,o,!1)}renderThumbnail(){const e=this.getWidth()/En.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/En.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let c=0;c<n;c++){const f=c*e;for(let d=0;d<e;d++){const g=o[a+d*En.THUMBNAIL_SCALE_FACTOR]&255;i[f+d]=4278190080|g*65793}a+=this.dataWidth*En.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/En.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/En.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth){const c=a+e/2;for(let f=a,d=a+e-1;f<c;f++,d--){const g=i[f];i[f]=i[d],i[d]=g}}}invert(){return new ke(this)}}En.THUMBNAIL_SCALE_FACTOR=2;class Is extends We{constructor(e,n,i,o,a,c,f){super(n,i);if(this.dataWidth=o,this.dataHeight=a,this.left=c,this.top=f,e.BYTES_PER_ELEMENT===4){const d=n*i,g=new Uint8ClampedArray(d);for(let w=0;w<d;w++){const A=e[w],_=A>>16&255,I=A>>7&510,v=A&255;g[w]=(_+I+v)/4&255}this.luminances=g}else this.luminances=e;if(o===void 0&&(this.dataWidth=n),a===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,o,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return M.arraycopy(this.luminances,a,o,0,i),o;for(let c=0;c<n;c++){const f=c*e;M.arraycopy(this.luminances,a,o,f,e),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,i,o){return new Is(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ke(this)}}class Yl extends Y{static forName(e){return this.getCharacterSetECIByName(e)}}class Ts{}Ts.ISO_8859_1=Y.ISO8859_1;class Kl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Zl{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Ku{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Pr extends Ku{constructor(e,n,i){super(e);this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Pr(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Pr(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+F.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ss extends Pr{constructor(e,n,i){super(e,0,0);this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new Ss(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zu(m,e,n){return new Ss(m,e,n)}function Ci(m,e,n){return new Pr(m,e,n)}const $u=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Un=0,fo=1,rn=2,$l=3,mn=4,qu=new Pr(null,0,0),Os=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function Qu(m){for(let e of m)X.fill(e,-1);return m[Un][mn]=0,m[fo][mn]=0,m[fo][Un]=28,m[$l][mn]=0,m[rn][mn]=0,m[rn][Un]=15,m}const ql=Qu(X.createInt32Array(6,6));class An{constructor(e,n,i,o){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,o=this.token;if(e!==this.mode){let c=Os[this.mode][e];o=Ci(o,c&65535,c>>16),i+=c>>16}let a=e===rn?4:5;return o=Ci(o,n,a),new An(o,e,0,i+a)}shiftAndAppend(e,n){let i=this.token,o=this.mode===rn?4:5;return i=Ci(i,ql[this.mode][e],o),i=Ci(i,n,5),new An(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,o=this.bitCount;if(this.mode===mn||this.mode===rn){let f=Os[i][Un];n=Ci(n,f&65535,f>>16),o+=f>>16,i=Un}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new An(n,i,this.binaryShiftByteCount+1,o+a);return c.binaryShiftByteCount===2047+31&&(c=c.endBinaryShift(e+1)),c}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Zu(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new An(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(Os[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=An.calculateBinaryShiftCost(e)-An.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())n.unshift(o);let i=new j;for(const o of n)o.appendTo(i,e);return i}toString(){return ue.format("%s bits=%d bytes=%d",$u[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}An.INITIAL_STATE=new An(qu,Un,0,0);function Ju(m){const e=ue.getCharCode(" "),n=ue.getCharCode("."),i=ue.getCharCode(",");m[Un][e]=1;const o=ue.getCharCode("Z"),a=ue.getCharCode("A");for(let _=a;_<=o;_++)m[Un][_]=_-a+2;m[fo][e]=1;const c=ue.getCharCode("z"),f=ue.getCharCode("a");for(let _=f;_<=c;_++)m[fo][_]=_-f+2;m[rn][e]=1;const d=ue.getCharCode("9"),g=ue.getCharCode("0");for(let _=g;_<=d;_++)m[rn][_]=_-g+2;m[rn][i]=12,m[rn][n]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","","","","","","@","\\","^","_","`","|","~","\x7F"];for(let _=0;_<w.length;_++)m[$l][ue.getCharCode(w[_])]=_;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _=0;_<A.length;_++)ue.getCharCode(A[_])>0&&(m[mn][ue.getCharCode(A[_])]=_);return m}const vs=Ju(X.createInt32Array(5,256));class _i{constructor(e){this.text=e}encode(){const e=ue.getCharCode(" "),n=ue.getCharCode(`
`);let i=Zl.singletonList(An.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let c,f=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ue.getCharCode("\r"):c=f===n?2:0;break;case ue.getCharCode("."):c=f===e?3:0;break;case ue.getCharCode(","):c=f===e?4:0;break;case ue.getCharCode(":"):c=f===e?5:0;break;default:c=0}c>0?(i=_i.updateStateListForPair(i,a,c),a++):i=this.updateStateListForChar(i,a)}return Zl.min(i,(a,c)=>a.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let o of e)this.updateStateForChar(o,n,i);return _i.simplifyStates(i)}updateStateForChar(e,n,i){let o=this.text[n]&255,a=vs[e.getMode()][o]>0,c=null;for(let f=0;f<=mn;f++){let d=vs[f][o];if(d>0){if(c==null&&(c=e.endBinaryShift(n)),!a||f===e.getMode()||f===rn){const g=c.latchAndAppend(f,d);i.push(g)}if(!a&&ql[e.getMode()][f]>=0){const g=c.shiftAndAppend(f,d);i.push(g)}}}if(e.getBinaryShiftByteCount()>0||vs[e.getMode()][o]===0){let f=e.addBinaryShiftChar(n);i.push(f)}}static updateStateListForPair(e,n,i){const o=[];for(let a of e)this.updateStateForPair(a,n,i,o);return this.simplifyStates(o)}static updateStateForPair(e,n,i,o){let a=e.endBinaryShift(n);if(o.push(a.latchAndAppend(mn,i)),e.getMode()!==mn&&o.push(a.shiftAndAppend(mn,i)),i===3||i===4){let c=a.latchAndAppend(rn,16-i).latchAndAppend(rn,1);o.push(c)}if(e.getBinaryShiftByteCount()>0){let c=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(c)}}static simplifyStates(e){let n=[];for(const i of e){let o=!0;for(const a of n){if(a.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(a)&&(n=n.filter(c=>c!==a))}o&&n.push(i)}return n}}class Xe{constructor(){}static encodeBytes(e){return Xe.encode(e,Xe.DEFAULT_EC_PERCENT,Xe.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let o=new _i(e).encode(),a=F.truncDivision(o.getSize()*n,100)+11,c=o.getSize()+a,f,d,g,w,A;if(i!==Xe.DEFAULT_AZTEC_LAYERS){if(f=i<0,d=Math.abs(i),d>(f?Xe.MAX_NB_BITS_COMPACT:Xe.MAX_NB_BITS))throw new y(ue.format("Illegal value %s for layers",i));g=Xe.totalBitsInLayer(d,f),w=Xe.WORD_SIZE[d];let ee=g-g%w;if(A=Xe.stuffBits(o,w),A.getSize()+a>ee)throw new y("Data to large for user specified layer");if(f&&A.getSize()>w*64)throw new y("Data to large for user specified layer")}else{w=0,A=null;for(let ee=0;;ee++){if(ee>Xe.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(f=ee<=3,d=f?ee+1:ee,g=Xe.totalBitsInLayer(d,f),c>g)continue;(A==null||w!==Xe.WORD_SIZE[d])&&(w=Xe.WORD_SIZE[d],A=Xe.stuffBits(o,w));let He=g-g%w;if(!(f&&A.getSize()>w*64)&&A.getSize()+a<=He)break}}let _=Xe.generateCheckWords(A,g,w),I=A.getSize()/w,v=Xe.generateModeMessage(f,d,I),R=(f?11:14)+d*4,D=new Int32Array(R),H;if(f){H=R;for(let ee=0;ee<D.length;ee++)D[ee]=ee}else{H=R+1+2*F.truncDivision(F.truncDivision(R,2)-1,15);let ee=F.truncDivision(R,2),He=F.truncDivision(H,2);for(let Me=0;Me<ee;Me++){let Gt=Me+F.truncDivision(Me,15);D[ee-Me-1]=He-Gt-1,D[ee+Me]=He+Gt+1}}let ie=new be(H);for(let ee=0,He=0;ee<d;ee++){let Me=(d-ee)*4+(f?9:12);for(let Gt=0;Gt<Me;Gt++){let dn=Gt*2;for(let Xt=0;Xt<2;Xt++)_.get(He+dn+Xt)&&ie.set(D[ee*2+Xt],D[ee*2+Gt]),_.get(He+Me*2+dn+Xt)&&ie.set(D[ee*2+Gt],D[R-1-ee*2-Xt]),_.get(He+Me*4+dn+Xt)&&ie.set(D[R-1-ee*2-Xt],D[R-1-ee*2-Gt]),_.get(He+Me*6+dn+Xt)&&ie.set(D[R-1-ee*2-Gt],D[ee*2+Xt])}He+=Me*8}if(Xe.drawModeMessage(ie,f,H,v),f)Xe.drawBullsEye(ie,F.truncDivision(H,2),5);else{Xe.drawBullsEye(ie,F.truncDivision(H,2),7);for(let ee=0,He=0;ee<F.truncDivision(R,2)-1;ee+=15,He+=16)for(let Me=F.truncDivision(H,2)&1;Me<H;Me+=2)ie.set(F.truncDivision(H,2)-He,Me),ie.set(F.truncDivision(H,2)+He,Me),ie.set(Me,F.truncDivision(H,2)-He),ie.set(Me,F.truncDivision(H,2)+He)}let oe=new Kl;return oe.setCompact(f),oe.setSize(H),oe.setLayers(d),oe.setCodeWords(I),oe.setMatrix(ie),oe}static drawBullsEye(e,n,i){for(let o=0;o<i;o+=2)for(let a=n-o;a<=n+o;a++)e.set(a,n-o),e.set(a,n+o),e.set(n-o,a),e.set(n+o,a);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let o=new j;return e?(o.appendBits(n-1,2),o.appendBits(i-1,6),o=Xe.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(i-1,11),o=Xe.generateCheckWords(o,40,4)),o}static drawModeMessage(e,n,i,o){let a=F.truncDivision(i,2);if(n)for(let c=0;c<7;c++){let f=a-3+c;o.get(c)&&e.set(f,a-5),o.get(c+7)&&e.set(a+5,f),o.get(20-c)&&e.set(f,a+5),o.get(27-c)&&e.set(a-5,f)}else for(let c=0;c<10;c++){let f=a-5+c+F.truncDivision(c,5);o.get(c)&&e.set(f,a-7),o.get(c+10)&&e.set(a+7,f),o.get(29-c)&&e.set(f,a+7),o.get(39-c)&&e.set(a-7,f)}}static generateCheckWords(e,n,i){let o=e.getSize()/i,a=new bs(Xe.getGF(i)),c=F.truncDivision(n,i),f=Xe.bitsToWords(e,i,c);a.encode(f,c-o);let d=n%i,g=new j;g.appendBits(0,d);for(const w of Array.from(f))g.appendBits(w,i);return g}static bitsToWords(e,n,i){let o=new Int32Array(i),a,c;for(a=0,c=e.getSize()/n;a<c;a++){let f=0;for(let d=0;d<n;d++)f|=e.get(a*n+d)?1<<n-d-1:0;o[a]=f}return o}static getGF(e){switch(e){case 4:return he.AZTEC_PARAM;case 6:return he.AZTEC_DATA_6;case 8:return he.AZTEC_DATA_8;case 10:return he.AZTEC_DATA_10;case 12:return he.AZTEC_DATA_12;default:throw new y("Unsupported word size "+e)}}static stuffBits(e,n){let i=new j,o=e.getSize(),a=(1<<n)-2;for(let c=0;c<o;c+=n){let f=0;for(let d=0;d<n;d++)(c+d>=o||e.get(c+d))&&(f|=1<<n-1-d);(f&a)===a?(i.appendBits(f&a,n),c--):(f&a)==0?(i.appendBits(f|1,n),c--):i.appendBits(f,n)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Xe.DEFAULT_EC_PERCENT=33,Xe.DEFAULT_AZTEC_LAYERS=0,Xe.MAX_NB_BITS=32,Xe.MAX_NB_BITS_COMPACT=4,Xe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ho{encode(e,n,i,o){return this.encodeWithHints(e,n,i,o,null)}encodeWithHints(e,n,i,o,a){let c=Ts.ISO_8859_1,f=Xe.DEFAULT_EC_PERCENT,d=Xe.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(_t.CHARACTER_SET)&&(c=Yl.forName(a.get(_t.CHARACTER_SET).toString())),a.has(_t.ERROR_CORRECTION)&&(f=F.parseInt(a.get(_t.ERROR_CORRECTION).toString())),a.has(_t.AZTEC_LAYERS)&&(d=F.parseInt(a.get(_t.AZTEC_LAYERS).toString()))),ho.encodeLayers(e,n,i,o,c,f,d)}static encodeLayers(e,n,i,o,a,c,f){if(n!==L.AZTEC)throw new y("Can only encode AZTEC, but got "+n);let d=Xe.encode(ue.getBytes(e,a),c,f);return ho.renderResult(d,i,o)}static renderResult(e,n,i){let o=e.getMatrix();if(o==null)throw new N;let a=o.getWidth(),c=o.getHeight(),f=Math.max(n,a),d=Math.max(i,c),g=Math.min(f/a,d/c),w=(f-a*g)/2,A=(d-c*g)/2,_=new be(f,d);for(let I=0,v=A;I<c;I++,v+=g)for(let R=0,D=w;R<a;R++,D+=g)o.get(R,I)&&_.setRegion(D,v,g,g);return _}}s.ArgumentException=C,s.ArithmeticException=Re,s.AztecCode=Kl,s.AztecCodeReader=$e,s.AztecCodeWriter=ho,s.AztecDecoder=z,s.AztecDetector=Ze,s.AztecDetectorResult=ne,s.AztecEncoder=Xe,s.AztecHighLevelEncoder=_i,s.AztecPoint=Be,s.BarcodeFormat=L,s.Binarizer=B,s.BinaryBitmap=O,s.BitArray=j,s.BitMatrix=be,s.BitSource=Es,s.BrowserAztecCodeReader=zt,s.BrowserBarcodeReader=Ru,s.BrowserCodeReader=bt,s.BrowserDatamatrixCodeReader=Mu,s.BrowserMultiFormatReader=Xu,s.BrowserPDF417Reader=Wu,s.BrowserQRCodeReader=ju,s.BrowserQRCodeSvgWriter=ar,s.CharacterSetECI=Y,s.ChecksumException=T,s.Code128Reader=ce,s.Code39Reader=ut,s.DataMatrixDecodedBitStreamParser=Pn,s.DataMatrixReader=Ln,s.DecodeHintType=ae,s.DecoderResult=Ae,s.DefaultGridSampler=Oe,s.DetectorResult=le,s.EAN13Reader=nr,s.EncodeHintType=_t,s.Exception=E,s.FormatException=W,s.GenericGF=he,s.GenericGFPoly=De,s.GlobalHistogramBinarizer=Je,s.GridSampler=pe,s.GridSamplerInstance=Ne,s.HTMLCanvasElementLuminanceSource=mt,s.HybridBinarizer=we,s.ITFReader=qe,s.IllegalArgumentException=y,s.IllegalStateException=N,s.InvertedLuminanceSource=ke,s.LuminanceSource=We,s.MathUtils=$,s.MultiFormatOneDReader=Mr,s.MultiFormatReader=zl,s.MultiFormatWriter=Yu,s.NotFoundException=V,s.OneDReader=nt,s.PDF417DecodedBitStreamParser=U,s.PDF417DecoderErrorCorrection=Hl,s.PDF417Reader=vt,s.PDF417ResultMetadata=Gl,s.PerspectiveTransform=xe,s.PlanarYUVLuminanceSource=En,s.QRCodeByteMatrix=uo,s.QRCodeDataMask=tn,s.QRCodeDecodedBitStreamParser=gt,s.QRCodeDecoderErrorCorrectionLevel=at,s.QRCodeDecoderFormatInformation=Pt,s.QRCodeEncoder=ft,s.QRCodeEncoderQRCode=sr,s.QRCodeMaskUtil=pt,s.QRCodeMatrixUtil=Ie,s.QRCodeMode=_e,s.QRCodeReader=Fn,s.QRCodeVersion=Ce,s.QRCodeWriter=Br,s.RGBLuminanceSource=Is,s.RSS14Reader=xt,s.RSSExpandedReader=Q,s.ReaderException=co,s.ReedSolomonDecoder=G,s.ReedSolomonEncoder=bs,s.ReedSolomonException=S,s.Result=et,s.ResultMetadataType=te,s.ResultPoint=k,s.StringUtils=ue,s.UnsupportedOperationException=ve,s.VideoInputDevice=On,s.WhiteRectangleDetector=me,s.WriterException=rt,s.ZXingArrays=X,s.ZXingCharset=Yl,s.ZXingInteger=F,s.ZXingStandardCharsets=Ts,s.ZXingStringBuilder=se,s.ZXingStringEncoding=Te,s.ZXingSystem=M,Object.defineProperty(s,"__esModule",{value:!0})})})(lt,lt.exports);var nE=Rd(lt.exports),rE=Object.freeze(nf({__proto__:null,[Symbol.toStringTag]:"Module",default:nE},[lt.exports])),iE=function(){function t(r,s,l){if(this.formatMap=new Map([[ge.QR_CODE,lt.exports.BarcodeFormat.QR_CODE],[ge.AZTEC,lt.exports.BarcodeFormat.AZTEC],[ge.CODABAR,lt.exports.BarcodeFormat.CODABAR],[ge.CODE_39,lt.exports.BarcodeFormat.CODE_39],[ge.CODE_93,lt.exports.BarcodeFormat.CODE_93],[ge.CODE_128,lt.exports.BarcodeFormat.CODE_128],[ge.DATA_MATRIX,lt.exports.BarcodeFormat.DATA_MATRIX],[ge.MAXICODE,lt.exports.BarcodeFormat.MAXICODE],[ge.ITF,lt.exports.BarcodeFormat.ITF],[ge.EAN_13,lt.exports.BarcodeFormat.EAN_13],[ge.EAN_8,lt.exports.BarcodeFormat.EAN_8],[ge.PDF_417,lt.exports.BarcodeFormat.PDF_417],[ge.RSS_14,lt.exports.BarcodeFormat.RSS_14],[ge.RSS_EXPANDED,lt.exports.BarcodeFormat.RSS_EXPANDED],[ge.UPC_A,lt.exports.BarcodeFormat.UPC_A],[ge.UPC_E,lt.exports.BarcodeFormat.UPC_E],[ge.UPC_EAN_EXTENSION,lt.exports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!rE)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=l;var u=this.createZXingFormats(r),h=new Map;h.set(lt.exports.DecodeHintType.POSSIBLE_FORMATS,u),this.hints=h}return t.prototype.decodeAsync=function(r){var s=this;return new Promise(function(l,u){try{l(s.decode(r))}catch(h){u(h)}})},t.prototype.decode=function(r){var s=new lt.exports.MultiFormatReader(this.verbose,this.hints),l=new lt.exports.HTMLCanvasElementLuminanceSource(r),u=new lt.exports.BinaryBitmap(new lt.exports.HybridBinarizer(l)),h=s.decode(u);return{text:h.text,format:K0.create(this.toHtml5QrcodeSupportedFormats(h.format))}},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,l,u){r.set(s,l)}),r},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have "+r;return this.reverseFormatMap.get(r)},t.prototype.createZXingFormats=function(r){for(var s=[],l=0,u=r;l<u.length;l++){var h=u[l];this.formatMap.has(h)?s.push(this.formatMap.get(h)):this.logger.logError(h+" is not supported byZXingHtml5QrcodeShim")}return s},t}(),oE=globalThis&&globalThis.__awaiter||function(t,r,s,l){function u(h){return h instanceof s?h:new s(function(x){x(h)})}return new(s||(s=Promise))(function(h,x){function p(y){try{C(l.next(y))}catch(O){x(O)}}function E(y){try{C(l.throw(y))}catch(O){x(O)}}function C(y){y.done?h(y.value):u(y.value).then(p,E)}C((l=l.apply(t,r||[])).next())})},sE=globalThis&&globalThis.__generator||function(t,r){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,u,h,x;return x={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function p(C){return function(y){return E([C,y])}}function E(C){if(l)throw new TypeError("Generator is already executing.");for(;s;)try{if(l=1,u&&(h=C[0]&2?u.return:C[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,C[1])).done)return h;switch(u=0,h&&(C=[C[0]&2,h.value]),C[0]){case 0:case 1:h=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,u=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!h||C[1]>h[0]&&C[1]<h[3])){s.label=C[1];break}if(C[0]===6&&s.label<h[1]){s.label=h[1],h=C;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(C);break}h[2]&&s.ops.pop(),s.trys.pop();continue}C=r.call(t,s)}catch(y){C=[6,y],u=0}finally{l=h=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},q0=function(){function t(r,s,l){if(this.formatMap=new Map([[ge.QR_CODE,"qr_code"],[ge.AZTEC,"aztec"],[ge.CODABAR,"codabar"],[ge.CODE_39,"code_39"],[ge.CODE_93,"code_93"],[ge.CODE_128,"code_128"],[ge.DATA_MATRIX,"data_matrix"],[ge.ITF,"itf"],[ge.EAN_13,"ean_13"],[ge.EAN_8,"ean_8"],[ge.PDF_417,"pdf417"],[ge.UPC_A,"upc_a"],[ge.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=l;var u=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r!="undefined"},t.prototype.decodeAsync=function(r){return oE(this,void 0,void 0,function(){var s,l;return sE(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(r)];case 1:if(s=u.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(s),[2,{text:l.rawValue,format:K0.create(this.toHtml5QrcodeSupportedFormats(l.format))}]}})})},t.prototype.selectLargestBarcode=function(r){for(var s=null,l=0,u=0,h=r;u<h.length;u++){var x=h[u],p=x.boundingBox.width*x.boundingBox.height;p>l&&(l=p,s=x)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(r){for(var s=[],l=0,u=r;l<u.length;l++){var h=u[l];this.formatMap.has(h)?s.push(this.formatMap.get(h)):this.logger.warn(h+" is not supported byBarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have "+r;return this.reverseFormatMap.get(r)},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,l,u){r.set(s,l)}),r},t}(),aE=function(){function t(r,s,l,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=s,u.useBarCodeDetectorIfSupported===!0&&q0.isSupported()?this.decoder=new q0(r,s,l):this.decoder=new iE(r,s,l)}return t.prototype.decodeAsync=function(r){var s=this,l=performance.now();return this.decoder.decodeAsync(r).finally(function(){if(s.verbose){var u=performance.now()-l;s.executionResults.push(u),s.executions++,s.possiblyFlushPerformanceReport()}})},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,s=0,l=this.executionResults;s<l.length;s++){var u=l[s];r+=u}var h=r/this.executionResults.length;console.log(h+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},t}(),lE=function(){function t(){}return t.createExperimentalFeaturesConfig=function(r){return r?(r.useBarCodeDetectorIfSupported!==!0&&(r.useBarCodeDetectorIfSupported=!1),r):{useBarCodeDetectorIfSupported:!1}},t}(),Et;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Et||(Et={}));var cE=function(){function t(){this.state=Et.NOT_STARTED,this.onGoingTransactionNewState=Et.UNKNOWN}return t.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},t.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Et.UNKNOWN,this.directTransition(r)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Et.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Et.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Et.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},t.prototype.validateTransition=function(r){switch(this.state){case Et.UNKNOWN:throw"Transition from unknown is not allowed";case Et.NOT_STARTED:this.failIfNewStateIs(r,[Et.PAUSED]);break;case Et.SCANNING:break;case Et.PAUSED:break}},t.prototype.failIfNewStateIs=function(r,s){for(var l=0,u=s;l<u.length;l++){var h=u[l];if(r===h)throw"Cannot transition from "+this.state+" to "+r}},t}(),uE=function(){function t(r){this.stateManager=r}return t.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},t.prototype.directTransition=function(r){this.stateManager.directTransition(r)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Et.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Et.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Et.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Et.PAUSED},t}(),fE=function(){function t(){}return t.create=function(){return new uE(new cE)},t}(),hE=globalThis&&globalThis.__extends||function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h])},t(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(r,s);function l(){this.constructor=r}r.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),fn=function(t){hE(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}(J3),dE=function(){function t(r,s){this.logger=s,this.fps=fn.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=fn.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Qi(this.qrbox)},t.create=function(r,s){return new t(r,s)},t}(),Dm=function(){function t(r,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id="+r+" not found";this.elementId=r,this.verbose=!1;var l;typeof s=="boolean"?this.verbose=s===!0:s&&(this.verbose=s.verbose===!0,l=s.experimentalFeatures),this.logger=new tE(this.verbose),this.qrcode=new aE(this.getSupportedFormats(s),this.verbose,this.logger,lE.createExperimentalFeaturesConfig(l)),this.foreverScanTimeout,this.localMediaStream,this.shouldScan=!0,this.stateManagerProxy=fE.create()}return t.prototype.start=function(r,s,l,u){if(!r)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";u||(u=this.verbose?this.logger.log:function(){});var h=dE.create(s,this.logger);this.clearElement();var x=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=x,E=h.isShadedBoxEnabled(),C=document.getElementById(this.elementId),y=C.clientWidth?C.clientWidth:fn.DEFAULT_WIDTH;C.style.position="relative",this.shouldScan=!0,this.element=C,E&&this.validateQrboxSize(h,y);var O=this,T=this.stateManagerProxy.startTransition(Et.SCANNING);return new Promise(function(B,M){var q=p?h.videoConstraints:O.createVideoConstraints(r);if(!q){T.cancel(),M("videoConstraints should be defined");return}navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:q}).then(function(J){O.onMediaStreamReceived(J,h,p,y,l,u).then(function(X){T.execute(),O.isScanning=!0,B(null)}).catch(function(X){T.cancel(),M(X)})}).catch(function(J){T.cancel(),M(Ji.errorGettingUserMedia(J))}):(T.cancel(),M(Ji.cameraStreamingNotSupported()))})},t.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Et.PAUSED),this.showPausedState(),(Qi(r)||r!==!0)&&(r=!1),r&&this.videoElement&&this.videoElement.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var r=this,s=function(){r.stateManagerProxy.directTransition(Et.SCANNING),r.hidePausedState()},l=this.videoElement.paused;if(!l){s();return}var u=function(){var h;setTimeout(s,200),(h=r.videoElement)===null||h===void 0||h.removeEventListener("playing",u)};this.videoElement.addEventListener("playing",u),this.videoElement.play()},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Et.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(!!r.element){var u=document.getElementById(fn.SHADED_REGION_ELEMENT_ID);u&&r.element.removeChild(u)}};return new Promise(function(u,h){var x=function(){r.localMediaStream=null,r.element&&(r.element.removeChild(r.videoElement),r.element.removeChild(r.canvasElement)),l(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),s.execute(),r.hidePausedState(),r.isScanning=!1,u()};r.localMediaStream||x();var p=r.localMediaStream.getVideoTracks().length,E=0;r.localMediaStream.getVideoTracks().forEach(function(C){r.localMediaStream.removeTrack(C),C.stop(),++E,E>=p&&x()})})},t.prototype.scanFile=function(r,s){return this.scanFileV2(r,s).then(function(l){return l.decodedText})},t.prototype.scanFileV2=function(r,s){var l=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qi(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(r);var x=new Image;x.onload=function(){var p=x.width,E=x.height,C=document.getElementById(l.elementId),y=C.clientWidth?C.clientWidth:fn.DEFAULT_WIDTH,O=Math.max(C.clientHeight?C.clientHeight:E,fn.FILE_SCAN_MIN_HEIGHT),T=l.computeCanvasDrawConfig(p,E,y,O);if(s){var B=l.createCanvasElement(y,O,"qr-canvas-visible");B.style.display="inline-block",C.appendChild(B);var M=B.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=y,M.canvas.height=O,M.drawImage(x,0,0,p,E,T.x,T.y,T.width,T.height)}var q=l.createCanvasElement(T.width,T.height);C.appendChild(q);var J=q.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=T.width,J.canvas.height=T.height,J.drawImage(x,0,0,p,E,0,0,T.width,T.height);try{l.qrcode.decodeAsync(q).then(function(X){u(Z0.createFromQrcodeResult(X))}).catch(h)}catch(X){h("QR code parse error, error = "+X)}},x.onerror=h,x.onabort=h,x.onstalled=h,x.onsuspend=h,x.src=URL.createObjectURL(r)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var r=MediaStreamTrack;if(MediaStreamTrack&&r.getSources)return t.getCamerasFromMediaStreamTrack();var s=function(){if(location.protocol==="https:")return!0;var u=location.host.split(":")[0];return u==="127.0.0.1"||u==="localhost"},l=Ji.unableToQuerySupportedDevices();return s()||(l=Ji.insecureContextCameraQueryError()),Promise.reject(l)},t.prototype.getRunningTrackCapabilities=function(){if(this.localMediaStream==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";var r=this.localMediaStream.getVideoTracks()[0];return r.getCapabilities()},t.prototype.applyVideoConstraints=function(r){var s=this;if(r){if(!$0.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";if(this.localMediaStream===null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";return new Promise(function(l,u){if("aspectRatio"in r){u("Chaning 'aspectRatio' in run-time is not yet supported.");return}var h=s.localMediaStream.getVideoTracks()[0];h.applyConstraints(r).then(function(x){l(x)}).catch(function(x){u(x)})})},t.getCamerasFromMediaDevices=function(){return new Promise(function(r,s){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(l){var u=function(h){for(var x=h.getVideoTracks(),p=0,E=x;p<E.length;p++){var C=E[p];C.enabled=!1,C.stop(),h.removeTrack(C)}};navigator.mediaDevices.enumerateDevices().then(function(h){for(var x=[],p=0,E=h;p<E.length;p++){var C=E[p];C.kind==="videoinput"&&x.push({id:C.deviceId,label:C.label})}u(l),r(x)}).catch(function(h){s(h.name+" : "+h.message)})}).catch(function(l){s(l.name+" : "+l.message)})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,s){var l=function(h){for(var x=[],p=0,E=h;p<E.length;p++){var C=E[p];C.kind==="video"&&x.push({id:C.id,label:C.label})}r(x)},u=MediaStreamTrack;u.getSources(l)})},t.prototype.getSupportedFormats=function(r){var s=[ge.QR_CODE,ge.AZTEC,ge.CODABAR,ge.CODE_39,ge.CODE_93,ge.CODE_128,ge.DATA_MATRIX,ge.MAXICODE,ge.ITF,ge.EAN_13,ge.EAN_8,ge.PDF_417,ge.RSS_14,ge.RSS_EXPANDED,ge.UPC_A,ge.UPC_E,ge.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return s;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],u=0,h=r.formatsToSupport;u<h.length;u++){var x=h[u];Q3(x)?l.push(x):this.logger.warn("Invalid format: "+x+" passed in config, ignoring.")}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},t.prototype.validateQrboxSize=function(r,s){var l=this,u=r.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(u),x=function(E){if(E<fn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+(" "+fn.MIN_QR_BOX_SIZE+"px.")},p=function(E){return E>s&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=s),E};x(h.width),x(h.height),h.width=p(h.width)},t.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(r){return typeof r=="number"?{width:r,height:r}:r},t.prototype.setupUi=function(r,s,l){var u=Qi(l.qrbox)?{width:r,height:s}:l.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(u);h.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=l.isShadedBoxEnabled()&&h.height<=s,p={x:0,y:0,width:r,height:s},E=x?this.getShadedRegionBounds(r,s,h):p,C=this.createCanvasElement(E.width,E.height),y=C.getContext("2d");y.canvas.width=E.width,y.canvas.height=E.height,this.element.append(C),x&&this.possiblyInsertShadingElement(this.element,r,s,h),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=y,this.canvasElement=C},t.prototype.createScannerPausedUiElement=function(r){var s=document.createElement("div");s.innerText="Scanner paused",s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="yellow",s.style.textAlign="center",s.style.width="100%",r.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(r,s){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return r(u.text,Z0.createFromQrcodeResult(u)),l.possiblyUpdateShaders(!0),!0}).catch(function(u){l.possiblyUpdateShaders(!1);var h=Ji.codeParseError(u);return s(h,eE.createFrom(h)),!1})},t.prototype.foreverScan=function(r,s,l){var u=this;if(!!this.shouldScan&&!!this.localMediaStream){var h=this.videoElement,x=h.videoWidth/h.clientWidth,p=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*x,C=this.qrRegion.height*p,y=this.qrRegion.x*x,O=this.qrRegion.y*p;this.context.drawImage(h,y,O,E,C,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(r,s,l)},u.getTimeoutFps(r.fps))};this.scanContext(s,l).then(function(B){!B&&r.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(s,l).finally(function(){T()})):T()}).catch(function(B){u.logger.logError("Error happend while scanning context",B),T()})}},t.prototype.onMediaStreamReceived=function(r,s,l,u,h,x){var p=this,E=this;return new Promise(function(C,y){var O=function(){var M=p.createVideoElement(u);E.element.append(M),M.onabort=y,M.onerror=y;var q=function(){var J=M.clientWidth,X=M.clientHeight;E.setupUi(J,X,s),E.foreverScan(s,h,x),M.removeEventListener("playing",q),C(null)};M.addEventListener("playing",q),M.srcObject=r,M.play(),E.videoElement=M};if(E.localMediaStream=r,l||!s.aspectRatio)O();else{var T={aspectRatio:s.aspectRatio},B=r.getVideoTracks()[0];B.applyConstraints(T).then(function(M){return O()}).catch(function(M){E.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",M]),O()})}})},t.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var s="facingMode",l="deviceId",u={user:!0,environment:!0},h="exact",x=function(M){if(M in u)return!0;throw"config has invalid 'facingMode' value = "+("'"+M+"'")},p=Object.keys(r);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+(" if passed as an object, found "+p.length+" keys");var E=Object.keys(r)[0];if(E!==s&&E!==l)throw"Only '"+s+"' and '"+l+"'  are supported for 'cameraIdOrConfig'";if(E===s){var C=r.facingMode;if(typeof C=="string"){if(x(C))return{facingMode:C}}else if(typeof C=="object")if(h in C){if(x(C[""+h]))return{facingMode:{exact:C[""+h]}}}else throw"'facingMode' should be string or object with"+(" "+h+" as key.");else{var y=typeof C;throw"Invalid type of 'facingMode' = "+y}}else{var O=r.deviceId;if(typeof O=="string")return{deviceId:O};if(typeof O=="object"){if(h in O)return{deviceId:{exact:O[""+h]}};throw"'deviceId' should be string or object with"+(" "+h+" as key.")}else{var T=typeof O;throw"Invalid type of 'deviceId' = "+T}}}var B=typeof r;throw"Invalid type of 'cameraIdOrConfig' = "+B},t.prototype.computeCanvasDrawConfig=function(r,s,l,u){if(r<=l&&s<=u){var h=(l-r)/2,x=(u-s)/2;return{x:h,y:x,width:r,height:s}}else{var p=r,E=s;return r>l&&(s=l/r*s,r=l),s>u&&(r=u/s*r,s=u),this.logger.log("Image downsampled from "+(p+"X"+E)+(" to "+r+"X"+s+".")),this.computeCanvasDrawConfig(r,s,l,u)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},t.prototype.createVideoElement=function(r){var s=document.createElement("video");return s.style.width=r+"px",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=r?fn.BORDER_SHADER_MATCH_COLOR:fn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(r,s,l){var u=r,h=s,x=document.createElement("canvas");return x.style.width=u+"px",x.style.height=h+"px",x.style.display="none",x.id=Qi(l)?"qr-canvas":l,x},t.prototype.getShadedRegionBounds=function(r,s,l){if(l.width>r||l.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-l.width)/2,y:(s-l.height)/2,width:l.width,height:l.height}},t.prototype.possiblyInsertShadingElement=function(r,s,l,u){if(!(s-u.width<1||l-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var x=(s-u.width)/2,p=(l-u.height)/2;if(h.style.borderLeft=x+"px solid #0000007a",h.style.borderRight=x+"px solid #0000007a",h.style.borderTop=p+"px solid #0000007a",h.style.borderBottom=p+"px solid #0000007a",h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id=""+fn.SHADED_REGION_ELEMENT_ID,s-u.width<11||l-u.height<11)this.hasBorderShaders=!1;else{var E=5,C=40;this.insertShaderBorders(h,C,E,-E,0,!0),this.insertShaderBorders(h,C,E,-E,0,!1),this.insertShaderBorders(h,C,E,u.height+E,0,!0),this.insertShaderBorders(h,C,E,u.height+E,0,!1),this.insertShaderBorders(h,E,C+E,-E,-E,!0),this.insertShaderBorders(h,E,C+E,u.height+E-C,-E,!0),this.insertShaderBorders(h,E,C+E,-E,-E,!1),this.insertShaderBorders(h,E,C+E,u.height+E-C,-E,!1),this.hasBorderShaders=!0}r.append(h)}},t.prototype.insertShaderBorders=function(r,s,l,u,h,x){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=fn.BORDER_SHADER_DEFAULT_COLOR,p.style.width=s+"px",p.style.height=l+"px",p.style.top=u+"px",x?p.style.left=h+"px":p.style.right=h+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),r.appendChild(p)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(r){return 1e3/r},t}(),Q0;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Q0||(Q0={}));/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const J0=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ui=t=>J0?Symbol(t):"_vr_"+t,gE=ui("rvlm"),eu=ui("rvd"),Ol=ui("r"),tu=ui("rl"),vl=ui("rvl"),fi=typeof window!="undefined";function xE(t){return t.__esModule||J0&&t[Symbol.toStringTag]==="Module"}const st=Object.assign;function Rl(t,r){const s={};for(const l in r){const u=r[l];s[l]=Array.isArray(u)?u.map(t):t(u)}return s}const eo=()=>{},pE=/\/$/,wE=t=>t.replace(pE,"");function Nl(t,r,s="/"){let l,u={},h="",x="";const p=r.indexOf("?"),E=r.indexOf("#",p>-1?p:0);return p>-1&&(l=r.slice(0,p),h=r.slice(p+1,E>-1?E:r.length),u=t(h)),E>-1&&(l=l||r.slice(0,E),x=r.slice(E,r.length)),l=CE(l!=null?l:r,s),{fullPath:l+(h&&"?")+h+x,path:l,query:u,hash:x}}function EE(t,r){const s=r.query?t(r.query):"";return r.path+(s&&"?")+s+(r.hash||"")}function nu(t,r){return!r||!t.toLowerCase().startsWith(r.toLowerCase())?t:t.slice(r.length)||"/"}function mE(t,r,s){const l=r.matched.length-1,u=s.matched.length-1;return l>-1&&l===u&&hi(r.matched[l],s.matched[u])&&ru(r.params,s.params)&&t(r.query)===t(s.query)&&r.hash===s.hash}function hi(t,r){return(t.aliasOf||t)===(r.aliasOf||r)}function ru(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(!AE(t[s],r[s]))return!1;return!0}function AE(t,r){return Array.isArray(t)?iu(t,r):Array.isArray(r)?iu(r,t):t===r}function iu(t,r){return Array.isArray(r)?t.length===r.length&&t.every((s,l)=>s===r[l]):t.length===1&&t[0]===r}function CE(t,r){if(t.startsWith("/"))return t;if(!t)return r;const s=r.split("/"),l=t.split("/");let u=s.length-1,h,x;for(h=0;h<l.length;h++)if(x=l[h],!(u===1||x==="."))if(x==="..")u--;else break;return s.slice(0,u).join("/")+"/"+l.slice(h-(h===l.length?1:0)).join("/")}var to;(function(t){t.pop="pop",t.push="push"})(to||(to={}));var no;(function(t){t.back="back",t.forward="forward",t.unknown=""})(no||(no={}));function _E(t){if(!t)if(fi){const r=document.querySelector("base");t=r&&r.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),wE(t)}const yE=/^[^#]+#/;function bE(t,r){return t.replace(yE,"#")+r}function IE(t,r){const s=document.documentElement.getBoundingClientRect(),l=t.getBoundingClientRect();return{behavior:r.behavior,left:l.left-s.left-(r.left||0),top:l.top-s.top-(r.top||0)}}const fs=()=>({left:window.pageXOffset,top:window.pageYOffset});function TE(t){let r;if("el"in t){const s=t.el,l=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?l?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;r=IE(u,t)}else r=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function ou(t,r){return(history.state?history.state.position-r:-1)+t}const Ml=new Map;function SE(t,r){Ml.set(t,r)}function OE(t){const r=Ml.get(t);return Ml.delete(t),r}let vE=()=>location.protocol+"//"+location.host;function su(t,r){const{pathname:s,search:l,hash:u}=r,h=t.indexOf("#");if(h>-1){let p=u.includes(t.slice(h))?t.slice(h).length:1,E=u.slice(p);return E[0]!=="/"&&(E="/"+E),nu(E,"")}return nu(s,t)+l+u}function RE(t,r,s,l){let u=[],h=[],x=null;const p=({state:T})=>{const B=su(t,location),M=s.value,q=r.value;let J=0;if(T){if(s.value=B,r.value=T,x&&x===M){x=null;return}J=q?T.position-q.position:0}else l(B);u.forEach(X=>{X(s.value,M,{delta:J,type:to.pop,direction:J?J>0?no.forward:no.back:no.unknown})})};function E(){x=s.value}function C(T){u.push(T);const B=()=>{const M=u.indexOf(T);M>-1&&u.splice(M,1)};return h.push(B),B}function y(){const{history:T}=window;!T.state||T.replaceState(st({},T.state,{scroll:fs()}),"")}function O(){for(const T of h)T();h=[],window.removeEventListener("popstate",p),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",p),window.addEventListener("beforeunload",y),{pauseListeners:E,listen:C,destroy:O}}function au(t,r,s,l=!1,u=!1){return{back:t,current:r,forward:s,replaced:l,position:window.history.length,scroll:u?fs():null}}function NE(t){const{history:r,location:s}=window,l={value:su(t,s)},u={value:r.state};u.value||h(l.value,{back:null,current:l.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function h(E,C,y){const O=t.indexOf("#"),T=O>-1?(s.host&&document.querySelector("base")?t:t.slice(O))+E:vE()+t+E;try{r[y?"replaceState":"pushState"](C,"",T),u.value=C}catch(B){console.error(B),s[y?"replace":"assign"](T)}}function x(E,C){const y=st({},r.state,au(u.value.back,E,u.value.forward,!0),C,{position:u.value.position});h(E,y,!0),l.value=E}function p(E,C){const y=st({},u.value,r.state,{forward:E,scroll:fs()});h(y.current,y,!0);const O=st({},au(l.value,E,null),{position:y.position+1},C);h(E,O,!1),l.value=E}return{location:l,state:u,push:p,replace:x}}function ME(t){t=_E(t);const r=NE(t),s=RE(t,r.state,r.location,r.replace);function l(h,x=!0){x||s.pauseListeners(),history.go(h)}const u=st({location:"",base:t,go:l,createHref:bE.bind(null,t)},r,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>r.state.value}),u}function Bm(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),ME(t)}function DE(t){return typeof t=="string"||t&&typeof t=="object"}function lu(t){return typeof t=="string"||typeof t=="symbol"}const Jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cu=ui("nf");var uu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(uu||(uu={}));function di(t,r){return st(new Error,{type:t,[cu]:!0},r)}function Sr(t,r){return t instanceof Error&&cu in t&&(r==null||!!(t.type&r))}const fu="[^/]+?",BE={sensitive:!1,strict:!1,start:!0,end:!0},PE=/[.+*?^${}()[\]/\\]/g;function LE(t,r){const s=st({},BE,r),l=[];let u=s.start?"^":"";const h=[];for(const C of t){const y=C.length?[]:[90];s.strict&&!C.length&&(u+="/");for(let O=0;O<C.length;O++){const T=C[O];let B=40+(s.sensitive?.25:0);if(T.type===0)O||(u+="/"),u+=T.value.replace(PE,"\\$&"),B+=40;else if(T.type===1){const{value:M,repeatable:q,optional:J,regexp:X}=T;h.push({name:M,repeatable:q,optional:J});const F=X||fu;if(F!==fu){B+=10;try{new RegExp(`(${F})`)}catch(K){throw new Error(`Invalid custom RegExp for param "${M}" (${F}): `+K.message)}}let j=q?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;O||(j=J&&C.length<2?`(?:/${j})`:"/"+j),J&&(j+="?"),u+=j,B+=20,J&&(B+=-8),q&&(B+=-20),F===".*"&&(B+=-50)}y.push(B)}l.push(y)}if(s.strict&&s.end){const C=l.length-1;l[C][l[C].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const x=new RegExp(u,s.sensitive?"":"i");function p(C){const y=C.match(x),O={};if(!y)return null;for(let T=1;T<y.length;T++){const B=y[T]||"",M=h[T-1];O[M.name]=B&&M.repeatable?B.split("/"):B}return O}function E(C){let y="",O=!1;for(const T of t){(!O||!y.endsWith("/"))&&(y+="/"),O=!1;for(const B of T)if(B.type===0)y+=B.value;else if(B.type===1){const{value:M,repeatable:q,optional:J}=B,X=M in C?C[M]:"";if(Array.isArray(X)&&!q)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const F=Array.isArray(X)?X.join("/"):X;if(!F)if(J)T.length<2&&(y.endsWith("/")?y=y.slice(0,-1):O=!0);else throw new Error(`Missing required param "${M}"`);y+=F}}return y}return{re:x,score:l,keys:h,parse:p,stringify:E}}function FE(t,r){let s=0;for(;s<t.length&&s<r.length;){const l=r[s]-t[s];if(l)return l;s++}return t.length<r.length?t.length===1&&t[0]===40+40?-1:1:t.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function kE(t,r){let s=0;const l=t.score,u=r.score;for(;s<l.length&&s<u.length;){const h=FE(l[s],u[s]);if(h)return h;s++}return u.length-l.length}const UE={type:0,value:""},HE=/[a-zA-Z0-9_]/;function VE(t){if(!t)return[[]];if(t==="/")return[[UE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function r(B){throw new Error(`ERR (${s})/"${C}": ${B}`)}let s=0,l=s;const u=[];let h;function x(){h&&u.push(h),h=[]}let p=0,E,C="",y="";function O(){!C||(s===0?h.push({type:0,value:C}):s===1||s===2||s===3?(h.length>1&&(E==="*"||E==="+")&&r(`A repeatable param (${C}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:C,regexp:y,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):r("Invalid state to consume buffer"),C="")}function T(){C+=E}for(;p<t.length;){if(E=t[p++],E==="\\"&&s!==2){l=s,s=4;continue}switch(s){case 0:E==="/"?(C&&O(),x()):E===":"?(O(),s=1):T();break;case 4:T(),s=l;break;case 1:E==="("?s=2:HE.test(E)?T():(O(),s=0,E!=="*"&&E!=="?"&&E!=="+"&&p--);break;case 2:E===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+E:s=3:y+=E;break;case 3:O(),s=0,E!=="*"&&E!=="?"&&E!=="+"&&p--,y="";break;default:r("Unknown state");break}}return s===2&&r(`Unfinished custom RegExp for param "${C}"`),O(),x(),u}function GE(t,r,s){const l=LE(VE(t.path),s),u=st(l,{record:t,parent:r,children:[],alias:[]});return r&&!u.record.aliasOf==!r.record.aliasOf&&r.children.push(u),u}function XE(t,r){const s=[],l=new Map;r=du({strict:!1,end:!0,sensitive:!1},r);function u(y){return l.get(y)}function h(y,O,T){const B=!T,M=jE(y);M.aliasOf=T&&T.record;const q=du(r,y),J=[M];if("alias"in y){const j=typeof y.alias=="string"?[y.alias]:y.alias;for(const K of j)J.push(st({},M,{components:T?T.record.components:M.components,path:K,aliasOf:T?T.record:M}))}let X,F;for(const j of J){const{path:K}=j;if(O&&K[0]!=="/"){const ae=O.record.path,W=ae[ae.length-1]==="/"?"":"/";j.path=O.record.path+(K&&W+K)}if(X=GE(j,O,q),T?T.alias.push(X):(F=F||X,F!==X&&F.alias.push(X),B&&y.name&&!hu(X)&&x(y.name)),"children"in M){const ae=M.children;for(let W=0;W<ae.length;W++)h(ae[W],X,T&&T.children[W])}T=T||X,E(X)}return F?()=>{x(F)}:eo}function x(y){if(lu(y)){const O=l.get(y);O&&(l.delete(y),s.splice(s.indexOf(O),1),O.children.forEach(x),O.alias.forEach(x))}else{const O=s.indexOf(y);O>-1&&(s.splice(O,1),y.record.name&&l.delete(y.record.name),y.children.forEach(x),y.alias.forEach(x))}}function p(){return s}function E(y){let O=0;for(;O<s.length&&kE(y,s[O])>=0;)O++;s.splice(O,0,y),y.record.name&&!hu(y)&&l.set(y.record.name,y)}function C(y,O){let T,B={},M,q;if("name"in y&&y.name){if(T=l.get(y.name),!T)throw di(1,{location:y});q=T.record.name,B=st(WE(O.params,T.keys.filter(F=>!F.optional).map(F=>F.name)),y.params),M=T.stringify(B)}else if("path"in y)M=y.path,T=s.find(F=>F.re.test(M)),T&&(B=T.parse(M),q=T.record.name);else{if(T=O.name?l.get(O.name):s.find(F=>F.re.test(O.path)),!T)throw di(1,{location:y,currentLocation:O});q=T.record.name,B=st({},O.params,y.params),M=T.stringify(B)}const J=[];let X=T;for(;X;)J.unshift(X.record),X=X.parent;return{name:q,path:M,params:B,matched:J,meta:YE(J)}}return t.forEach(y=>h(y)),{addRoute:h,resolve:C,removeRoute:x,getRoutes:p,getRecordMatcher:u}}function WE(t,r){const s={};for(const l of r)l in t&&(s[l]=t[l]);return s}function jE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:zE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function zE(t){const r={},s=t.props||!1;if("component"in t)r.default=s;else for(const l in t.components)r[l]=typeof s=="boolean"?s:s[l];return r}function hu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function YE(t){return t.reduce((r,s)=>st(r,s.meta),{})}function du(t,r){const s={};for(const l in t)s[l]=l in r?r[l]:t[l];return s}const gu=/#/g,KE=/&/g,ZE=/\//g,$E=/=/g,qE=/\?/g,xu=/\+/g,QE=/%5B/g,JE=/%5D/g,pu=/%5E/g,em=/%60/g,wu=/%7B/g,tm=/%7C/g,Eu=/%7D/g,nm=/%20/g;function Dl(t){return encodeURI(""+t).replace(tm,"|").replace(QE,"[").replace(JE,"]")}function rm(t){return Dl(t).replace(wu,"{").replace(Eu,"}").replace(pu,"^")}function Bl(t){return Dl(t).replace(xu,"%2B").replace(nm,"+").replace(gu,"%23").replace(KE,"%26").replace(em,"`").replace(wu,"{").replace(Eu,"}").replace(pu,"^")}function im(t){return Bl(t).replace($E,"%3D")}function om(t){return Dl(t).replace(gu,"%23").replace(qE,"%3F")}function sm(t){return t==null?"":om(t).replace(ZE,"%2F")}function hs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function am(t){const r={};if(t===""||t==="?")return r;const l=(t[0]==="?"?t.slice(1):t).split("&");for(let u=0;u<l.length;++u){const h=l[u].replace(xu," "),x=h.indexOf("="),p=hs(x<0?h:h.slice(0,x)),E=x<0?null:hs(h.slice(x+1));if(p in r){let C=r[p];Array.isArray(C)||(C=r[p]=[C]),C.push(E)}else r[p]=E}return r}function mu(t){let r="";for(let s in t){const l=t[s];if(s=im(s),l==null){l!==void 0&&(r+=(r.length?"&":"")+s);continue}(Array.isArray(l)?l.map(h=>h&&Bl(h)):[l&&Bl(l)]).forEach(h=>{h!==void 0&&(r+=(r.length?"&":"")+s,h!=null&&(r+="="+h))})}return r}function lm(t){const r={};for(const s in t){const l=t[s];l!==void 0&&(r[s]=Array.isArray(l)?l.map(u=>u==null?null:""+u):l==null?l:""+l)}return r}function ro(){let t=[];function r(l){return t.push(l),()=>{const u=t.indexOf(l);u>-1&&t.splice(u,1)}}function s(){t=[]}return{add:r,list:()=>t,reset:s}}function er(t,r,s,l,u){const h=l&&(l.enterCallbacks[u]=l.enterCallbacks[u]||[]);return()=>new Promise((x,p)=>{const E=O=>{O===!1?p(di(4,{from:s,to:r})):O instanceof Error?p(O):DE(O)?p(di(2,{from:r,to:O})):(h&&l.enterCallbacks[u]===h&&typeof O=="function"&&h.push(O),x())},C=t.call(l&&l.instances[u],r,s,E);let y=Promise.resolve(C);t.length<3&&(y=y.then(E)),y.catch(O=>p(O))})}function Pl(t,r,s,l){const u=[];for(const h of t)for(const x in h.components){let p=h.components[x];if(!(r!=="beforeRouteEnter"&&!h.instances[x]))if(cm(p)){const C=(p.__vccOpts||p)[r];C&&u.push(er(C,s,l,h,x))}else{let E=p();u.push(()=>E.then(C=>{if(!C)return Promise.reject(new Error(`Couldn't resolve component "${x}" at "${h.path}"`));const y=xE(C)?C.default:C;h.components[x]=y;const T=(y.__vccOpts||y)[r];return T&&er(T,s,l,h,x)()}))}}return u}function cm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Au(t){const r=Wn(Ol),s=Wn(tu),l=In(()=>r.resolve(vi(t.to))),u=In(()=>{const{matched:E}=l.value,{length:C}=E,y=E[C-1],O=s.matched;if(!y||!O.length)return-1;const T=O.findIndex(hi.bind(null,y));if(T>-1)return T;const B=Cu(E[C-2]);return C>1&&Cu(y)===B&&O[O.length-1].path!==B?O.findIndex(hi.bind(null,E[C-2])):T}),h=In(()=>u.value>-1&&dm(s.params,l.value.params)),x=In(()=>u.value>-1&&u.value===s.matched.length-1&&ru(s.params,l.value.params));function p(E={}){return hm(E)?r[vi(t.replace)?"replace":"push"](vi(t.to)).catch(eo):Promise.resolve()}return{route:l,href:In(()=>l.value.href),isActive:h,isExactActive:x,navigate:p}}const um=j1({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Au,setup(t,{slots:r}){const s=Ti(Au(t)),{options:l}=Wn(Ol),u=In(()=>({[_u(t.activeClass,l.linkActiveClass,"router-link-active")]:s.isActive,[_u(t.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const h=r.default&&r.default(s);return t.custom?h:Ca("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},h)}}}),fm=um;function hm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const r=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return t.preventDefault&&t.preventDefault(),!0}}function dm(t,r){for(const s in r){const l=r[s],u=t[s];if(typeof l=="string"){if(l!==u)return!1}else if(!Array.isArray(u)||u.length!==l.length||l.some((h,x)=>h!==u[x]))return!1}return!0}function Cu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _u=(t,r,s)=>t!=null?t:r!=null?r:s,gm=j1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:r,slots:s}){const l=Wn(vl),u=In(()=>t.route||l.value),h=Wn(eu,0),x=In(()=>u.value.matched[h]);No(eu,h+1),No(gE,x),No(vl,u);const p=zf();return Bi(()=>[p.value,x.value,t.name],([E,C,y],[O,T,B])=>{C&&(C.instances[y]=E,T&&T!==C&&E&&E===O&&(C.leaveGuards.size||(C.leaveGuards=T.leaveGuards),C.updateGuards.size||(C.updateGuards=T.updateGuards))),E&&C&&(!T||!hi(C,T)||!O)&&(C.enterCallbacks[y]||[]).forEach(M=>M(E))},{flush:"post"}),()=>{const E=u.value,C=x.value,y=C&&C.components[t.name],O=t.name;if(!y)return yu(s.default,{Component:y,route:E});const T=C.props[t.name],B=T?T===!0?E.params:typeof T=="function"?T(E):T:null,q=Ca(y,st({},B,r,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(C.instances[O]=null)},ref:p}));return yu(s.default,{Component:q,route:E})||q}}});function yu(t,r){if(!t)return null;const s=t(r);return s.length===1?s[0]:s}const xm=gm;function Pm(t){const r=XE(t.routes,t),s=t.parseQuery||am,l=t.stringifyQuery||mu,u=t.history,h=ro(),x=ro(),p=ro(),E=Yf(Jn);let C=Jn;fi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=Rl.bind(null,L=>""+L),O=Rl.bind(null,sm),T=Rl.bind(null,hs);function B(L,Ee){let te,Ae;return lu(L)?(te=r.getRecordMatcher(L),Ae=Ee):Ae=L,r.addRoute(Ae,te)}function M(L){const Ee=r.getRecordMatcher(L);Ee&&r.removeRoute(Ee)}function q(){return r.getRoutes().map(L=>L.record)}function J(L){return!!r.getRecordMatcher(L)}function X(L,Ee){if(Ee=st({},Ee||E.value),typeof L=="string"){const he=Nl(s,L,Ee.path),S=r.resolve({path:he.path},Ee),N=u.createHref(he.fullPath);return st(he,S,{params:T(S.params),hash:hs(he.hash),redirectedFrom:void 0,href:N})}let te;if("path"in L)te=st({},L,{path:Nl(s,L.path,Ee.path).path});else{const he=st({},L.params);for(const S in he)he[S]==null&&delete he[S];te=st({},L,{params:O(L.params)}),Ee.params=O(Ee.params)}const Ae=r.resolve(te,Ee),Ge=L.hash||"";Ae.params=y(T(Ae.params));const De=EE(l,st({},L,{hash:rm(Ge),path:Ae.path})),Re=u.createHref(De);return st({fullPath:De,hash:Ge,query:l===mu?lm(L.query):L.query||{}},Ae,{redirectedFrom:void 0,href:Re})}function F(L){return typeof L=="string"?Nl(s,L,E.value.path):st({},L)}function j(L,Ee){if(C!==L)return di(8,{from:Ee,to:L})}function K(L){return re(L)}function ae(L){return K(st(F(L),{replace:!0}))}function W(L){const Ee=L.matched[L.matched.length-1];if(Ee&&Ee.redirect){const{redirect:te}=Ee;let Ae=typeof te=="function"?te(L):te;return typeof Ae=="string"&&(Ae=Ae.includes("?")||Ae.includes("#")?Ae=F(Ae):{path:Ae},Ae.params={}),st({query:L.query,hash:L.hash,params:L.params},Ae)}}function re(L,Ee){const te=C=X(L),Ae=E.value,Ge=L.state,De=L.force,Re=L.replace===!0,he=W(te);if(he)return re(st(F(he),{state:Ge,force:De,replace:Re}),Ee||te);const S=te;S.redirectedFrom=Ee;let N;return!De&&mE(l,Ae,te)&&(N=di(16,{to:S,from:Ae}),On(Ae,Ae,!0,!1)),(N?Promise.resolve(N):ve(S,Ae)).catch(G=>Sr(G)?G:We(G,S,Ae)).then(G=>{if(G){if(Sr(G,2))return re(st(F(G.to),{state:Ge,force:De,replace:Re}),Ee||S)}else G=ue(S,Ae,!0,Re,Ge);return Te(S,Ae,G),G})}function Y(L,Ee){const te=j(L,Ee);return te?Promise.reject(te):Promise.resolve()}function ve(L,Ee){let te;const[Ae,Ge,De]=pm(L,Ee);te=Pl(Ae.reverse(),"beforeRouteLeave",L,Ee);for(const he of Ae)he.leaveGuards.forEach(S=>{te.push(er(S,L,Ee))});const Re=Y.bind(null,L,Ee);return te.push(Re),gi(te).then(()=>{te=[];for(const he of h.list())te.push(er(he,L,Ee));return te.push(Re),gi(te)}).then(()=>{te=Pl(Ge,"beforeRouteUpdate",L,Ee);for(const he of Ge)he.updateGuards.forEach(S=>{te.push(er(S,L,Ee))});return te.push(Re),gi(te)}).then(()=>{te=[];for(const he of L.matched)if(he.beforeEnter&&!Ee.matched.includes(he))if(Array.isArray(he.beforeEnter))for(const S of he.beforeEnter)te.push(er(S,L,Ee));else te.push(er(he.beforeEnter,L,Ee));return te.push(Re),gi(te)}).then(()=>(L.matched.forEach(he=>he.enterCallbacks={}),te=Pl(De,"beforeRouteEnter",L,Ee),te.push(Re),gi(te))).then(()=>{te=[];for(const he of x.list())te.push(er(he,L,Ee));return te.push(Re),gi(te)}).catch(he=>Sr(he,8)?he:Promise.reject(he))}function Te(L,Ee,te){for(const Ae of p.list())Ae(L,Ee,te)}function ue(L,Ee,te,Ae,Ge){const De=j(L,Ee);if(De)return De;const Re=Ee===Jn,he=fi?history.state:{};te&&(Ae||Re?u.replace(L.fullPath,st({scroll:Re&&he&&he.scroll},Ge)):u.push(L.fullPath,Ge)),E.value=L,On(L,Ee,te,Re),mt()}let se;function be(){se=u.listen((L,Ee,te)=>{const Ae=X(L),Ge=W(Ae);if(Ge){re(st(Ge,{replace:!0}),Ae).catch(eo);return}C=Ae;const De=E.value;fi&&SE(ou(De.fullPath,te.delta),fs()),ve(Ae,De).catch(Re=>Sr(Re,4|8)?Re:Sr(Re,2)?(re(Re.to,Ae).then(he=>{Sr(he,4|16)&&!te.delta&&te.type===to.pop&&u.go(-1,!1)}).catch(eo),Promise.reject()):(te.delta&&u.go(-te.delta,!1),We(Re,Ae,De))).then(Re=>{Re=Re||ue(Ae,De,!1),Re&&(te.delta?u.go(-te.delta,!1):te.type===to.pop&&Sr(Re,4|16)&&u.go(-1,!1)),Te(Ae,De,Re)}).catch(eo)})}let V=ro(),Je=ro(),we;function We(L,Ee,te){mt(L);const Ae=Je.list();return Ae.length?Ae.forEach(Ge=>Ge(L,Ee,te)):console.error(L),Promise.reject(L)}function ke(){return we&&E.value!==Jn?Promise.resolve():new Promise((L,Ee)=>{V.add([L,Ee])})}function mt(L){we||(we=!0,be(),V.list().forEach(([Ee,te])=>L?te(L):Ee()),V.reset())}function On(L,Ee,te,Ae){const{scrollBehavior:Ge}=t;if(!fi||!Ge)return Promise.resolve();const De=!te&&OE(ou(L.fullPath,0))||(Ae||!te)&&history.state&&history.state.scroll||null;return R1().then(()=>Ge(L,Ee,De)).then(Re=>Re&&TE(Re)).catch(Re=>We(Re,L,Ee))}const ct=L=>u.go(L);let bt;const et=new Set;return{currentRoute:E,addRoute:B,removeRoute:M,hasRoute:J,getRoutes:q,resolve:X,options:t,push:K,replace:ae,go:ct,back:()=>ct(-1),forward:()=>ct(1),beforeEach:h.add,beforeResolve:x.add,afterEach:p.add,onError:Je.add,isReady:ke,install(L){const Ee=this;L.component("RouterLink",fm),L.component("RouterView",xm),L.config.globalProperties.$router=Ee,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>vi(E)}),fi&&!bt&&E.value===Jn&&(bt=!0,K(u.location).catch(Ge=>{}));const te={};for(const Ge in Jn)te[Ge]=In(()=>E.value[Ge]);L.provide(Ol,Ee),L.provide(tu,Ti(te)),L.provide(vl,E);const Ae=L.unmount;et.add(L),L.unmount=function(){et.delete(L),et.size<1&&(C=Jn,se&&se(),E.value=Jn,bt=!1,we=!1),Ae()}}}}function gi(t){return t.reduce((r,s)=>r.then(()=>s()),Promise.resolve())}function pm(t,r){const s=[],l=[],u=[],h=Math.max(r.matched.length,t.matched.length);for(let x=0;x<h;x++){const p=r.matched[x];p&&(t.matched.find(C=>hi(C,p))?l.push(p):s.push(p));const E=t.matched[x];E&&(r.matched.find(C=>hi(C,E))||u.push(E))}return[s,l,u]}export{Bm as A,Mm as B,_n as F,Dm as H,Am as K,vc as T,pc as a,mm as b,bm as c,Bi as d,_m as e,Sm as f,Rm as g,Tm as h,$t as i,Nm as j,vm as k,Ti as l,aa as m,ns as n,Hh as o,Em as p,Im as q,zf as r,ih as s,wm as t,Gh as u,Om as v,Cm as w,ym as x,jh as y,Pm as z};
